<html>
  <head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="https://i.ibb.co/2yCy9yW/buildable-logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <style>

      body {
    background: #1e1f23;
    margin:0;
    padding:0;
    font-family: 'poppins';
    min-block-size: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

body::-webkit-scrollbar{
 width: 10px;
 background-color: transparent;
 border-radius: 10px;
  }

::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 10px;
}


.material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 24
}

.image-container {
            inline-size: 100%;
            block-size: 100%;
            position: relative;
            perspective: 1000px;
            overflow: hidden;
        }
        
        .image-container img {
            inline-size: 100%;
            block-size: 100%;
            position: absolute;
            inset-block-start: 0;
            inset-inline-start: 0;
            animation: float 6s infinite alternate ease-in-out;
        }
        
        @keyframes float {
            0% {
                transform: translate3d(0, 0, 0);
            }
            50% {
                transform: translate3d(10px, 10px, 50px) rotateX(20deg) rotateY(10deg);
            }
            100% {
                transform: translate3d(0, 0, 0);
            }
        }

  .login-box {
    inline-size: 400px;
    padding: 40px;
    background: rgba(0, 0, 0, 0.667);
    box-sizing: border-box;
    box-shadow: 0 15px 25px rgba(0, 0, 0, 0.664);
    border-radius: 15px;
  }
  
  .login-box h2 {
    margin: 0 0 30px;
    padding: 0;
    color: #fff;
    text-align: center;
  }
  
  .login-box .user-box {
    position: relative;
  }
  
  .login-box .user-box input {
    inline-size: 100%;
    padding: 10px 0;
    font-size: 16px;
    color: #fff;
    margin-block-end: 30px;
    border: none;
    border-block-end: 1px solid #fff;
    outline: none;
    background: transparent; 
  }
  .login-box .user-box label {
    position: absolute;
    inset-block-start:0;
    inset-inline-start: 0;
    padding: 10px 0;
    font-size: 16px;
    color: #fff;
    pointer-events: none;
    transition: .5s;
  }
  
  .login-box .user-box input:focus ~ label,
  .login-box .user-box input:active ~ label{
    inset-block-start: -20px;
    inset-inline-start: 0;
    color: #0d784b;
    font-size: 12px;
  }
  
  .login-box form a {
    position: relative;
    display: inline-block;
    padding: 10px 20px;
    color: #0d784b;
    font-size: 16px;
    text-decoration: none;
    text-transform: uppercase;
    overflow: hidden;
    transition: .5s;
    margin-block-start: 40px;
    letter-spacing: 4px
  }
  
  .login-box a:hover {
    background: #0d784b;
    color: #fff;
    border-radius: 8px;
    box-shadow: 0 0 5px #166745,
                0 0 25px #133f2d,
                0 0 50px #2f805e,
                0 0 100px #0d784b;
  }
  
  .login-box a span {
    position: absolute;
    display: block;
  }
  
  .login-box a span:nth-child(1) {
    inset-block-start: 0;
    inset-inline-start: -100%;
    inline-size: 100%;
    block-size: 2px;
    background: linear-gradient(90deg, transparent, #0d784b);
    animation: btn-anim1 3s linear infinite;
  }
  
  @keyframes btn-anim1 {
    0% {
      inset-inline-start: -100%;
    }
    50%,100% {
      inset-inline-start: 100%;
    }
  }
  
  .login-box a span:nth-child(2) {
    inset-block-start: -100%;
    inset-inline-end: 0;
    inline-size: 2px;
    block-size: 100%;
    background: linear-gradient(180deg, transparent, #0d784b);
    animation: btn-anim2 3s linear infinite;
    animation-delay: .25s
  }
  
  @keyframes btn-anim2 {
    0% {
      inset-block-start: -100%;
    }
    50%,100% {
      inset-block-start: 100%;
    }
  }
  
  .login-box a span:nth-child(3) {
    inset-block-end: 0;
    inset-inline-end: -100%;
    inline-size: 100%;
    block-size: 2px;
    background: linear-gradient(270deg, transparent, #0d784b);
    animation: btn-anim3 3s linear infinite;
    animation-delay: .5s
  }
  
  @keyframes btn-anim3 {
    0% {
      inset-inline-end: -100%;
    }
    50%,100% {
      inset-inline-end: 100%;
    }
  }
  
  .login-box a span:nth-child(4) {
    inset-block-end: -100%;
    inset-inline-start: 0;
    inline-size: 2px;
    block-size: 100%;
    background: linear-gradient(360deg, transparent, #0d784b);
    animation: btn-anim4 3s linear infinite;
    animation-delay: .75s
  }
  
  @keyframes btn-anim4 {
    0% {
      inset-block-end: -100%;
    }
    50%,100% {
      inset-block-end: 100%;
    }
  }

  #access_interface{
    block-size: 100%;
    inline-size: 100%;
  }

  /*logged_interface*/

   #logged_interface{
    display: none;
    flex-direction: column;
    inline-size: 100%;
    block-size: 100%;
   }

   #up_bar{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    inline-size: 100%;
    background-color: #27282b;
    block-size: 6vh;
   }

   .upbar_button{
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    border: transparent;
    color: white;
    font-family: 'Poppins';
   }

  /*home_interface*/

  #home_interface{
    inline-size: 100%;
    block-size: 94%;
  }

  .card1{
    background: #27282b;
    border-radius: 15px;
    padding: 20px;
  }

  /*builder_interface*/


  #builder_interface{
    display: flex;
    flex-direction: column;
    block-size: 94%;
    inline-size: 100%;
    align-items: center;
  }

   /* Stile per l'area dell'editor di codice */


        .html_component{
          color: white;
          display: flex;
          flex-direction: row;
          justify-content: left;
          align-items: center;
        }

        .html_component_button{
          background-color: transparent;
          border: transparent;
          color: white;
          font-family: 'poppins';
          font-size: 16px;
        }

        #builder_left_bar{
          text-align: left;
          overflow-x: hidden;
          padding-left: 10px;
          width: 12%;
          display: flex; 
          flex-direction: column;
          block-size: 90%;
          background-color: #27282b;
          align-items: left;
          border-top-right-radius: 20px;
          border-bottom-right-radius: 20px;
          border-color: white;
          border-width: 2px;
        }

        #builder_left_bar::-webkit-scrollbar{
 width: 10px;
 background-color: transparent;
 border-radius: 10px;
  }

::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 10px;
}


        #right_bar{
          display: flex; 
          flex-direction: column;
          block-size: 90%;
          width: 13%;
          overflow-y: hidden;
          overflow-x: hidden;
          background-color: #27282b;
          align-items: left;
          border-top-left-radius: 20px;
          border-bottom-left-radius: 20px;
          padding-inline-start: 10px;
          border-color: white;
          border-width: 2px;    
        }

     /*manage_proprieties*/

     #manage_proprieties{
      background-color: #333;
      border-radius: 15px;
      margin-block-end: 30px;
     }
     
     .input-group {
  position: relative;
}
 

.input {
  width: 100%;
  border: solid 1.5px #9e9e9e;
  border-radius: 1rem;
  background: none;
  padding: 1rem;
  font-size: 1rem;
  color: #f5f5f5;
  transition: border 150ms cubic-bezier(0.4, 0, 0.2, 1);
  font-family: 'poppins';
}

.user-label {
  position: absolute;
  inset-inline-start: 15px;
  color: #e8e8e8;
  pointer-events: none;
  transform: translateY(1rem);
  transition: 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.input:focus, input:valid {
  outline: none;
  border: 2px solid #ffffff;
}

.input:focus + .user-label, input:valid + .user-label, .input:placeholder-shown + .user-label {
  transform: translateY(-50%) scale(0.8);
  background-color: #212121;
  border-radius: 12px;
  padding: 0 .2em;
  color: white;
}

.input::-webkit-input-placeholder {
  color: transparent;
}

.input::-moz-placeholder {
  color: transparent;
}

.input:-ms-input-placeholder {
  color: transparent;
}

.input::placeholder {
  color: transparent;
}


.input-group {
  position: relative;
}
 


.input1 {
  border: solid 1.5px #9e9e9e;
  border-radius: 1rem;
  background: none;
  padding: 1rem;
  font-size: 1rem;
  color: #f5f5f5;
  transition: border 150ms cubic-bezier(0.4, 0, 0.2, 1);
  font-family: 'poppins';
}

.user-label {
  position: absolute;
  inset-inline-start: 15px;
  color: #e8e8e8;
  pointer-events: none;
  transform: translateY(1rem);
  transition: 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.input1:focus, input:valid {
  outline: none;
  border: 2px solid #ffffff;
}

.input1:focus + .user-label, input:valid + .user-label, .input:placeholder-shown + .user-label {
  transform: translateY(-50%) scale(0.8);
  background-color: #212121;
  border-radius: 12px;
  padding: 0 .2em;
  color: white;
}


     /*drag_and_drop_interface*/

     .drag_card {
      cursor: pointer;
    }
    #textbox2 {
      inline-size: 100%;
      block-size: 10%;
      color: white;
      text-align: center;
      justify-content: center;
      align-items: center;
    }

    ::placeholder {
    color: #ffffff;
    font-family: 'poppins';
  }


            /* Stili CSS per la textarea e l'iframe */
            #editor-container {
            block-size: 550px;
            inline-size: 550px;
            display: none;
        }

        #code-input{
          white-space: nowrap;
            overflow-x: auto;
        }

        #preview-container {
            inline-size: 380px;
            block-size: 550px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }

        .textarea1 {
            inline-size: 100%;
            block-size: 100%;
            color: white;
            background-color: #27282b;
            border-radius: 20px;
            resize: none;
            border: transparent;
            padding: 20px;
        }

        .textarea2{
            inline-size: 100%;
            block-size: 10%;
            color: white;
            background-color: #27282b;
            text-align: center;
            resize: none;
            border-end-end-radius: 20px;
            border-end-start-radius: 20px;
        }

        iframe {
            inline-size: 100%;
            block-size: 100%;
            border: 1px solid #ffffff;
            background-color: white;
          border-top-right-radius: 20px;
          border-top-left-radius: 20px;
        }


        #control_panel1{
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
        }



        .up_down_button{
          background-color: #0d784b;
          border-radius: 12px;
          font-size: 20px;
          inline-size: 40px;
          block-size: 40px;
          border-color: transparent;
          color: white;
          font-weight: bold;
        }



        
  /*LOGIN_SIGN_UP_PAGE*/

  
.form {
font-family: 'Poppins';
display: flex;
flex-direction: column;
gap: 10px;
padding-block-end: 0.4em;
background-color: #383840FF;
border-radius: 15px;
padding: 0;
margin: 0;
}

#heading {
text-align: center;
margin: 2em;
color: rgb(255, 255, 255);
font-size: 1.2em;
}

.field {
display: flex;
align-items: center;
justify-content: center;
gap: 0.5em;
border-radius: 25px;
padding: 0.6em;
border: none;
outline: none;
color: white;
background-color: rgb(70, 70, 77);
margin-inline-start: 30px;
margin-inline-end: 30px;
}

.input-icon {
block-size: 1.3em;
inline-size: 1.3em;
fill: white;
}

.input-field {
font-family: 'Poppins';
background: none;
border: none;
outline: none;
inline-size: 100%;
color: white;
}

.form .btn {
display: flex;
justify-content: center;
flex-direction: row;
margin-block-start: 2.5em;
}

.button1 {
font-family: 'Poppins';
padding: 0.5em;
padding-inline-start: 1.1em;
padding-inline-end: 1.1em;
border-radius: 5px;
margin-inline-end: 0.5em;
border: none;
outline: none;
transition: .4s ease-in-out;
background-color: rgb(70, 70, 77);
color: white;
}

.button1:hover {
background-color: rgb(46, 46, 61);
color: white;
}

.button2 {
font-family: 'Poppins';
padding: 0.5em;
padding-inline-start: 2.3em;
padding-inline-end: 2.3em;
border-radius: 5px;
border: none;
outline: none;
transition: .4s ease-in-out;
background-color: rgb(70, 70, 77);
color: white;
}

.button2:hover {
background-color: rgb(46, 46, 61);
color: white;
}



@media screen and (min-width: 1920px) {

    #up_bar{
      height: 6% !important;
    }

    #home_interface{
      block-size: 92% !important;
    }

    #builder_interface{
      block-size: 92% !important;
    }

    .project_settings_form{
      inline-size: 50% !important;
      block-size: 70% !important;
    }

    .account_settings_form{
      inline-size: 50% !important;
      block-size: 70% !important;
    }
    
    }

@media screen and (max-width: 1919px){

  #right_bar{
    width: 16%;
  }

  #builder_left_bar{
    width: auto !important;
  }


  #up_bar{
      height: 8% !important;
    }

    #home_interface{
      block-size: 92% !important;
    }

    #builder_interface{
      block-size: 92% !important;
    }

    .project_settings_form{
      inline-size: 50% !important;
      block-size: 70% !important;
    }

    .account_settings_form{
      inline-size: 50% !important;
      block-size: 70% !important;
    }
    
}

    button3 {
 outline: none;
 cursor: pointer;
 border: 1px solid rgba(255, 255, 255, 0.237);
 padding: 0.9rem 2rem;
 margin: 0;
 font-family: 'Poppins';
 font-size: inherit;
 position: relative;
 display: inline-block;
 letter-spacing: 0.05rem;
 font-weight: 700;
 font-size: 17px;
 border-radius: 500px;
 overflow: hidden;
 background: #20222a;
 color: white;

}

button3 span {
 position: relative;
 z-index: 10;
 transition: color 0.4s;
}

button3:hover span {
 color: white;
}

button3::before,
button3::after {
 position: absolute;
 inset-block-start: 0;
 inset-inline-start: 0;
 inline-size: 100%;
 block-size: 100%;
 z-index: 0;
}

button3::before {
 content: "";
 background: #27282b;
 inline-size: 120%;
 inset-inline-start: -10%;
 transform: skew(30deg);
 transition: transform 0.4s cubic-bezier(0.3, 1, 0.8, 1);
}

button3:hover::before {
 transform: translate3d(100%, 0, 0);
}



.project_dinamic_card{
  block-size: 150px;
  max-inline-size: 300px;
  flex: 1;
  margin-inline-start: 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  background-color: #27282b;
  border-radius: 15px;
  padding: 10px;
}

.project_dinamic_image{
  border-radius: 20px;
  inline-size: 70px;
  margin-inline-end: 10px;
}

.project_dinamic_separator{
  inline-size: 95%;
  block-size: 1px;
  background-color: white;
  margin-block-start: 10px;
}

.row_div{
  inline-size: 100%;
  display: flex;
  flex-direction: row;
  align-items: top;
  justify-content: left;
}

.dinamic_button_div{
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  inline-size: 90%;
  margin-block-start: 20px;
}


.dinamic_button1{
  font-family: 'Poppins';
  color: white;
  border: solid 1px rgba(128, 128, 128, 0.361);
  background-color: #27282b;
  padding: 5px;
  padding-inline-start: 10px;
  padding-inline-end: 10px;
  border-radius: 10px;
}


.dinamic_button1:hover{
  background-color: #2f805e;
}

.dinamic_button2{
  font-family: 'Poppins';
  color: white;
  border: solid 1px rgba(128, 128, 128, 0.361);
  background-color: #27282b;
  padding: 5px;
  padding-inline-start: 10px;
  padding-inline-end: 10px;
  border-radius: 10px;
}


.dinamic_button2:hover{
  background-color: #a42a2a;
}


.delete_account_card{
      inline-size: 250px;
      border-radius: 12px;
      background-color: #383840FF;
      display: flex;
      text-align: center;
      justify-content: center;
  
  }


  .scrolldiv0::-webkit-scrollbar{
 width: 10px;
 background-color: transparent;
 border-radius: 10px;
  }

::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 10px;
}


    </style>
  </head>
<body>
  

  <div id="master_container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100vh;">
  <div id="log_interface" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">

    <div style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <h1 style="margin-block-start: 0px; font-family:Arial, Helvetica, sans-serif; font-weight: bold; color: white; font-size: 100px; margin-block-end: 0px;">&lt;/&gt;</h1>
    <h1 class="notranslate" style="color: white; margin-block-start: -20px; margin-block-end: 0px;">Buildable</h1>
    <p style="color: white; margin-block-start: 0px;">Coding revolution</p>
    </div>

    <form style="margin-block-start: 20px; padding-inline-start: 20px; padding-inline-end: 20px;" class="form">
      <p id="heading">Login or register</p>
      <div class="field">
        <input id="access_email" autocomplete="off" placeholder="E-mail" class="input-field" type="text" style="border: none;">
      </div>
      <div class="field">
        <input id="access_password" placeholder="Password" class="input-field" type="password" style="border: none;">
      </div>
      <div class="btn">
        <button class="button1" type="button" onclick="login()">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Login&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
        <button class="button2" type="button" onclick="register()">Register</button>
      </div>
      <button id="forgot_password_button" style="background-color: transparent; border-color: transparent; color: white; font-family: 'Poppins'; margin-block-end: 50px;">Forgot password?</button>
  </form>

  </div>

<div id="logged_interface"  style="display: none;">
  
  
  <div id="up_bar">
  <div style="display: flex; flex-direction: row; justify-content: center; align-items: center; block-size: 100%; margin-inline-start: 5px;">
    <div style="block-size: 75%; display: flex; flex-direction: row; align-items: center; justify-content: center; padding-block-start: 15px;">
    <button class="upbar_button" id="home_button"><i class="material-icons notranslate">dashboard</i><p style="margin-block-start: 0px;">Home</p></button>
    <button class="upbar_button" id="builder_button"><i class="material-icons notranslate">construction</i><p style="margin-block-start: 0px;">Builder</p></button>
   </div>
   <div style="background-color: white; block-size: 70%; inline-size: 1px; margin-inline-end: 15px; margin-inline-start: 15px;"><p> </p></div>
   <div style="block-size: 75%; display: flex; flex-direction: row; align-items: center; justify-content: center; padding-block-start: 15px;">
    <button class="upbar_button" id="account_button"><i class="material-icons notranslate">account_circle</i><p style="margin-block-start: 0px;">Account</p></button>
    <button class="upbar_button" id="cloud_button"><i class="material-icons notranslate">cloud_done</i><p style="margin-block-start: 0px;">Cloud</p></button>
  </div>
  </div>
  <h2 class="notranslate" style="color: white;"><span style="font-family: 'arial';">&lt;</span>/Buildable<span style="font-family: 'arial';">&gt;</span></h2>
   <div style=" block-size: 100%; display: flex; flex-direction: row; align-items: center; justify-content: center; margin-inline-end: 20px;">
    <div style="block-size: 75%; display: flex; flex-direction: row; align-items: center; justify-content: center; padding-block-start: 15px;">
      <button class="upbar_button" id="project_settings_button_flex"><i class="material-icons notranslate">settings</i><p style="margin-block-start: 0px;">Project</p></button>
     </div>
     <div style="background-color: white; block-size: 70%; inline-size: 1px; margin-inline-end: 15px; margin-inline-start: 15px;"><p> </p></div>
    <div style="block-size: 75%; display: flex; flex-direction: row; align-items: center; justify-content: center; padding-block-start: 15px;">
   <button class="upbar_button" id="export_code_button"><i class="material-icons notranslate">system_update_alt</i><p style="margin-block-start: 0px;">Export</p></button>
   <button class="upbar_button" id="publish_app_button"><i class="material-icons notranslate">dynamic_form</i><p style="margin-block-start: 0px;">Deploy</p></button>
  </div>
  <div style="background-color: white; block-size: 70%; inline-size: 1px; margin-inline-end: 15px; margin-inline-start: 15px;"><p> </p></div>
  <div style=" block-size: 75%; display: flex; flex-direction: row; align-items: center; justify-content: center; padding-block-start: 15px;">
   <button class="upbar_button" id="front_button"><i class="material-icons notranslate">devices</i><p style="margin-top: 0px;">Interface</p></button>
   <button class="upbar_button" id="back_button"><i class="material-icons notranslate">data_object</i><p style="margin-top: 0px;">functions</p></button>
   </div>
  </div>
  </div>


  <div id="reset_password_dialog" style="display: none; z-index: 3; align-items: center; justify-content: center; height:  94%; width: 100%; position: absolute; background-color: #1c1c1c78; color: white;">
    <div class="project_settings_form" style="width: auto !important; height: 30% !important; background-color: #27282b; border-radius: 15px; padding: 20px; overflow: auto;">
      <div style="display: flex; flex-direction: row; width: 100%; align-items: center; justify-content: space-between;">
        <div style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
        <h2 style="margin-top: 0px; color: white; margin-bottom: 10px;">Reset password</h2>
        <i class="material-icons notranslate" style="color: white; margin-left: 10px; margin-top: -20px;">key</i>
      </div>
        <button id="close_reset_password_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none; margin-top: -30px !important; margin-right: -10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">close</i></button>
    </div>
    <div style="height: 100%; width: 100%; display: flex; flex-direction: column">
    <div style="width: 100%; height: 1px; background-color: white;"><p> </p></div>
    <h4 style="color: white; font-family: 'Poppins'">An e-mail will be send to you with the istructions to continue</h4>
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
    <input type="email" style="color: white; background-color: rgba(0, 255, 255, 0); padding: 5px; border-radius: 12px; border: 1px solid white; font-family: 'Poppins'; width: 100%; outline: none; padding-left: 10px;" id="emailInput" placeholder="Insert here your e-mail" required>
    </div>
    <div style="display: flex; flex-direction: row; justify-content: center; align-items: center; margin-top: 40px;">
      <button3 id="CancelResetPasswordBtn"><span>Cancel</span></button3>
      <button3 id="resetPasswordBtn" style="margin-left: 20px;"><span>Send</span></button3>
  </div> 
</div>
</div>
</div>

<div id="project_settings" style="display: none; z-index: 3; align-items: center; justify-content: center; height:  94%; width: 100%; position: absolute; background-color: #1c1c1c78; color: white;">
  <div class="project_settings_form" style="width: 30%; height: 50%; background-color: #27282b; border-radius: 15px; padding: 20px; overflow: hidden;">
    <div style="display: flex; flex-direction: row; width: 100%; align-items: center; justify-content: space-between;">
      <h2 style="margin-top: 0px; color: white;">Project settings</h2>
   <button id="close_project_settings_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none; margin-top: -30px !important; margin-right: -10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">close</i></button>
  </div>
  <div style="display: flex; flex-direction: row; width: 100%; height: 100%;">
    <div style="height: 100%; margin-top: 10px; padding-right: 20px;">
      <button id="general_settings_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">smartphone</i><p style="color: white; font-family: 'Poppins'; margin-top: 2px;">App</p></button>
      <button id="embed_settings_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none; margin-left: -8px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">language</i><p style="color: white; font-family: 'Poppins'; margin-top: 2px;">Embed</p></button>
    </div>
    <div style="width: 1px; height: 90%; background-color: white; margin-right: 20px;"><p> </p></div>
  <div id="app_settings" style="display: flex; flex-direction: column; overflow-y: auto; overflow-x: hidden; width: 90%; height: 89%; padding-right: 20px;">
  <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">title</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-app_name" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="App name">
    <label></label>
  </div>  
  <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem; margin-top: 20px;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">image</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-icon_image_link" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="Icon image link">
    <label></label>
  </div>  
  <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem; margin-top: 20px;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">palette</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-background-color" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="Background color">
    <label></label>
  </div>    
</div>
<div id="embed_settings" style="display: none; flex-direction: column; overflow-y: auto; overflow-x: hidden; width: 90%; height: 89%; padding-right: 20px;"">
  <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">font_download</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-app_name" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="Font meta tag">
    <label></label>
  </div>  
  <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem; margin-top: 20px;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">domain_verification</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-search-snippet" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="Google Search snippet">
    <label></label>
  </div>  

</div>

</div>

  </div>

</div>


<div id="account_settings" style="display: none; z-index: 3; align-items: center; justify-content: center; height:  92%; width: 100%; position: absolute; background-color: #1c1c1c78; color: white;">
  <div class="account_settings_form" style="width: 30%; height: 50%; background-color: #27282b; border-radius: 15px; padding: 20px; overflow: hidden;">
    <div style="display: flex; flex-direction: row; width: 100%; align-items: center; justify-content: space-between;">
      <h2 style="margin-top: 0px; color: white;">Account settings</h2>
   <button id="close_account_settings_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none; margin-top: -30px !important; margin-right: -10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">close</i></button>
  </div>
  <div style="display: flex; flex-direction: row; width: 100%; height: 100%;">
    <div style="display:flex; height: 100%; margin-top: 10px; align-items: center; flex-direction: column; padding-right: 20px;">
      <button id="account_settings_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">account_circle</i><p style="color: white; font-family: 'Poppins'; margin-top: 2px;">You</p></button>
      <button id="builder_settings_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">terminal</i><p style="color: white; font-family: 'Poppins'; margin-top: 2px;">Builder</p></button>
    </div>
    <div style="width: 1px; height: 90%; background-color: white; margin-right: 20px;"><p> </p></div>
  <div id="account_settings_div" style="display: flex; flex-direction: column; overflow-y: auto; overflow-x: hidden; width: 90%; height: 89%; padding-right: 20px; padding-top: 5px;">
    <div style="display: flex; flex-direction: row; align-items: center; justify-content: start;">
    <img src="https://i.ibb.co/4fF0RCd/logo.png" style="width: 100px; border-radius: 50%;">
    <div style="padding-left: 30px;">
      <h2 id="name_disp" style="margin-bottom: 0px;">Giacomo Verde</h2>
      <p id="mail_disp" style="margin-top: 5px;">verdev.web@gmail.com</p>
    </div>
  </div>
  <div style="border-radius: 10px; background-color: #36373d; width: 100%; height: 100%; display: flex; flex-direction: row; margin-top: 20px">
    <div style="display: flex; flex-direction: column; height: 100%; width: 100%; align-items: start; padding-left: 15px;">
      <button onclick="disconnectAccount()" style="display: flex; flex-direction: row; align-items: center; justify-content: center; font-size: 17px; background-color: transparent; border: 1px solid transparent; color: white; font-family: 'Poppins'; margin-top: -5px;"><i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: -10px; margin-right: 5px;">logout</i><p>Log out</p></button>
      <button id="delete_account_button" style="display: flex; flex-direction: row; align-items: center; justify-content: center; font-size: 17px; background-color: transparent; border: 1px solid transparent; color: white; font-family: 'Poppins'; margin-top: -20px;"><i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: -10px; margin-right: 5px; margin-top: 0px;">delete_sweep</i><p>Delete Account</p></button>
      <button id="reset_password_button" style="display: flex; flex-direction: row; align-items: center; justify-content: center; font-size: 17px; background-color: transparent; border: 1px solid transparent; color: white; font-family: 'Poppins'; margin-top: -20px;"><i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: -10px; margin-right: 5px; margin-top: 0px;">lock_reset</i><p>Change password</p></button>
  </div> 
  </div>
</div>
<div id="builder_settings" style="display: none; flex-direction: row; overflow-y: auto; overflow-x: hidden; width: 90%; height: 89%; padding-right: 20px;">
  <div style="border-radius: 10px; background-color: #36373d; width: 100%; height: 100%; display: flex; flex-direction: row; align-items: center; justify-content: center;">
    <p>Builder settings will be available soon</p>
</div>  
</div>

</div>

  </div>

</div>




<div id="delete_account_form" style="display: none; z-index: 3; align-items: center; justify-content: center; height:  94%; width: 100%; position: absolute; background-color: #1c1c1c78; color: white;">
  <div class="account_settings_form" style="width: 30%; height: 300px; background-color: #27282b; border-radius: 15px; padding: 20px; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content:center ;">
    <div style="display: flex; flex-direction: row; width: 100%; align-items: center; justify-content: space-between;">
      <h2 style="margin-top: 0px; color: white;">Delete account</h2>
   <button id="close_delete_form" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none; margin-top: -30px !important; margin-right: -10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">close</i></button>
  </div>
  <div style="display: flex; flex-direction: column; width: 100%; height: 100%; align-items: center; justify-content: center;">
        <h3 style="font-family: 'Poppins'; color: white; margin-block-start: 8px; text-align: center;">Once you delete your account you can't recover it and your datas will be deleted</h3>
       <div style="height: 100%; disply: flex; flex-direction: row; justify-content: center; align-items: center; margin-top: 20px;">
          <button3 class="close_delete_form1" style="font-family: 'Poppins';" id="cancel_delete_button"><span>Cancel</span></button3>
          <button3 class="confirm_delete_account_button" style="font-family: 'Poppins'; color: rgb(195, 67, 67); margin-left: 20px;" id="confirm_delete_button"><span style="color: rgb(195, 67, 67)">Confirm</span></button3>
        </div>
   </div>

  </div>

</div>





<div id="delete_project_form" style="display: none; z-index: 3; align-items: center; justify-content: center; height:  94%; width: 100%; position: absolute; background-color: #1c1c1c78; color: white;">
  <div class="account_settings_form" style="width: 30%; height: 50%; background-color: #27282b; border-radius: 15px; padding: 20px; overflow-x: hidden; align-items: left; justify-content: space-between;">
    <div style="display: flex; flex-direction: column; justify-content: space-between; align-items: center; width: 100%; height: 100%;">
    <div style="width: 100%; height: 80%; display: flex; flex-direction: center; align-items: center; flex-direction: column;">
      <div style="display: flex; flex-direction: row; width: 100%; align-items: center; justify-content: space-between;">
        <h2 style="margin-top: 0px; color: white;">Delete project</h2>
     <button id="close_delete_project_form_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none; margin-top: -30px !important; margin-right: -10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">close</i></button>
    </div>
    <div style="width: 90%; display: flex; align-items: center; justify-content: center; flex-direction: column; background-color: #1b1c1f; border-radius: 10px; padding: 20px;">
      <p style="margin-top: 0px; color: white; margin-bottom: 0px; font-size: 20px; text-align: center;">Are you sure you want to delete this project?<span style="color: rgb(229, 65, 65)"> You can't recover a deleted project</span></p>
    </div>
    <div style="width: 95%; height: 1px; background-color: white; margin-bottom: 20px; margin-top: 20px;"><p> </p></div>
    <div style="display: flex; flex-direction: row; align-items: start; justify-content: start; width: 90%;">
      <img id="delete_project_img" style="width: 100px; height: 100px; margin-bottom: -5px; border-radius: 18px; margin-left: -20px;"  src="https://i.ibb.co/4fF0RCd/logo.png">
      <h2 id="delete_project_app_name" style="margin-left: 20px;">App name</h2>
    </div>
    <div style="width: 95%; height: 1px; background-color: white; margin-bottom: 0px; margin-top: 20px;"><p> </p></div>
</div>
  <div style="display: flex; flex-direction: row; width: 100%; height: 20%; align-items: center; justify-content: space-between;">
    <button3 id="close_cancel_project_form" ><span>Cancel</span></button3>
  <button3 id="confirm_cancel_project"><span style="color: rgb(229, 65, 65)">Confirm</span></button3>
</div>
   </div>
  </div>
</div>


<div id="create_new_project_form" style="display: none; z-index: 3; align-items: center; justify-content: center; height:  94%; width: 100%; position: absolute; background-color: #1c1c1c78; color: white;">
  <div class="account_settings_form" style="width: 30%; height: 50%; background-color: #27282b; border-radius: 15px; padding: 20px; overflow: hidden; align-items: left; justify-content: space-between;">
   
    <div style="display: flex; flex-direction: column; justify-content: space-between; align-items: center; width: 100%; height: 100%;">
    <div style="width: 100%;">
      <div style="display: flex; flex-direction: row; width: 100%; align-items: center; justify-content: space-between;">
        <h2 style="margin-top: 0px; color: white;">New project</h2>
     <button id="close_create_new_project_form_button" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: transparent; border: none; margin-top: -30px !important; margin-right: -10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">close</i></button>
    </div>
    <div style="display: flex; flex-direction: row; align-items: start; justify-content: start;">
    <img style="width: 100px; height: 100px; margin-bottom: 20px; border-radius: 18px;"  src="https://i.ibb.co/4fF0RCd/logo.png">
    <h2 style="margin-left: 20px;">My new app</h2>
  </div>
    <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">title</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-new_app_name" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="App name">
    <label></label>
  </div>  
  <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem; margin-top: 20px;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">image</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-new_icon_image_link" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="Icon image link">
    <label></label>
  </div>  
  <div class="input-group" style="width: 100%; display: flex; flex-direction: row; align-items: center;  border: solid 1.5px #9e9e9e; border-radius: 1rem; margin-top: 20px;">
    <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-left: 12px; margin-right: 10px;">palette</i>
    <div style="height: 35px; width: 1px; background-color: white;"><p> </p></div>
    <input id="code-new_background-color" required="" type="text" name="text" autocomplete="off" class="input1" style="width: 100%;  border: solid 1.5px transparent;" placeholder="Background color">
    <label></label>
  </div>  
</div>
  <div style="display: flex; flex-direction: row; width: 100%; align-items: center; justify-content: space-between;">
    <button3 id="close_create_new_project_form_button1" ><span>Cancel</span></button3>
  <button3 id="confirm_create_new_project_button"><span>Create</span></button3>
</div>

   </div>
  </div>
</div>



<div id="home_interface" style="display: none;">
   <div style="display: flex; flex-direction: row; width: 100%; height: 100%; align-items: center;">
    <div style="display: flex; width: 15%; height: 90%; align-items: center; justify-content: left;">
      <div class="card1" style="height: 100%; width: auto; border-radius: 0px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
      <div style="display: flex; flex-direction: column; align-items: start; justify-content: left;">
      <h3 style="color: white; margin-bottom: 5px; margin-top: 0px;">Ready for coding?</h3>
      <div style="background-color: white; height: 1px; width: 100%; margin-top: 8px;"></div>
      <button id="create_new_project_button" style="background-color: transparent; border: transparent;">
      <div style="display: flex; flex-direction: row; align-items: center;">
      <i class="material-icons notranslate" style="color:white; font-size: 30px; margin-right: 5px; margin-top: 15px;">architecture</i>
      <p style="color: white; margin-bottom: 0px; font-family: 'Poppins'; font-size: 15px;">New project</p>
      </div>
     </button>
     <button id="import_project_button" onclick="alert('Import projects will be available soon')" style="background-color: transparent; border: transparent;">
      <div style="display: flex; flex-direction: row; align-items: center;">
        <span class="material-symbols-outlined notranslate" style="color: white; font-size: 30px; margin-top: 10px; margin-right: 10px;">
          cloud_upload
          </span>
      <p style="color: white; margin-bottom: 0px; font-family: 'Poppins'; font-size: 15px;">Inport one</p>
      </div>
      </button>
     <div style="background-color: white; height: 1px; width: 100%; margin-top: 10px;"></div>
      <button id="open_account_settings" style="display: flex; flex-direction: row; align-items: center; background-color: transparent; border: none;">
      <span class="material-symbols-outlined notranslate" style="color: white; font-size: 30px; margin-top: 10px; margin-right: 10px;">
          account_circle
      </span>
      <p style="color: white; margin-bottom: 0px; font-family: 'Poppins'; font-size: 15px;">Account</p>
    </button>
     <a style="background-color: transparent; border: transparent; text-decoration: none; margin-left: 5px;" href="https://t.me/buildable">
      <div style="display: flex; flex-direction: row; align-items: center;">
        <span class="material-symbols-outlined notranslate" style="color: white; font-size: 30px; margin-top: 10px; margin-right: 10px;">
          3p
          </span>
      <p style="color: white; margin-bottom: 0px; font-family: 'Poppins'; font-size: 15px;">Comunity</p>
      </div>
    </a>
      <div style="display: flex; flex-direction: row; align-items: center;">
        <span class="material-symbols-outlined notranslate" style="color: white; font-size: 30px; margin-top: 10px; margin-right: 10px; margin-left: 4px;">
          support_agent
          </span>
      <a href="mailto:verdev.web@gmail.com" style="color: white; margin-bottom: 0px; margin-top: 10px; font-family: 'Poppins'; font-size: 15px; text-decoration: none;">Support</a>
      </div>
    </div>
  </div>
  </div>

  <div style="display: flex; align-items: center; justify-content: center; width: 100%; height: 100%;">
  <div id="no_projects_yet" style="display: flex ; width: 100%; height: 95%; border: solid 1px rgba(255, 255, 255, 0.361); border-radius: 20px; align-items: center; justify-content: center; margin-right: 30px; margin-left: 30px;">
  <p style="color: rgba(255, 255, 255, 0.361);">No projects yet</p>
  </div>
  <div id="projects_container" style="display:none; height: 95%; width: 100%; padding-top: 10px;">
  </div>
  </div>

</div>
</div>


<div id="builder_interface" style="display: flex;">
 <div id="back_editor" style="display: none; align-items: center; justify-content:center; width: 100%; height: 100%;">
<div style="display: flex; align-items: center; justify-content:center; width: 50%; height: 50%; background-color: #27282b; border-radius: 20px;">
  <h3 style="color: white;">Funcions editor will be available soon</h3></div>
 </div>
  <div id="front_editor" style="display: flex; flex-direction: row; height: 100%; width: 100%; align-items: center; justify-content: space-between;">
    <div id="builder_left_bar">
      <h3 style="margin-left: 8px; color: white; font-weight: bold;">User interface</h3>
      <div class="drag_card" draggable="true" ondragstart="titleComponentFunction(event)">  
        <div class="html_component" style="display: flex; flex-direction: row;">
          <i class="material-icons notranslate" style="color:white; font-size: 30px">title</i>
          <button id="title_HTML_COMPONENT" class="html_component_button">Title</button>
        </div>
      </div>
      <div style="margin-top: 15px;"></div>
      <div class="drag_card" draggable="true" ondragstart="paragraphComponentFunction(event)">   
      <div class="html_component" style="display: flex; flex-direction: row;">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" fill="currentColor" class="bi bi-text-left" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/> </svg>
        <button id="paragraph_HTML_COMPONENT" class="html_component_button">Paragraph</button>
      </div>
    </div>
    <div style="margin-top: 15px;"></div>
    <div class="drag_card" draggable="true" ondragstart="imageComponentFunction(event)">  
      <div class="html_component" style="display: flex; flex-direction: row;">
        <svg xmlns="http://www.w3.org/2000/svg" width="25"  fill="currentColor" class="bi bi-file-earmark-image" viewBox="0 0 16 16"> <path d="M6.502 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/> <path d="M14 14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5V14zM4 1a1 1 0 0 0-1 1v10l2.224-2.224a.5.5 0 0 1 .61-.075L8 11l2.157-3.02a.5.5 0 0 1 .76-.063L13 10V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4z"/> </svg>    
        <button id="image_HTML_COMPONENT" class="html_component_button">Image</button>
      </div>
    </div>
      <div style="margin-top: 15px;"></div>
      <div class="drag_card" draggable="true" ondragstart="buttonComponentFunction(event)">  
      <div class="html_component" style="display: flex; flex-direction: row;">
        <i class="material-icons notranslate" style="color:white; font-size: 30px">ads_click</i>
        <button id="button_HTML_COMPONENT" class="html_component_button">Button</button>
      </div>
   </div>
      <div style="margin-top: 15px;"></div>
      <div class="drag_card" draggable="true" ondragstart="linkComponentFunction(event)">  
      <div class="html_component" style="display: flex; flex-direction: row;">
        <i class="material-icons notranslate style="color:white; font-size: 30px">link</i>
        <button id="link_HTML_COMPONENT" class="html_component_button">Link</button>
      </div>
    </div>
      <div style="margin-top: 15px;"></div>
      <div class="drag_card" draggable="true" ondragstart="mailComponentFunction(event)"> 
      <div class="html_component" style="display: flex; flex-direction: row;">
        <i class="material-icons notranslate style="color:#ffffff; font-size: 30px">mail</i>
        <button id="mail_HTML_COMPONENT" class="html_component_button">E-Mail</button>
      </div>
    </div>
    <div style="margin-top: 15px;"></div>
    <div class="drag_card" draggable="true" ondragstart="textareaComponentFunction(event)"> 
      <div class="html_component" style="display: flex; flex-direction: row;">
        <i class="material-icons notranslate style="color:#ffffff; font-size: 30px">edit_square
        </i>
        <button id="mail_HTML_COMPONENT" class="html_component_button">Text field</button>
      </div>
    </div>
    <div style="margin-top: 15px;"></div>
  

      <div style="margin-top: 8; margin-right: 20px; background-color: white; width: 90%; height: 1px;"> </div>

     
      <h3 class="notranslate" style="margin-top: 20px; margin-right: 20px; color: white; font-weight: bold;">Firebase</h3>

      <div class="html_component" style="display: flex; flex-direction: row;">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" viewBox="0 0 30 30.000001" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="id1"><path d="M 6.371094 2 L 19 2 L 19 22 L 6.371094 22 Z M 6.371094 2 " clip-rule="nonzero"/></clipPath><clipPath id="id2"><path d="M 6.371094 8 L 17 8 L 17 22 L 6.371094 22 Z M 6.371094 8 " clip-rule="nonzero"/></clipPath><clipPath id="id3"><path d="M 6.371094 6 L 23.789062 6 L 23.789062 25.8125 L 6.371094 25.8125 Z M 6.371094 6 " clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#id1)"><path fill="rgb(100%, 62.748718%, 0%)" d="M 15.628906 5.648438 C 15.417969 5.246094 14.832031 5.246094 14.625 5.648438 L 13.34375 8.003906 L 10.398438 2.445312 C 10.144531 1.980469 9.421875 2.097656 9.335938 2.617188 L 6.371094 21.3125 L 18.480469 11.070312 Z M 15.628906 5.648438 " fill-opacity="1" fill-rule="nonzero"/></g><g clip-path="url(#id2)"><path fill="rgb(96.078491%, 49.798584%, 9.01947%)" d="M 16.054688 13.121094 L 13.34375 8.003906 L 6.371094 21.3125 Z M 16.054688 13.121094 " fill-opacity="1" fill-rule="nonzero"/></g><g clip-path="url(#id3)"><path fill="rgb(100%, 79.219055%, 15.689087%)" d="M 21.535156 7.390625 C 21.464844 6.964844 20.929688 6.792969 20.613281 7.101562 L 6.371094 21.316406 L 14.253906 25.367188 C 14.753906 25.640625 15.359375 25.640625 15.859375 25.367188 L 23.789062 21.316406 Z M 21.535156 7.390625 " fill-opacity="1" fill-rule="nonzero"/></g></svg>
      <button id="firebase_auth_HTML_COMPONENT" class="html_component_button notranslate">Firebase Auth</button>
    </div>

       <div style="margin-top: 8px;"></div>

      <div class="html_component" style="display: flex; flex-direction: row;">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" viewBox="0 0 30 30.000001" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="id1"><path d="M 6.371094 2 L 19 2 L 19 22 L 6.371094 22 Z M 6.371094 2 " clip-rule="nonzero"/></clipPath><clipPath id="id2"><path d="M 6.371094 8 L 17 8 L 17 22 L 6.371094 22 Z M 6.371094 8 " clip-rule="nonzero"/></clipPath><clipPath id="id3"><path d="M 6.371094 6 L 23.789062 6 L 23.789062 25.8125 L 6.371094 25.8125 Z M 6.371094 6 " clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#id1)"><path fill="rgb(100%, 62.748718%, 0%)" d="M 15.628906 5.648438 C 15.417969 5.246094 14.832031 5.246094 14.625 5.648438 L 13.34375 8.003906 L 10.398438 2.445312 C 10.144531 1.980469 9.421875 2.097656 9.335938 2.617188 L 6.371094 21.3125 L 18.480469 11.070312 Z M 15.628906 5.648438 " fill-opacity="1" fill-rule="nonzero"/></g><g clip-path="url(#id2)"><path fill="rgb(96.078491%, 49.798584%, 9.01947%)" d="M 16.054688 13.121094 L 13.34375 8.003906 L 6.371094 21.3125 Z M 16.054688 13.121094 " fill-opacity="1" fill-rule="nonzero"/></g><g clip-path="url(#id3)"><path fill="rgb(100%, 79.219055%, 15.689087%)" d="M 21.535156 7.390625 C 21.464844 6.964844 20.929688 6.792969 20.613281 7.101562 L 6.371094 21.316406 L 14.253906 25.367188 C 14.753906 25.640625 15.359375 25.640625 15.859375 25.367188 L 23.789062 21.316406 Z M 21.535156 7.390625 " fill-opacity="1" fill-rule="nonzero"/></g></svg>
        <button id="firebase_database_HTML_COMPONENT" class="html_component_button notranslate">Firebase Database</button>
      </div>

      <div style="margin-top: 8; background-color: white; width: 90%; height: 1px; margin-right: 20px;"> </div>

     </div>
    


    
    <div id="editor-container">
      <textarea class="textarea1" id="code-input" placeholder="Inserisci qui il tuo codice HTML...">
<html>
<head>
  <style>

body{
display: flex;
flex-direction: column;

}

  </style>
</head>
<body>


<script>
</script>  


</body>
</html>
</textarea>
  </div>


  <div id="preview-container">
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; width: 100%;">
      <iframe id="preview-iframe"></iframe>
     <textarea class="textarea2" id="textbox2" placeholder="Drag components here"></textarea>
    </div>
    <div id="control_panel1" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
      <div style="display: flex; flex-direction: column; margin-left: 50px; height: auto; width: auto; background-color: #27282b; border-radius: 10px; align-items: center; justify-content: center;">
      <button  id="move-up" onclick="moveSelectedTextUp()" style="margin-bottom: 10px; align-items: center; justify-content: center; background-color: transparent; border:transparent; margin-top: 10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">expand_less</i></button>
      <div style="background-color: white; width: 80%; height: 1px; margin-bottom: 10px;"><p> </p></div>
      <button id="move-down" onclick="moveSelectedTextDown()" style="background-color: transparent; border:transparent; margin-bottom: 10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">expand_more</i></button>
    </div>
    <div style="display: flex; flex-direction: column; margin-left: 50px; height: auto; width: auto; background-color: #27282b; border-radius: 10px; align-items: center; justify-content: center; margin-top: 15px;">
    <button id="show_code" style="align-items: center; justify-content: center; background-color: transparent; border:transparent; margin-top: 10px;"><i id="show_code_icon" class="material-icons notranslate" style="color:white; font-size: 30px;">code</i></button>
    <button onclick="updatePreview()" style="margin-bottom: 10px; align-items: center; justify-content: center; background-color: transparent; border:transparent; margin-top: 10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">restart_alt</i></button>
    <button onclick="deleteSelectedText()" style="background-color: transparent; border:transparent; margin-bottom: 10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">delete</i></button>
  </div>
  </div>
  
    </div>
    
       <div id="right_bar">
        <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; margin-top: 5px;">
          <h3 id="component_proprieties_name_display" style="color: white; margin-right: 0px; margin-bottom: 0px; margin-top: 0px;">Propierties:</h3>
          <button onclick="modcomponents()" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 50px; background-color: transparent; border: transparent; margin-top: 0px; margin-left: 0px; margin-right: 10px;"><i class="material-icons notranslate" style="color:white; font-size: 30px;">save</i></button>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-id" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Element Id</label>
        </div>
        <div class="input-group" style="margin-top: 20px; margin-bottom: 7px;">
          <input id="code-class" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Element Class</label>
        </div>
        
        <div class="scrolldiv0" style="overflow-y: auto; overflow-x: hidden; scrollbar-track-color: transparent;">
        <h3 style="margin-left: 8px; margin-bottom: 1px ; color: white;">Text</h3>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-text" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Text</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-font-size" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Font Size</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Font family</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-placeholder" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Hint</label>
        </div>
        <div style="margin-top: 20px; background-color: white; width: 95%; height: 1px; margin-right: 20px;"><p> </p></div>
        <h3 style="margin-left: 8px; margin-bottom: 1px ; color: white;">Size</h3>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-width" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Width</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-height" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Height</label>
        </div>
        <div style="margin-top: 20px; background-color: white; width: 95%; height: 1px; margin-right: 20px;"><p> </p></div>
        <h3 style="margin-left: 8px; margin-bottom: 1px ; color: white;">Margin</h3>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-margin-top" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Margin top</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-margin-bottom" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Margin bottom</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-margin-right" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Margin rigth</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-margin-left" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Margin left</label>
        </div>

        <div style="margin-top: 20px; background-color: white; width: 95%; height: 1px; margin-right: 20px;"><p> </p></div>
        <h3 style="margin-left: 8px; margin-bottom: 1px ; color: white;">Border radius</h3>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-radius" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Border Radius</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-radius-top-left" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Top left</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-radius-top-right" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Top right</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-radius-bottom-left" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Bottom Left</label>
        </div>
        <div class="input-group" style="margin-top: 20px;">
          <input id="code-radius-bottom-right" required="" type="text" name="text" autocomplete="off" class="input">
          <label class="user-label">Bottom Right</label>
          </div>
          <div style="margin-top: 20px; background-color: white; width: 95%; height: 1px; margin-right: 20px;"><p> </p></div>
          <h3 style="margin-left: 8px; margin-bottom: 1px ; color: white;">General</h3>
          <div class="input-group" style="margin-top: 20px; margin-bottom: 20px;">
            <input id="code-href" required="" type="text" name="text" autocomplete="off" class="input">
            <label class="user-label">Link</label>
            </div>
            <div style="margin-top: 2px; background-color: white; width: 95%; height: 1px; margin-right: 20px;"><p> </p></div>
            <h3 style="margin-left: 8px; margin-bottom: 1px ; color: white;">Image</h3>
            <div class="input-group" style="margin-top: 20px;">
              <input id="code-src" required="" type="text" name="text" autocomplete="off" class="input" >
              <label class="user-label">Image link</label>
            </div>
          </div>
     </div>

    </div>
   </div>
  </div>


</div>


  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

<script>


  // Inizializza la tua app Firebase
  var firebaseConfig = {
    apiKey: "AIzaSyBK8aB1PhRlX3ls_AAMqxElVLmK5hK9SoA",
    authDomain: "https://buildable-4e170-default-rtdb.firebaseio.com",
    projectId: "buildable-4e170",
    storageBucket: "buildable-4e170.appspot.com",
    messagingSenderId: "SENDER_ID",
    appId: "1:905693761163:android:ef8213d762a85bc28f8e8e"
  };

  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();
  firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
.then(function() {

// Verifica dello stato di autenticazione all'avvio
firebase.auth().onAuthStateChanged(function(user) {
if (user) {
  // L'utente è già loggato

  console.log("Logged");
  document.getElementById("log_interface").style.display = "none";
  document.getElementById("logged_interface").style.display = "block";
  document.getElementById("up_bar").style.display = "flex";

  // Ottieni l'UID dell'utente
  var uid = user.uid;
  //salvalo in un cookie
  document.cookie = "uid=" + uid + ";";

} else {
  // L'utente non è loggato
  console.log("Not logged");
  document.getElementById("log_interface").style.display = "flex";
  document.getElementById("logged_interface").style.display = "none";
}
});

})

.catch(function(error) {
  console.log(error);
});


    // Funzione di accesso
    function login() {
var email = document.getElementById("access_email").value;
var password = document.getElementById("access_password").value;

firebase.auth().signInWithEmailAndPassword(email, password)
  .then(function(user) {
    // Accesso avvenuto con successo
    alert("Logged in");
    document.getElementById("log_interface").style.display = "none";
    document.getElementById("logged_interface").style.display = "block";

     // Ottieni l'UID dell'utente
  var uid = user.uid;
  //salvalo in un cookie
  document.cookie = "uid=" + uid + ";";
  })

  .catch(function(error) {
    // Gestisci gli errori di accesso
    var errorMessage = error.message;
    if (errorMessage.includes("password")) {
      alert("Wrong password, try again");
    } else {
      alert("Access error: " + errorMessage);
    }
  });
}



// Funzione di registrazione
function register() {
    var email = document.getElementById("access_email").value;
    var password = document.getElementById("access_password").value;

    firebase.auth().createUserWithEmailAndPassword(email, password)
      .then(function(user) {
        // Registrazione avvenuta con successo
        console.log("Signed in");

        // Nascondi il container iniziale
        document.getElementById("log_interface").style.display = "none";
        // Mostra il container vuoto
        document.getElementById("logged_interface").style.display = "block";

         // Ottieni l'UID dell'utente
  var uid = user.uid;
  //salvalo in un cookie
  document.cookie = "uid=" + uid + ";";
      })

      .catch(function(error) {
  // Gestisci gli errori di registrazione
    var errorCode = error.code;
    var errorMessage = error.message;
  if (errorCode === "auth/email-already-in-use") {
    alert("Mail already used");
  } else {
    alert("An error occurred signing in, have you inserted credential before signing in?");
  }
 });
  }



  // BOTTONI

  // login or signup selection

 document.getElementById("create_new_project_button").addEventListener("click", function() {
  
  document.getElementById("create_new_project_form").style.display = "flex";
 
 });

 document.getElementById("home_button").addEventListener("click", function() {
  
  document.getElementById("home_interface").style.display = "flex";
  document.getElementById("builder_interface").style.display = "none";

 
 });

 document.getElementById("builder_button").addEventListener("click", function() {
  
  document.getElementById("home_interface").style.display = "none";
  document.getElementById("builder_interface").style.display = "flex";

 
 });

 
        const codeInput = document.getElementById("code-input");
        const previewIframe = document.getElementById("preview-iframe");

        codeInput.addEventListener("input", updatePreview);

        function updatePreview() {
            const code = codeInput.value;
            const iframeDocument = previewIframe.contentDocument || previewIframe.contentWindow.document;
            iframeDocument.open();
            iframeDocument.write(code);
            iframeDocument.close();
        }



        updatePreview();

        /*drag and drop*/

        let dragStartRow;



        /*COMPONENTS*/

function paragraphComponentFunction(event) {
var baseID = "paragraph";
var lastUsedID = localStorage.getItem("lastUsedIDparagraph");
var counter = parseInt(lastUsedID) || 0;
counter++;

var uniqueID = baseID + counter;

localStorage.setItem("lastUsedIDparagraph", counter);

var paragraph = '<p id="' + uniqueID + '" style="">Inserisci qui il testo</p> \n';

event.dataTransfer.setData("text/plain", paragraph);

}

function imageComponentFunction(event) {
  event.dataTransfer.setData("text/plain", `<img id="" style="" src="https://your-image-link.com"> \n`);
}

function buttonComponentFunction(event) {
  event.dataTransfer.setData("text/plain", '<button id="button_id" style="">button_text</button> \n ');
}

function titleComponentFunction(event) {
  event.dataTransfer.setData("text/plain", '<h2 id="" style="">title_text</h2> \n');
}

function linkComponentFunction(event) {
  event.dataTransfer.setData("text/plain", '<a id="" style="" href="https://www.your-link.com">link_text</a> \n');
}

function mailComponentFunction(event) {
  event.dataTransfer.setData("text/plain", '<a id="" style="" href="mailto:yourmail@provider.com">mail_text</a> \n ');
}

function textareaComponentFunction(event) {
  event.dataTransfer.setData("text/plain", '<textarea id="" style="" placeholder=""></textarea> \n ');
}



         textbox2.addEventListener("input", function () {
            const textToAdd = textbox2.value;
            const codeInputValue = codeInput.value;
            const updatedCode = codeInputValue.replace(/<\/body>/i, textToAdd + "</body>");
            codeInput.value = updatedCode;
            updatePreview();
            textbox2.value = "";
        });

     

        function highlightCodeInInput(clickedElement) {
    const htmlInput = document.getElementById('code-input');
    const codeToHighlight = clickedElement.outerHTML;
    const startPosition = htmlInput.value.indexOf(codeToHighlight);
    const endPosition = startPosition + codeToHighlight.length;
    var start = startPosition
    var end = endPosition

    // Imposta i cookie
document.cookie = "start=" + start + ";";
document.cookie = "end=" + end + ";";


    let highlightedClass = "";
    let highlightedId = "";
    let highlightedSrc = "";
    let highlightedPlaceholder = "";
    let highlightedMarginTop = "";
    let highlightedMarginBottom = "";
    let highlightedMarginRight = "";
    let highlightedMarginLeft = "";
    let highlightedBorderRadiusTopLeft = "";
    let highlightedBorderRadiusTopRight = "";
    let highlightedBorderRadiusBottomLeft = "";
    let highlightedBorderRadiusBottomRight = "";
    let highlightedBorderRadius = "";

    const classMatch = codeToHighlight.match(/class="([^"]+)"/);
    if (classMatch && classMatch[1]) {
        highlightedClass = classMatch[1];
    }

    const idMatch = codeToHighlight.match(/id="([^"]+)"/);
    if (idMatch && idMatch[1]) {
        highlightedId = idMatch[1];
    }
    
    const srcMatch = codeToHighlight.match(/src="([^"]+)"/);
    if (srcMatch && srcMatch[1]) {
        highlightedSrc = srcMatch[1];
    }

     const placeholderMatch = codeToHighlight.match(/placeholder="([^"]+)"/);
    if (placeholderMatch && placeholderMatch[1]) {
        highlightedPlaceholder = placeholderMatch[1];
    }

      const marginTopMatch = codeToHighlight.match(/margin\s*-\s*top\s*:\s*([^;]+);?/);
    if (marginTopMatch && marginTopMatch[1]) {
        highlightedMarginTop = marginTopMatch[1];
    }

    const marginBottomMatch = codeToHighlight.match(/margin\s*-\s*bottom\s*:\s*([^;]+);?/);
if (marginBottomMatch && marginBottomMatch[1]) {
    highlightedMarginBottom = marginBottomMatch[1];
}

const marginRightMatch = codeToHighlight.match(/margin\s*-\s*right\s*:\s*([^;]+);?/);
if (marginRightMatch && marginRightMatch[1]) {
    highlightedMarginRight = marginRightMatch[1];
}

const marginLeftMatch = codeToHighlight.match(/margin\s*-\s*left\s*:\s*([^;]+);?/);
if (marginLeftMatch && marginLeftMatch[1]) {
    highlightedMarginLeft = marginLeftMatch[1];
}

const borderRadiusTopMatch = codeToHighlight.match(/border-radius\s*-\s*top\s*-\s*left\s*:\s*([^;]+);?/);;
if (borderRadiusTopMatch && borderRadiusTopMatch[1]) {
    highlightedBorderRadiusTop = borderRadiusTopMatch[1];
}

const borderRadiusTopLeftMatch = codeToHighlight.match(/border-top-left-radius\s*:\s*([^;]+);?/);
if (borderRadiusTopLeftMatch && borderRadiusTopLeftMatch[1]) {
    highlightedBorderRadiusTopLeft = borderRadiusTopLeftMatch[1];
}

const borderTopRightMatch = codeToHighlight.match(/border-top-right-radius\s*:\s*([^;]+);?/);
if (borderTopRightMatch && borderTopRightMatch[1]) {
    highlightedBorderRadiusTopRight = borderTopRightMatch[1];
}

const borderBottomLeftMatch = codeToHighlight.match(/border-bottom-left-radius\s*:\s*([^;]+);?/);
if (borderBottomLeftMatch && borderBottomLeftMatch[1]) {
    highlightedBorderRadiusBottomLeft = borderBottomLeftMatch[1];
}

const borderBottomRightMatch = codeToHighlight.match(/border-bottom-right-radius\s*:\s*([^;]+);?/);
if (borderBottomRightMatch && borderBottomRightMatch[1]) {
    highlightedBorderRadiusBottomRight = borderBottomRightMatch[1];
}

const borderRadiusMatch = codeToHighlight.match(/border-radius\s*:\s*([^;]+);?/);
if (borderRadiusMatch && borderRadiusMatch[1]) {
    highlightedBorderRadius = borderRadiusMatch[1];
}



    if (startPosition !== -1) {
        htmlInput.setSelectionRange(startPosition, endPosition);
        htmlInput.focus();
    }
    //after_recognition
    if (highlightedClass !== null) {
        console.log(`Selected Class: ${highlightedClass}`);
        const classInput = document.getElementById('code-class');
        classInput.value = highlightedClass;
    }

    if (highlightedId !== null) {
        console.log(`Selected Id: ${highlightedId}`);
        const idInput = document.getElementById('code-id');
        idInput.value = highlightedId;
    }

    if (highlightedSrc !== null) {
        const srcInput = document.getElementById('code-src');
        srcInput.value = highlightedSrc;
    }

    if (highlightedPlaceholder !== null) {
        const placeholderInput = document.getElementById('code-placeholder');
        placeholderInput.value = highlightedPlaceholder;
    }

    if (highlightedMarginTop !== null) {
        const marginTopInput = document.getElementById('code-margin-top');
        marginTopInput.value = highlightedMarginTop;
    }

    if (highlightedMarginBottom !== null) {
    const marginBottomInput = document.getElementById('code-margin-bottom');
    marginBottomInput.value = highlightedMarginBottom;
    }

    if (highlightedMarginRight !== null) {
    const marginRightInput = document.getElementById('code-margin-right');
    marginRightInput.value = highlightedMarginRight;
    }

    if (highlightedMarginLeft !== null) {
    const marginLeftInput = document.getElementById('code-margin-left');
    marginLeftInput.value = highlightedMarginLeft;
    }

    if (highlightedBorderRadiusTopLeft !== null) {
    const borderRadiusTopLeftInput = document.getElementById('code-radius-top-left');
    borderRadiusTopLeftInput.value = highlightedBorderRadiusTopLeft;
    }

    if (highlightedBorderRadiusTopRight !== "") {
    const borderRadiusTopRightInput = document.getElementById('code-radius-top-right');
    borderRadiusTopRightInput.value = highlightedBorderRadiusTopRight;
    }

    if (highlightedBorderRadiusBottomLeft !== "") {
    const borderRadiusBottomLeftInput = document.getElementById('code-radius-bottom-left');
    borderRadiusBottomLeftInput.value = highlightedBorderRadiusBottomLeft;
    }

    if (highlightedBorderRadiusBottomRight !== "") {
    const borderRadiusBottomRightInput = document.getElementById('code-radius-bottom-right');
    borderRadiusBottomRightInput.value = highlightedBorderRadiusBottomRight;
    }

    if (highlightedBorderRadius !== "") {
    const borderRadiusInput = document.getElementById('code-radius');
    borderRadiusInput.value = highlightedBorderRadius;
    }

}


        function updatePreview() {
            const htmlInput = document.getElementById('code-input').value;
            const preview = document.getElementById('preview-iframe');
            const previewDocument = preview.contentDocument || preview.contentWindow.document;
            previewDocument.open();
            previewDocument.write(htmlInput);
            previewDocument.close();
            const previewElements = previewDocument.querySelectorAll('*');
            previewElements.forEach(function(element) {
                element.addEventListener('click', function(event) {
                    highlightCodeInInput(event.target);
                });
            });
        }


        //SHOW CODE
        document.addEventListener("DOMContentLoaded", function () {
    var showCodeButton = document.getElementById("show_code");
    var textInputShowHidden = document.getElementById("editor-container");
    var iconElement = document.getElementById("show_code_icon");

    showCodeButton.addEventListener("click", function () {
        if (textInputShowHidden.style.display === "none") {
            textInputShowHidden.style.display = "block";
            iconElement.innerHTML = "code_off";
        } else {
            textInputShowHidden.style.display = "none";
            iconElement.innerHTML = "code";
        }
    });
});

     


        //UP DOWN TEXT

        var codeEditor = document.getElementById("code-input");
        var moveUpButton = document.getElementById("move-up");
        var moveDownButton = document.getElementById("move-down");

        // Gestisci il click sul pulsante "Su"
        moveUpButton.addEventListener("click", function() {
            moveSelectedTextUp();
        });

        // Gestisci il click sul pulsante "Giù"
        moveDownButton.addEventListener("click", function() {
            moveSelectedTextDown();
        });

        // Funzione per spostare il testo selezionato verso l'alto
        function moveSelectedTextUp() {
            var selectedText = getSelectedText();
            if (!selectedText) return;

            var text = codeEditor.value;
            var lines = text.split('\n');
            var startIndex = getSelectedLineIndex();

            if (startIndex > 0) {
                lines.splice(startIndex, 1);
                lines.splice(startIndex - 1, 0, selectedText);
                codeEditor.value = lines.join('\n');
            }
            updatePreview();
        }

        // Funzione per spostare il testo selezionato verso il basso
        function moveSelectedTextDown() {
            var selectedText = getSelectedText();
            if (!selectedText) return;

            var text = codeEditor.value;
            var lines = text.split('\n');
            var startIndex = getSelectedLineIndex();

            if (startIndex < lines.length - 1) {
                lines.splice(startIndex, 1);
                lines.splice(startIndex + 1, 0, selectedText);
                codeEditor.value = lines.join('\n');
            }
            updatePreview();
        }

        // Funzione per ottenere il testo selezionato
        function getSelectedText() {
            var start = codeEditor.selectionStart;
            var end = codeEditor.selectionEnd;
            var text = codeEditor.value;

            if (start !== end) {
                return text.substring(start, end);
            } else {
                return null;
            }
        }

        // Funzione per ottenere l'indice della riga in cui è selezionato il testo
        function getSelectedLineIndex() {
            var start = codeEditor.selectionStart;
            var text = codeEditor.value;
            var lines = text.split('\n');
            var currentIndex = 0;

            for (var i = 0; i < lines.length; i++) {
                currentIndex += lines[i].length + 1; // +1 per il carattere di nuova riga
                if (currentIndex > start) {
                    return i;
                }
            }

            return -1;
        }



        function modcomponents() {

            var newID = document.getElementById('code-id').value;
            var codeInput1 = document.getElementById('code-input');
            var start = codeInput1.selectionStart;
            var end = codeInput1.selectionEnd;
            var modifyText = codeInput1.value.substring(start, end);
            var modifedText1 = modifyText.replace(/id="[^"]*"/g, 'id="' + newID + '"');
            var newText1 = codeInput1.value.substring(0, start) + modifedText1 + codeInput1.value.substring(end);
            codeInput1.value = newText1;
            codeInput1.setSelectionRange(start, start + modifedText1.length);
      
            var newCLASS = document.getElementById('code-class').value;
            var codeInput2 = document.getElementById('code-input');
            var start = codeInput2.selectionStart;
            var end = codeInput2.selectionEnd;
            var modifyText = codeInput2.value.substring(start, end);
            var modifedText2 = modifyText.replace(/class="[^"]*"/g, 'class="' + newCLASS + '"');
            var newText2 = codeInput2.value.substring(0, start) + modifedText2 + codeInput2.value.substring(end);
            codeInput2.value = newText2;
            codeInput2.setSelectionRange(start, start + modifedText2.length);

            var newImgUrl = document.getElementById('code-src').value;
            var codeInput2 = document.getElementById('code-input');
            var start = codeInput2.selectionStart;
            var end = codeInput2.selectionEnd;
            var modifyText = codeInput2.value.substring(start, end);
            var modifedText3 = modifyText.replace(/src="[^"]*"/g, 'src="' + newImgUrl + '"');
            var newText3 = codeInput2.value.substring(0, start) + modifedText3 + codeInput2.value.substring(end);
            codeInput2.value = newText3;
            codeInput2.setSelectionRange(start, start + modifedText3.length);

            var newPlaceholder = document.getElementById('code-placeholder').value;
            var codeInput2 = document.getElementById('code-input');
            var start = codeInput2.selectionStart;
            var end = codeInput2.selectionEnd;
            var modifyText = codeInput2.value.substring(start, end);
            var modifedText4 = modifyText.replace(/placeholder="[^"]*"/g, 'placeholder="' + newPlaceholder + '"');
            var newText4 = codeInput2.value.substring(0, start) + modifedText4 + codeInput2.value.substring(end);
            codeInput2.value = newText4;
            codeInput2.setSelectionRange(start, start + modifedText4.length);

            var newPlaceholder = document.getElementById('code-href').value;
            var codeInput2 = document.getElementById('code-input');
            var start = codeInput2.selectionStart;
            var end = codeInput2.selectionEnd;
            var modifyText = codeInput2.value.substring(start, end);
            var modifedText5 = modifyText.replace(/href="[^"]*"/g, 'href="' + newPlaceholder + '"');
            var newText5 = codeInput2.value.substring(0, start) + modifedText5 + codeInput2.value.substring(end);
            codeInput2.value = newText5;
            codeInput2.setSelectionRange(start, start + modifedText5.length);
   
      updatePreview();
      
  }





  
   



     // Seleziona tutti gli elementi di input con la classe 'input'
     var inputElements = document.querySelectorAll('.input');

// Aggiungi un event listener per l'evento "blur" a ciascun input con la classe 'input'
inputElements.forEach(function(inputElement) {
    inputElement.addEventListener('blur', function() {
       modcomponents();
    });
});

// Definisci la tua funzione da eseguire
function tuaFunzioneDaEseguire() {
    // Questa è la funzione che verrà chiamata quando un input con la classe 'input' perde il focus
    alert("Input ha perso il focus!");
    // Puoi inserire il codice che desideri eseguire qui.
}






    var inputElement0 = document.getElementById("code-text");
    inputElement0.addEventListener("keydown", function(event) {

      if (event.keyCode === 13) {
        var mainTextareaModified = document.getElementById("code-input");
var inputTextModified = document.getElementById("code-text").value;
var startModified = mainTextareaModified.selectionStart;
var endModified = mainTextareaModified.selectionEnd;
var textareaContentModified = mainTextareaModified.value;
var selezioneModified = textareaContentModified.substring(startModified, endModified);
var tempDivModified = document.createElement('div');
tempDivModified.innerHTML = selezioneModified;
var selectedTagModified = tempDivModified.firstChild;

if (selectedTagModified) {
    selectedTagModified.textContent = inputTextModified;
    var modifiedSelectionModified = selectedTagModified.outerHTML;
    var modifiedContentModified = textareaContentModified.substring(0, startModified) + modifiedSelectionModified + textareaContentModified.substring(endModified);
    mainTextareaModified.value = modifiedContentModified;
    console.log('html element code ok')
}
else{
  console.log('html element code error')
}

updatePreview();

      }
    });




    var inputElement1 = document.getElementById("code-height");
    inputElement1.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {
   
        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie

var textBoxHeight = document.getElementById("code-input"); 
var codeHeightInput = document.getElementById("code-height");
var textToAddHeight = codeHeightInput.value;
var selectionStartHeight = start;
var selectionEndHeight = end;

if (textToAddHeight.length > 0) {
var validHeightPattern = /^(\d+(px|%))|auto$/;
if (validHeightPattern.test(textToAddHeight)) {
    if (selectionStartHeight !== undefined && selectionEndHeight !== undefined) {
        var selectedTextHeight = textBoxHeight.value.substring(selectionStartHeight, selectionEndHeight);
        var newTextHeight = selectedTextHeight.replace(/style="([^"]*)"/, function(match, style) {
            style = style.replace(/height:[^;]+;/, '');
            style += "height:" + textToAddHeight + "; ";
            return 'style="' + style + '"';
        });
        var updatedTextHeight = textBoxHeight.value.substring(0, selectionStartHeight) + newTextHeight + textBoxHeight.value.substring(selectionEndHeight);
        textBoxHeight.value = updatedTextHeight;
    }
  } else {
    alert("Please enter a valid height value (e.g., 100px, 50%, or auto).");
  }
}

updatePreview();

      }
    });
    


    var inputElement2 = document.getElementById("code-width");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {

                
function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxWidth = document.getElementById("code-input");
var codeWidthInput = document.getElementById("code-width");
var textToAddWidth = codeWidthInput.value;
var selectionStartWidth = start;
var selectionEndWidth = end;

if (textToAddWidth.length > 0) {
var validWidthPattern = /^(\d+(px|%))|auto$/;
if (validWidthPattern.test(textToAddWidth)) {
    if (selectionStartWidth !== undefined && selectionEndWidth !== undefined) {
        var selectedTextWidth = textBoxWidth.value.substring(selectionStartWidth, selectionEndWidth);
        var newTextWidth = selectedTextWidth.replace(/style="([^"]*)"/, function(match, style) {
            style = style.replace(/width:[^;]+;/, '');
            style += "width:" + textToAddWidth + "; ";
            return 'style="' + style + '"';
        });
        var updatedTextWidth = textBoxWidth.value.substring(0, selectionStartWidth) + newTextWidth + textBoxWidth.value.substring(selectionEndWidth);
        textBoxWidth.value = updatedTextWidth;
    }
  } else {
    alert("Please enter a valid width value (e.g., 100px, 50% or auto).");
}
}

    updatePreview();

      }
    });


    var inputElement2 = document.getElementById("code-radius");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {

function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxRadius = document.getElementById("code-input");
var codeRadiusInput = document.getElementById("code-radius");
var textToAddRadius = codeRadiusInput.value;
var selectionStartRadius = start;
var selectionEndRadius = end;



if (textToAddRadius.length > 0) {
  var validRadiusPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validRadiusPattern.test(textToAddRadius)) {
    if (selectionStartRadius !== undefined && selectionEndRadius !== undefined) {
      var selectedTextRadius = textBoxRadius.value.substring(selectionStartRadius, selectionEndRadius);
      var newTextRadius = selectedTextRadius.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/border-radius:[^;]+;/, '');
        style += "border-radius:" + textToAddRadius + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextRadius = textBoxRadius.value.substring(0, selectionStartRadius) + newTextRadius + textBoxRadius.value.substring(selectionEndRadius);
      textBoxRadius.value = updatedTextRadius;
    }
  } else {
    alert("Please enter a valid border-radius value (e.g., 10px, 50%, 0, initial, inherit, or unset).");
  }
}

updatePreview();

      }
    });



    var inputElement2 = document.getElementById("code-radius-top-left");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {

          
        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxRadiusTopLeft = document.getElementById("code-input");
var codeRadiusTopLeftInput = document.getElementById("code-radius-top-left");
var textToAddRadiusTopLeft = codeRadiusTopLeftInput.value;
var selectionStartRadiusTopLeft = start;
var selectionEndRadiusTopLeft = end;

if (textToAddRadiusTopLeft.length > 0) {
  var validRadiusPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validRadiusPattern.test(textToAddRadiusTopLeft)) {
    if (selectionStartRadiusTopLeft !== undefined && selectionEndRadiusTopLeft !== undefined) {
      var selectedTextRadiusTopLeft = textBoxRadiusTopLeft.value.substring(selectionStartRadiusTopLeft, selectionEndRadiusTopLeft);
      var newTextRadiusTopLeft = selectedTextRadiusTopLeft.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/border-top-left-radius:[^;]+;/, '');
        style += "border-top-left-radius:" + textToAddRadiusTopLeft + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextRadiusTopLeft = textBoxRadiusTopLeft.value.substring(0, selectionStartRadiusTopLeft) + newTextRadiusTopLeft + textBoxRadiusTopLeft.value.substring(selectionEndRadiusTopLeft);
      textBoxRadiusTopLeft.value = updatedTextRadiusTopLeft;
    }
  } else {
    alert("Please enter a valid border-top-left-radius value (e.g., 10px, 50%, 0, initial, inherit, or unset).");
  }
}

updatePreview();

      }
    });



    var inputElement2 = document.getElementById("code-radius-top-right");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {


                
        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxRadiusTopRight = document.getElementById("code-input");
var codeRadiusTopRightInput = document.getElementById("code-radius-top-right");
var textToAddRadiusTopRight = codeRadiusTopRightInput.value;
var selectionStartRadiusTopRight = start;
var selectionEndRadiusTopRight = end;


if (textToAddRadiusTopRight.length > 0) {
  var validRadiusPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validRadiusPattern.test(textToAddRadiusTopRight)) {
    if (selectionStartRadiusTopRight !== undefined && selectionEndRadiusTopRight !== undefined) {
      var selectedTextRadiusTopRight = textBoxRadiusTopRight.value.substring(selectionStartRadiusTopRight, selectionEndRadiusTopRight);
      var newTextRadiusTopRight = selectedTextRadiusTopRight.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/border-top-right-radius:[^;]+;/, '');
        style += "border-top-right-radius:" + textToAddRadiusTopRight + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextRadiusTopRight = textBoxRadiusTopRight.value.substring(0, selectionStartRadiusTopRight) + newTextRadiusTopRight + textBoxRadiusTopRight.value.substring(selectionEndRadiusTopRight);
      textBoxRadiusTopRight.value = updatedTextRadiusTopRight;
    }
  } else {
    alert("Please enter a valid border-top-right-radius value (e.g., 10px, 50%, 0, initial, inherit, or unset).");
  }
};

updatePreview();

      }
    });



    var inputElement2 = document.getElementById("code-radius-bottom-left");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {


        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxRadiusBottomLeft = document.getElementById("code-input");
var codeRadiusBottomLeftInput = document.getElementById("code-radius-bottom-left");
var textToAddRadiusBottomLeft = codeRadiusBottomLeftInput.value;
var selectionStartRadiusBottomLeft = start;
var selectionEndRadiusBottomLeft = end;


if (textToAddRadiusBottomLeft.length > 0) {
  var validRadiusPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validRadiusPattern.test(textToAddRadiusBottomLeft)) {
    if (selectionStartRadiusBottomLeft !== undefined && selectionEndRadiusBottomLeft !== undefined) {
      var selectedTextRadiusBottomLeft = textBoxRadiusBottomLeft.value.substring(selectionStartRadiusBottomLeft, selectionEndRadiusBottomLeft);
      var newTextRadiusBottomLeft = selectedTextRadiusBottomLeft.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/border-bottom-left-radius:[^;]+;/, '');
        style += "border-bottom-left-radius:" + textToAddRadiusBottomLeft + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextRadiusBottomLeft = textBoxRadiusBottomLeft.value.substring(0, selectionStartRadiusBottomLeft) + newTextRadiusBottomLeft + textBoxRadiusBottomLeft.value.substring(selectionEndRadiusBottomLeft);
      textBoxRadiusBottomLeft.value = updatedTextRadiusBottomLeft;
    }
  } else {
    alert("Please enter a valid border-bottom-left-radius value (e.g., 10px, 50%, 0, initial, inherit, or unset).");
  }
}

updatePreview();

      }
    });



    var inputElement2 = document.getElementById("code-radius-bottom-right");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {



        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxRadiusBottomRight = document.getElementById("code-input");
var codeRadiusBottomRightInput = document.getElementById("code-radius-bottom-right");
var textToAddRadiusBottomRight = codeRadiusBottomRightInput.value;
var selectionStartRadiusBottomRight = start;
var selectionEndRadiusBottomRight = end;


if (textToAddRadiusBottomRight.length > 0) {
  var validRadiusPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validRadiusPattern.test(textToAddRadiusBottomRight)) {
    if (selectionStartRadiusBottomRight !== undefined && selectionEndRadiusBottomRight !== undefined) {
      var selectedTextRadiusBottomRight = textBoxRadiusBottomRight.value.substring(selectionStartRadiusBottomRight, selectionEndRadiusBottomRight);
      var newTextRadiusBottomRight = selectedTextRadiusBottomRight.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/border-bottom-right-radius:[^;]+;/, '');
        style += "border-bottom-right-radius:" + textToAddRadiusBottomRight + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextRadiusBottomRight = textBoxRadiusBottomRight.value.substring(0, selectionStartRadiusBottomRight) + newTextRadiusBottomRight + textBoxRadiusBottomRight.value.substring(selectionEndRadiusBottomRight);
      textBoxRadiusBottomRight.value = updatedTextRadiusBottomRight;
    }
  } else {
    alert("Please enter a valid border-bottom-right-radius value (e.g., 10px, 50%, 0, initial, inherit, or unset).");
  }
}

updatePreview();

      }
    });




    var inputElement2 = document.getElementById("code-margin-top");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {


        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxMarginTopLeft = document.getElementById("code-input");
var codeMarginTopLeftInput = document.getElementById("code-margin-top");
var textToAddMarginTopLeft = codeMarginTopLeftInput.value;
var selectionStartMarginTopLeft = start;
var selectionEndMarginTopLeft = end;


if (textToAddMarginTopLeft.length > 0) {
  var validMarginPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validMarginPattern.test(textToAddMarginTopLeft)) {
    if (selectionStartMarginTopLeft !== undefined && selectionEndMarginTopLeft !== undefined) {
      var selectedTextMarginTopLeft = textBoxMarginTopLeft.value.substring(selectionStartMarginTopLeft, selectionEndMarginTopLeft);
      var newTextMarginTopLeft = selectedTextMarginTopLeft.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/margin-top:[^;]+;/, '');
        style += "margin-top:" + textToAddMarginTopLeft + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextMarginTopLeft = textBoxMarginTopLeft.value.substring(0, selectionStartMarginTopLeft) + newTextMarginTopLeft + textBoxMarginTopLeft.value.substring(selectionEndMarginTopLeft);
      textBoxMarginTopLeft.value = updatedTextMarginTopLeft;
    }
  } else {
    alert("Please enter a valid margin-top-left value (e.g., 10px, 0, initial, inherit, or unset).");
  }
}

updatePreview();

      }
    });


    
    var inputElement2 = document.getElementById("code-margin-bottom");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {


        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie


var textBoxMarginBottom = document.getElementById("code-input");
var codeMarginBottomInput = document.getElementById("code-margin-bottom");
var textToAddMarginBottom = codeMarginBottomInput.value;
var selectionStartMarginBottom = start;
var selectionEndMarginBottom = end;


if (textToAddMarginBottom.length > 0) {
  var validMarginPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validMarginPattern.test(textToAddMarginBottom)) {
    if (selectionStartMarginBottom !== undefined && selectionEndMarginBottom !== undefined) {
      var selectedTextMarginBottom = textBoxMarginBottom.value.substring(selectionStartMarginBottom, selectionEndMarginBottom);
      var newTextMarginBottom = selectedTextMarginBottom.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/margin-bottom:[^;]+;/, '');
        style += "margin-bottom:" + textToAddMarginBottom + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextMarginBottom = textBoxMarginBottom.value.substring(0, selectionStartMarginBottom) + newTextMarginBottom + textBoxMarginBottom.value.substring(selectionEndMarginBottom);
      textBoxMarginBottom.value = updatedTextMarginBottom;
    }
  } else {
    alert("Please enter a valid margin-bottom value (e.g., 10px, 50%, 0, initial, inherit, or unset).");
  }
}

updatePreview();

      }
    });



      
    var inputElement2 = document.getElementById("code-margin-left");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {


        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie

var textBoxMarginLeft = document.getElementById("code-input");
var codeMarginLeftInput = document.getElementById("code-margin-left");
var textToAddMarginLeft = codeMarginLeftInput.value;
var selectionStartMarginLeft = start;
var selectionEndMarginLeft = end;


        if (textToAddMarginLeft.length > 0) {
  var validMarginPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validMarginPattern.test(textToAddMarginLeft)) {
    if (selectionStartMarginLeft !== undefined && selectionEndMarginLeft !== undefined) {
      var selectedTextMarginLeft = textBoxMarginLeft.value.substring(selectionStartMarginLeft, selectionEndMarginLeft);
      var newTextMarginLeft = selectedTextMarginLeft.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/margin-left:[^;]+;/, '');
        style += "margin-left:" + textToAddMarginLeft + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextMarginLeft = textBoxMarginLeft.value.substring(0, selectionStartMarginLeft) + newTextMarginLeft + textBoxMarginLeft.value.substring(selectionEndMarginLeft);
      textBoxMarginLeft.value = updatedTextMarginLeft;
    }
  } else {
    alert("Please enter a valid margin-left value (e.g., 10px, 0, initial, inherit, or unset).");
  }
}

updatePreview();

      }
    });
    



    var inputElement2 = document.getElementById("code-margin-right");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {

        function getCookie(name) {
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i].trim();
        if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
        }
    }
    return null;
}


var startFromCookie = getCookie("start");
var endFromCookie = getCookie("end");
var start = startFromCookie
var end = endFromCookie

var textBoxMarginRight = document.getElementById("code-input");
var codeMarginRightInput = document.getElementById("code-margin-right");
var textToAddMarginRight = codeMarginRightInput.value;
var selectionStartMarginRight = start;
var selectionEndMarginRight = end;


if (textToAddMarginRight.length > 0) {
  var validMarginPattern = /^(\d+px|%|0|initial|inherit|unset)$/;
  if (validMarginPattern.test(textToAddMarginRight)) {
    if (selectionStartMarginRight !== undefined && selectionEndMarginRight !== undefined) {
      var selectedTextMarginRight = textBoxMarginRight.value.substring(selectionStartMarginRight, selectionEndMarginRight);
      var newTextMarginRight = selectedTextMarginRight.replace(/style="([^"]*)"/, function(match, style) {
        style = style.replace(/margin-right:[^;]+;/, '');
        style += "margin-right:" + textToAddMarginRight + "; ";
        return 'style="' + style + '"';
      });
      var updatedTextMarginRight = textBoxMarginRight.value.substring(0, selectionStartMarginRight) + newTextMarginRight + textBoxMarginRight.value.substring(selectionEndMarginRight);
      textBoxMarginRight.value = updatedTextMarginRight;
    }
  } else {
    alert("Please enter a valid margin-right value (e.g., 10px, 50%, 0, initial, inherit, or unset).");
  }
}


updatePreview();
      }
    });

    



    var inputElement2 = document.getElementById("code-width");
    inputElement2.addEventListener("keydown", function(event) {
      if (event.keyCode === 13) {


      }
    });





    //settings event listeners
    document.getElementById("embed_settings_button").addEventListener("click", function() {
  
  document.getElementById("embed_settings").style.display = "flex";
  document.getElementById("app_settings").style.display = "none";

 
 });

 document.getElementById("general_settings_button").addEventListener("click", function() {
  
  document.getElementById("embed_settings").style.display = "none";
  document.getElementById("app_settings").style.display = "flex";

 
 });


 document.getElementById("project_settings_button_flex").addEventListener("click", function() {
  
  document.getElementById("project_settings").style.display = "flex";
 
 });


 document.getElementById("close_project_settings_button").addEventListener("click", function() {
  
  document.getElementById("project_settings").style.display = "none";
 
 });

 
 document.getElementById("open_account_settings").addEventListener("click", function() {
  
  document.getElementById("account_settings").style.display = "flex";
 
 });

 document.getElementById("account_button").addEventListener("click", function() {
  
  document.getElementById("account_settings").style.display = "flex";
 
 });

 document.getElementById("builder_settings_button").addEventListener("click", function() {
  
  document.getElementById("builder_settings").style.display = "flex";
  document.getElementById("account_settings_div").style.display = "none";
 
 });

 document.getElementById("account_settings_button").addEventListener("click", function() {
  
  document.getElementById("builder_settings").style.display = "none";
  document.getElementById("account_settings_div").style.display = "flex";
 
 });

 document.getElementById("close_account_settings_button").addEventListener("click", function() {
  
  document.getElementById("account_settings").style.display = "none";
 
 });

 document.getElementById("close_create_new_project_form_button").addEventListener("click", function() {
  
  document.getElementById("create_new_project_form").style.display = "none";
 
 });

 document.getElementById("close_create_new_project_form_button1").addEventListener("click", function() {
  
  document.getElementById("create_new_project_form").style.display = "none";
 
 });

 document.getElementById("publish_app_button").addEventListener("click", function() {

  editorContainer = document.getElementById("editor-container")

  if (editorContainer.style.display !== 'flex') {
  document.getElementById("editor-container").style.display = "flex";
  document.getElementById("editor-container").style.height = "92%";
  document.getElementById("editor-container").style.width = "95%";
  document.getElementById("editor-container").style.position = "absolute";
  document.getElementById("editor-container").style.zIndex = "3";
}else{
  document.getElementById("editor-container").style.display = "none";
}

 });


 document.getElementById("confirm_create_new_project_button").addEventListener("click", function() {

  var project_name_input = document.getElementById('code-new_app_name');
  if (project_name_input.value !== ''){
const user = firebase.auth().currentUser;
const uid = user.uid; 

const project_name_input = document.getElementById('code-new_app_name');
const db = firebase.database();
const projectName = project_name_input.value;

const app_icon = document.getElementById('code-new_icon_image_link');
const db1 = firebase.database();
const dataRef1 = db1.ref('/user_datas/' + uid + '/projects/' + projectName + '/');
const appIcon = app_icon.value;

const background_color = document.getElementById('code-new_background-color');
const db2 = firebase.database();
const dataRef2 = db2.ref('/user_datas/' + uid + '/projects/' + projectName + '/');
const backgroundColor = background_color.value;

const db3 = firebase.database();
const dataRef3 = db3.ref('/user_datas/' + uid + '/projects/' + projectName + '/');

const data1 = {
  app_icon: appIcon,
};

const data2 = {
  background_color: backgroundColor,
};



var default_code = 
`<html>
<head>
  <title>${projectName}</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
    }
  </style>
</head>
<body>
</body>
</html>
`;

const data3 = {
  app_code: default_code,
};


dataRef1.update(data1)
dataRef2.update(data2)
dataRef3.update(data3)
    
   
  document.getElementById("create_new_project_form").style.display = "none";
  document.getElementById("home_interface").style.display = "none";
  document.getElementById("builder_interface").style.display = "flex";

    }else{
    alert('Insert a valid app name to create a project')
    }
});



firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    const uid = user.uid;
    
    // Ora puoi utilizzare l'UID per costruire il percorso corretto nel database
    const projectsRef = firebase.database().ref( '/user_datas/' + uid + '/projects');
    const container = document.getElementById("projects_container");

    // Recupera i dati dei progetti da Firebase e crea una div per ciascun progetto
   

    projectsRef.once("value", snapshot => {
    snapshot.forEach(childSnapshot => {
      const projectName = childSnapshot.key; 

        const cardDiv = document.createElement("div");
        cardDiv.className = "project_dinamic_card"; // Aggiungi una classe CSS per lo stile della card
        cardDiv.id = `${projectName}`

        // Nascondi il messaggio "Nessun progetto ancora"
        document.getElementById("no_projects_yet").style.display = "none";

        // Mostra il contenitore dei progetti
        document.getElementById("projects_container").style.display = "flex";
        
        // Crea una div per la riga
        const rowDiv = document.createElement("div");
        rowDiv.className = "row_div"; 
        
        // Crea un elemento immagine per l'icona del progetto
        const imgElement = document.createElement("img");
        imgElement.className = "project_dinamic_image"; 
        imgElement.src = childSnapshot.child("app_icon").val(); // Assicurati che "app_icon" sia il percorso corretto
        rowDiv.appendChild(imgElement);
        const srcDellImmagine = imgElement.src;

        // Crea un elemento per il nome del progetto all'interno della card
        const projectNameParagraph = document.createElement("p");
        projectNameParagraph.textContent = projectName;
        rowDiv.appendChild(projectNameParagraph);
        
        // Aggiungi la riga al cardDiv
        cardDiv.appendChild(rowDiv);
       
        // Crea una div per il separatore
const separatorDiv = document.createElement("div");
separatorDiv.className = "project_dinamic_separator";

// Aggiungi la "separatorDiv" a "cardDiv"
cardDiv.appendChild(separatorDiv);



//bottoni

// Crea una div per contenere i bottoni
const buttonsDiv = document.createElement("div");
buttonsDiv.className = "dinamic_button_div"; // Aggiungi la classe "button_div"

// Crea il primo pulsante
const button1 = document.createElement("button");
button1.className = "dinamic_button2"; 
button1.id = "delete_dinamic_button"
button1.textContent = "Delete";
button1.addEventListener("click", function() {
globalThis.uidDeleteCUSTOMVALUE = user.uid;
globalThis.projectToDeleteCUSTOMVALUE = `${projectName}`;
document.getElementById("delete_project_app_name").textContent = `${projectName}`
document.getElementById("delete_project_img").src = `${srcDellImmagine}`;
document.getElementById("delete_project_form").style.display = "flex";
});

// Crea il secondo pulsante
const button2 = document.createElement("button");
button2.className = "dinamic_button1"; 
button2.id = "edit_dinamic_button"; 
button2.textContent = "Edit";
button2.addEventListener("click", function() {
  globalThis.uidDeleteCUSTOMVALUE = user.uid;
  globalThis.projectToDeleteCUSTOMVALUE = `${projectName}`;
  var database = firebase.database();
var ref = database.ref('/user_datas/' + uid + '/projects/' + projectName + '/app_code'); 

ref.on('value', function(snapshot) {
    var projectCode = snapshot.val();
    document.getElementById("code-input").value = projectCode;
    updatePreview();
   document.getElementById("home_interface").style.display = "none";
   document.getElementById("builder_interface").style.display = "flex";
});
});

// Aggiungi i pulsanti alla "buttonsDiv"
buttonsDiv.appendChild(button1);
buttonsDiv.appendChild(button2);

// Aggiungi la "buttonsDiv" a un elemento esistente nella tua pagina
cardDiv.appendChild(buttonsDiv);
container.appendChild(cardDiv);

    }); 
});

  }
});



document.getElementById("confirm_cancel_project").addEventListener("click", function() {
  const database = firebase.database();
  const percorsoDaEliminare = '/user_datas/' + globalThis.uidDeleteCUSTOMVALUE + '/projects/' + globalThis.projectToDeleteCUSTOMVALUE; // Sostituisci con il percorso specifico
  console.log(percorsoDaEliminare)
  database.ref(percorsoDaEliminare).remove()
})

document.getElementById("close_cancel_project_form").addEventListener("click", function() {
document.getElementById("delete_project_form").style.display = "none";
})

document.getElementById("close_delete_project_form_button").addEventListener("click", function() {
 document.getElementById("delete_project_form").style.display = "none";
 })



 function deleteSelectedText() {
var textarea = document.getElementById("code-input");
var testo = textarea.value;
var startPos = textarea.selectionStart;
var endPos = textarea.selectionEnd;
var rigaInizio = testo.lastIndexOf('\n', startPos) + 1;
var rigaFine = testo.indexOf('\n', endPos);
if (rigaFine === -1) {
    rigaFine = testo.length;
}
var nuovoTesto = testo.substring(0, rigaInizio) + testo.substring(rigaFine + 1);
textarea.value = nuovoTesto;
      updatePreview();
        }



   document.getElementById("delete_account_button").addEventListener("click", function() {
      document.getElementById("delete_account_form").style.position = "absolute";
      document.getElementById("delete_account_form").style.zIndex = "3";
      document.getElementById("delete_account_form").style.display = "flex";
    });
  
    document.getElementById("confirm_delete_button").addEventListener("click", function() {
      deleteAccount();
      document.getElementById("delete_account_form").style.display = "none";
    });
  
    document.getElementById("cancel_delete_button").addEventListener("click", function() {
      document.getElementById("delete_account_form").style.display = "none";
    });

    document.getElementById("close_delete_form").addEventListener("click", function() {
      document.getElementById("delete_account_form").style.display = "none";
    });



    function disconnectAccount(){
  firebase.auth().signOut().then(function() {
    alert("Disconnected succesfully!");
  }).catch(function(error) {
    alert("Unable to disconnect, try later: " + error.message);
  });
};



  function deleteAccount() {
      const user = firebase.auth().currentUser;
  
      if (user) {
        user.delete()
          .then(() => {
            document.getElementById("logged_interface").style.display = "none";
            document.getElementById("log_interface").style.display = "flex";
            alert("Account deleted succesfully");
          })
          .catch((error) => {
            alert("Unable to delete your account");
            console.error(error);
          });
      } else {
        alert("User not logged, login to delete your account");
      }
    }
  

    document.getElementById("resetPasswordBtn").addEventListener("click", function () {
  var email = document.getElementById("emailInput").value;
  firebase.auth().sendPasswordResetEmail(email)
    .then(function() {
      alert("A mail was sent to your email");
    })
    .catch(function(error) {
      alert("Error while sending reset password email, error: " + error.message);
    });
});


    document.getElementById("close_reset_password_button").addEventListener("click", function() {
      document.getElementById("reset_password_dialog").style.display = "none";
    });

    document.getElementById("CancelResetPasswordBtn").addEventListener("click", function() {
      document.getElementById("reset_password_dialog").style.display = "none";
    });

    document.getElementById("reset_password_button").addEventListener("click", function() {
      document.getElementById("account_settings").style.display = "none";
      document.getElementById("reset_password_dialog").style.display = "flex";
    });

    document.getElementById("front_button").addEventListener("click", function() {
      document.getElementById("front_editor").style.display = "flex";
      document.getElementById("back_editor").style.display = "none";
    });

    document.getElementById("back_button").addEventListener("click", function() {
      document.getElementById("front_editor").style.display = "none";
      document.getElementById("back_editor").style.display = "flex";
    });







</script>

</body>
</html>

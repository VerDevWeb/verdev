(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{9058:(Yt,et,N)=>{"use strict";N.d(et,{BH:()=>Ae,G6:()=>be,L:()=>je,LL:()=>Ke,Pz:()=>Re,Sg:()=>Je,UG:()=>ae,ZB:()=>Me,ZR:()=>Ce,aH:()=>ze,b$:()=>nt,eu:()=>J,hl:()=>De,jU:()=>W,m9:()=>Fe,ne:()=>Wn,pd:()=>Nn,r3:()=>bt,ru:()=>Qe,tV:()=>_e,uI:()=>pe,vZ:()=>Xt,w1:()=>Et,xO:()=>fr,xb:()=>rn,z$:()=>z,zd:()=>Fn});const ne=function(te){const oe=[];let we=0;for(let ot=0;ot<te.length;ot++){let qe=te.charCodeAt(ot);qe<128?oe[we++]=qe:qe<2048?(oe[we++]=qe>>6|192,oe[we++]=63&qe|128):55296==(64512&qe)&&ot+1<te.length&&56320==(64512&te.charCodeAt(ot+1))?(qe=65536+((1023&qe)<<10)+(1023&te.charCodeAt(++ot)),oe[we++]=qe>>18|240,oe[we++]=qe>>12&63|128,oe[we++]=qe>>6&63|128,oe[we++]=63&qe|128):(oe[we++]=qe>>12|224,oe[we++]=qe>>6&63|128,oe[we++]=63&qe|128)}return oe},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,oe){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ot=[];for(let qe=0;qe<te.length;qe+=3){const Bt=te[qe],tn=qe+1<te.length,Rn=tn?te[qe+1]:0,Rr=qe+2<te.length,Mr=Rr?te[qe+2]:0;let Wr=(15&Rn)<<2|Mr>>6,Ai=63&Mr;Rr||(Ai=64,tn||(Wr=64)),ot.push(we[Bt>>2],we[(3&Bt)<<4|Rn>>4],we[Wr],we[Ai])}return ot.join("")},encodeString(te,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(te):this.encodeByteArray(ne(te),oe)},decodeString(te,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(te):function(te){const oe=[];let we=0,ot=0;for(;we<te.length;){const qe=te[we++];if(qe<128)oe[ot++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const Bt=te[we++];oe[ot++]=String.fromCharCode((31&qe)<<6|63&Bt)}else if(qe>239&&qe<365){const Rr=((7&qe)<<18|(63&te[we++])<<12|(63&te[we++])<<6|63&te[we++])-65536;oe[ot++]=String.fromCharCode(55296+(Rr>>10)),oe[ot++]=String.fromCharCode(56320+(1023&Rr))}else{const Bt=te[we++],tn=te[we++];oe[ot++]=String.fromCharCode((15&qe)<<12|(63&Bt)<<6|63&tn)}}return oe.join("")}(this.decodeStringToByteArray(te,oe))},decodeStringToByteArray(te,oe){this.init_();const we=oe?this.charToByteMapWebSafe_:this.charToByteMap_,ot=[];for(let qe=0;qe<te.length;){const Bt=we[te.charAt(qe++)],Rn=qe<te.length?we[te.charAt(qe)]:0;++qe;const Mr=qe<te.length?we[te.charAt(qe)]:64;++qe;const zn=qe<te.length?we[te.charAt(qe)]:64;if(++qe,null==Bt||null==Rn||null==Mr||null==zn)throw new ue;ot.push(Bt<<2|Rn>>4),64!==Mr&&(ot.push(Rn<<4&240|Mr>>2),64!==zn&&ot.push(Mr<<6&192|zn))}return ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(te){return function(te){const oe=ne(te);return fe.encodeByteArray(oe,!0)}(te).replace(/\./g,"")},_e=function(te){try{return fe.decodeString(te,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function Me(te,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return oe}for(const we in oe)!oe.hasOwnProperty(we)||!Oe(we)||(te[we]=Me(te[we],oe[we]));return te}function Oe(te){return"__proto__"!==te}const Pe=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=te&&_e(te[1]);return oe&&JSON.parse(oe)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},ze=()=>{var te;return null===(te=Pe())||void 0===te?void 0:te.config},Re=te=>{var oe;return null===(oe=Pe())||void 0===oe?void 0:oe[`_${te}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,we)=>{this.resolve=oe,this.reject=we})}wrapCallback(oe){return(we,ot)=>{we?this.reject(we):this.resolve(ot),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(we):oe(we,ot))}}}function Je(te,oe){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ot=oe||"demo-project",qe=te.iat||0,Bt=te.sub||te.user_id;if(!Bt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tn=Object.assign({iss:`https://securetoken.google.com/${ot}`,aud:ot,iat:qe,exp:qe+3600,auth_time:qe,sub:Bt,user_id:Bt,firebase:{sign_in_provider:"custom",identities:{}}},te);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(tn)),""].join(".")}function z(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z())}function ae(){var te;const oe=null===(te=Pe())||void 0===te?void 0:te.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function W(){return"object"==typeof self&&self.self===self}function Qe(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const te=z();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function be(){return!ae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function J(){return new Promise((te,oe)=>{try{let we=!0;const ot="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(ot);qe.onsuccess=()=>{qe.result.close(),we||self.indexedDB.deleteDatabase(ot),te(!0)},qe.onupgradeneeded=()=>{we=!1},qe.onerror=()=>{var Bt;oe((null===(Bt=qe.error)||void 0===Bt?void 0:Bt.message)||"")}}catch(we){oe(we)}})}class Ce extends Error{constructor(oe,we,ot){super(we),this.code=oe,this.customData=ot,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(oe,we,ot){this.service=oe,this.serviceName=we,this.errors=ot}create(oe,...we){const ot=we[0]||{},qe=`${this.service}/${oe}`,Bt=this.errors[oe],tn=Bt?function wt(te,oe){return te.replace(St,(we,ot)=>{const qe=oe[ot];return null!=qe?String(qe):`<${ot}?>`})}(Bt,ot):"Error";return new Ce(qe,`${this.serviceName}: ${tn} (${qe}).`,ot)}}const St=/\{\$([^}]+)}/g;function bt(te,oe){return Object.prototype.hasOwnProperty.call(te,oe)}function rn(te){for(const oe in te)if(Object.prototype.hasOwnProperty.call(te,oe))return!1;return!0}function Xt(te,oe){if(te===oe)return!0;const we=Object.keys(te),ot=Object.keys(oe);for(const qe of we){if(!ot.includes(qe))return!1;const Bt=te[qe],tn=oe[qe];if(Pn(Bt)&&Pn(tn)){if(!Xt(Bt,tn))return!1}else if(Bt!==tn)return!1}for(const qe of ot)if(!we.includes(qe))return!1;return!0}function Pn(te){return null!==te&&"object"==typeof te}function fr(te){const oe=[];for(const[we,ot]of Object.entries(te))Array.isArray(ot)?ot.forEach(qe=>{oe.push(encodeURIComponent(we)+"="+encodeURIComponent(qe))}):oe.push(encodeURIComponent(we)+"="+encodeURIComponent(ot));return oe.length?"&"+oe.join("&"):""}function Fn(te){const oe={};return te.replace(/^\?/,"").split("&").forEach(ot=>{if(ot){const[qe,Bt]=ot.split("=");oe[decodeURIComponent(qe)]=decodeURIComponent(Bt)}}),oe}function Nn(te){const oe=te.indexOf("?");if(!oe)return"";const we=te.indexOf("#",oe);return te.substring(oe,we>0?we:void 0)}function Wn(te,oe){const we=new lr(te,oe);return we.subscribe.bind(we)}class lr{constructor(oe,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{oe(this)}).catch(ot=>{this.error(ot)})}next(oe){this.forEachObserver(we=>{we.next(oe)})}error(oe){this.forEachObserver(we=>{we.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,we,ot){let qe;if(void 0===oe&&void 0===we&&void 0===ot)throw new Error("Missing Observer.");qe=function Br(te,oe){if("object"!=typeof te||null===te)return!1;for(const we of oe)if(we in te&&"function"==typeof te[we])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:we,complete:ot},void 0===qe.next&&(qe.next=dn),void 0===qe.error&&(qe.error=dn),void 0===qe.complete&&(qe.complete=dn);const Bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),Bt}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,oe)}sendOne(oe,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{we(this.observers[oe])}catch(ot){typeof console<"u"&&console.error&&console.error(ot)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}function Fe(te){return te&&te._delegate?te._delegate:te}},3630:(Yt,et,N)=>{"use strict";N.d(et,{c:()=>Y,r:()=>se});const Y=(z,pe)=>{z.componentOnReady?z.componentOnReady().then(ae=>pe(ae)):se(()=>pe(z))},se=z=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(z):"function"==typeof requestAnimationFrame?requestAnimationFrame(z):setTimeout(z)},191:(Yt,et,N)=>{"use strict";N.d(et,{L:()=>u,a:()=>k,b:()=>Y,c:()=>ne,d:()=>Te,g:()=>z});const u="ionViewWillEnter",k="ionViewDidEnter",Y="ionViewWillLeave",ne="ionViewDidLeave",Te="ionViewWillUnload",z=pe=>pe.classList.contains("ion-page")?pe:pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||pe},1072:(Yt,et,N)=>{"use strict";N.d(et,{c:()=>it});var u=N(1848),k=N(2831);let Y;const Te=xe=>xe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fe=xe=>(void 0===Y&&(Y=void 0===xe.style.animationName&&void 0!==xe.style.webkitAnimationName?"-webkit-":""),Y),ue=(xe,Pe,Ve)=>{const pt=Pe.startsWith("animation")?fe(xe):"";xe.style.setProperty(pt+Pe,Ve)},Ue=(xe,Pe)=>{const Ve=Pe.startsWith("animation")?fe(xe):"";xe.style.removeProperty(Ve+Pe)},se=[],Ne=(xe=[],Pe)=>{if(void 0!==Pe){const Ve=Array.isArray(Pe)?Pe:[Pe];return[...xe,...Ve]}return xe},it=xe=>{let Pe,Ve,pt,ze,Re,Ae,W,De,J,ge,Be,St,Mt,Je=[],z=[],pe=[],ae=!1,Qe={},nt=[],tt=[],Et={},sn=0,Cn=!1,be=!1,Ce=!0,Ke=!1,wt=!0,at=!1;const Zt=xe,an=[],mt=[],ht=[],ct=[],bt=[],un=[],rn=[],Pt=[],Xt=[],Pn=[],yn=[],fr="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,Fn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&fr,En=()=>yn,dn=(gt,$)=>{const Q=$.findIndex(Le=>Le.c===gt);Q>-1&&$.splice(Q,1)},ir=(gt,$)=>((null!=$&&$.oneTimeCallback?mt:an).push({c:gt,o:$}),Mt),xn=()=>{if(Fn)yn.forEach(gt=>{gt.cancel()}),yn.length=0;else{const gt=ct.slice();(0,k.r)(()=>{gt.forEach($=>{Ue($,"animation-name"),Ue($,"animation-duration"),Ue($,"animation-timing-function"),Ue($,"animation-iteration-count"),Ue($,"animation-delay"),Ue($,"animation-play-state"),Ue($,"animation-fill-mode"),Ue($,"animation-direction")})})}},en=()=>{un.forEach(gt=>{null!=gt&&gt.parentNode&&gt.parentNode.removeChild(gt)}),un.length=0},oe=()=>void 0!==Re?Re:W?W.getFill():"both",we=()=>void 0!==J?J:void 0!==Ae?Ae:W?W.getDirection():"normal",ot=()=>Cn?"linear":void 0!==pt?pt:W?W.getEasing():"linear",qe=()=>be?0:void 0!==ge?ge:void 0!==Ve?Ve:W?W.getDuration():0,Bt=()=>void 0!==ze?ze:W?W.getIterations():1,tn=()=>void 0!==Be?Be:void 0!==Pe?Pe:W?W.getDelay():0,An=()=>{0!==sn&&(sn--,0===sn&&((()=>{ve(),Xt.forEach(Ge=>Ge()),Pn.forEach(Ge=>Ge());const gt=Ce?1:0,$=nt,Q=tt,Le=Et;ct.forEach(Ge=>{const dt=Ge.classList;$.forEach(vt=>dt.add(vt)),Q.forEach(vt=>dt.remove(vt));for(const vt in Le)Le.hasOwnProperty(vt)&&ue(Ge,vt,Le[vt])}),ge=void 0,J=void 0,Be=void 0,an.forEach(Ge=>Ge.c(gt,Mt)),mt.forEach(Ge=>Ge.c(gt,Mt)),mt.length=0,wt=!0,Ce&&(Ke=!0),Ce=!0})(),W&&W.animationFinish()))},qn=(gt=!0)=>{en();const $=(xe=>(xe.forEach(Pe=>{for(const Ve in Pe)if(Pe.hasOwnProperty(Ve)){const pt=Pe[Ve];if("easing"===Ve)Pe["animation-timing-function"]=pt,delete Pe[Ve];else{const ze=Te(Ve);ze!==Ve&&(Pe[ze]=pt,delete Pe[Ve])}}}),xe))(Je);ct.forEach(Q=>{if($.length>0){const Le=((xe=[])=>xe.map(Pe=>{const Ve=Pe.offset,pt=[];for(const ze in Pe)Pe.hasOwnProperty(ze)&&"offset"!==ze&&pt.push(`${ze}: ${Pe[ze]};`);return`${100*Ve}% { ${pt.join(" ")} }`}).join(" "))($);St=void 0!==xe?xe:(xe=>{let Pe=se.indexOf(xe);return Pe<0&&(Pe=se.push(xe)-1),`ion-animation-${Pe}`})(Le);const Ge=((xe,Pe,Ve)=>{var pt;const ze=(xe=>{const Pe=void 0!==xe.getRootNode?xe.getRootNode():xe;return Pe.head||Pe})(Ve),Re=fe(Ve),Ae=ze.querySelector("#"+xe);if(Ae)return Ae;const Je=(null!==(pt=Ve.ownerDocument)&&void 0!==pt?pt:document).createElement("style");return Je.id=xe,Je.textContent=`@${Re}keyframes ${xe} { ${Pe} } @${Re}keyframes ${xe}-alt { ${Pe} }`,ze.appendChild(Je),Je})(St,Le,Q);un.push(Ge),ue(Q,"animation-duration",`${qe()}ms`),ue(Q,"animation-timing-function",ot()),ue(Q,"animation-delay",`${tn()}ms`),ue(Q,"animation-fill-mode",oe()),ue(Q,"animation-direction",we());const dt=Bt()===1/0?"infinite":Bt().toString();ue(Q,"animation-iteration-count",dt),ue(Q,"animation-play-state","paused"),gt&&ue(Q,"animation-name",`${Ge.id}-alt`),(0,k.r)(()=>{ue(Q,"animation-name",Ge.id||null)})}})},_r=(gt=!0)=>{(()=>{rn.forEach(Le=>Le()),Pt.forEach(Le=>Le());const gt=z,$=pe,Q=Qe;ct.forEach(Le=>{const Ge=Le.classList;gt.forEach(dt=>Ge.add(dt)),$.forEach(dt=>Ge.remove(dt));for(const dt in Q)Q.hasOwnProperty(dt)&&ue(Le,dt,Q[dt])})})(),Je.length>0&&(Fn?(ct.forEach(gt=>{const $=gt.animate(Je,{id:Zt,delay:tn(),duration:qe(),easing:ot(),iterations:Bt(),fill:oe(),direction:we()});$.pause(),yn.push($)}),yn.length>0&&(yn[0].onfinish=()=>{An()})):qn(gt)),ae=!0},Vn=gt=>{if(gt=Math.min(Math.max(gt,0),.9999),Fn)yn.forEach($=>{$.currentTime=$.effect.getComputedTiming().delay+qe()*gt,$.pause()});else{const $=`-${qe()*gt}ms`;ct.forEach(Q=>{Je.length>0&&(ue(Q,"animation-delay",$),ue(Q,"animation-play-state","paused"))})}},Ri=gt=>{yn.forEach($=>{$.effect.updateTiming({delay:tn(),duration:qe(),easing:ot(),iterations:Bt(),fill:oe(),direction:we()})}),void 0!==gt&&Vn(gt)},Ui=(gt=!0,$)=>{(0,k.r)(()=>{ct.forEach(Q=>{ue(Q,"animation-name",St||null),ue(Q,"animation-duration",`${qe()}ms`),ue(Q,"animation-timing-function",ot()),ue(Q,"animation-delay",void 0!==$?`-${$*qe()}ms`:`${tn()}ms`),ue(Q,"animation-fill-mode",oe()||null),ue(Q,"animation-direction",we()||null);const Le=Bt()===1/0?"infinite":Bt().toString();ue(Q,"animation-iteration-count",Le),gt&&ue(Q,"animation-name",`${St}-alt`),(0,k.r)(()=>{ue(Q,"animation-name",St||null)})})})},Cr=(gt=!1,$=!0,Q)=>(gt&&bt.forEach(Le=>{Le.update(gt,$,Q)}),Fn?Ri(Q):Ui($,Q),Mt),er=()=>{ae&&(Fn?yn.forEach(gt=>{gt.pause()}):ct.forEach(gt=>{ue(gt,"animation-play-state","paused")}),at=!0)},me=()=>{De=void 0,An()},ve=()=>{De&&clearTimeout(De)},zt=gt=>new Promise($=>{null!=gt&&gt.sync&&(be=!0,ir(()=>be=!1,{oneTimeCallback:!0})),ae||_r(),Ke&&(Fn?(Vn(0),Ri()):Ui(),Ke=!1),wt&&(sn=bt.length+1,wt=!1);const Q=()=>{dn(Le,mt),$()},Le=()=>{dn(Q,ht),$()};ir(Le,{oneTimeCallback:!0}),((gt,$)=>{ht.push({c:gt,o:{oneTimeCallback:!0}})})(Q),bt.forEach(Ge=>{Ge.play()}),Fn?(yn.forEach(gt=>{gt.play()}),(0===Je.length||0===ct.length)&&An()):(()=>{if(ve(),(0,k.r)(()=>{ct.forEach(gt=>{Je.length>0&&ue(gt,"animation-play-state","running")})}),0===Je.length||0===ct.length)An();else{const gt=tn()||0,$=qe()||0,Q=Bt()||1;isFinite(Q)&&(De=setTimeout(me,gt+$*Q+100)),((xe,Pe)=>{let Ve;const pt={passive:!0},Re=Ae=>{xe===Ae.target&&(Ve&&Ve(),ve(),(0,k.r)(()=>{ct.forEach(gt=>{Ue(gt,"animation-duration"),Ue(gt,"animation-delay"),Ue(gt,"animation-play-state")}),(0,k.r)(An)}))};xe&&(xe.addEventListener("webkitAnimationEnd",Re,pt),xe.addEventListener("animationend",Re,pt),Ve=()=>{xe.removeEventListener("webkitAnimationEnd",Re,pt),xe.removeEventListener("animationend",Re,pt)})})(ct[0])}})(),at=!1}),Mn=(gt,$)=>{const Q=Je[0];return void 0===Q||void 0!==Q.offset&&0!==Q.offset?Je=[{offset:0,[gt]:$},...Je]:Q[gt]=$,Mt};return Mt={parentAnimation:W,elements:ct,childAnimations:bt,id:Zt,animationFinish:An,from:Mn,to:(gt,$)=>{const Q=Je[Je.length-1];return void 0===Q||void 0!==Q.offset&&1!==Q.offset?Je=[...Je,{offset:1,[gt]:$}]:Q[gt]=$,Mt},fromTo:(gt,$,Q)=>Mn(gt,$).to(gt,Q),parent:gt=>(W=gt,Mt),play:zt,pause:()=>(bt.forEach(gt=>{gt.pause()}),er(),Mt),stop:()=>{bt.forEach(gt=>{gt.stop()}),ae&&(xn(),ae=!1),Cn=!1,be=!1,wt=!0,J=void 0,ge=void 0,Be=void 0,sn=0,Ke=!1,Ce=!0,at=!1,ht.forEach(gt=>gt.c(0,Mt)),ht.length=0},destroy:gt=>(bt.forEach($=>{$.destroy(gt)}),(gt=>{xn(),gt&&en()})(gt),ct.length=0,bt.length=0,Je.length=0,an.length=0,mt.length=0,ae=!1,wt=!0,Mt),keyframes:gt=>{const $=Je!==gt;return Je=gt,$&&(gt=>{Fn?En().forEach($=>{const Q=$.effect;if(Q.setKeyframes)Q.setKeyframes(gt);else{const Le=new KeyframeEffect(Q.target,gt,Q.getTiming());$.effect=Le}}):qn()})(Je),Mt},addAnimation:gt=>{if(null!=gt)if(Array.isArray(gt))for(const $ of gt)$.parent(Mt),bt.push($);else gt.parent(Mt),bt.push(gt);return Mt},addElement:gt=>{if(null!=gt)if(1===gt.nodeType)ct.push(gt);else if(gt.length>=0)for(let $=0;$<gt.length;$++)ct.push(gt[$]);else console.error("Invalid addElement value");return Mt},update:Cr,fill:gt=>(Re=gt,Cr(!0),Mt),direction:gt=>(Ae=gt,Cr(!0),Mt),iterations:gt=>(ze=gt,Cr(!0),Mt),duration:gt=>(!Fn&&0===gt&&(gt=1),Ve=gt,Cr(!0),Mt),easing:gt=>(pt=gt,Cr(!0),Mt),delay:gt=>(Pe=gt,Cr(!0),Mt),getWebAnimations:En,getKeyframes:()=>Je,getFill:oe,getDirection:we,getDelay:tn,getIterations:Bt,getEasing:ot,getDuration:qe,afterAddRead:gt=>(Xt.push(gt),Mt),afterAddWrite:gt=>(Pn.push(gt),Mt),afterClearStyles:(gt=[])=>{for(const $ of gt)Et[$]="";return Mt},afterStyles:(gt={})=>(Et=gt,Mt),afterRemoveClass:gt=>(tt=Ne(tt,gt),Mt),afterAddClass:gt=>(nt=Ne(nt,gt),Mt),beforeAddRead:gt=>(rn.push(gt),Mt),beforeAddWrite:gt=>(Pt.push(gt),Mt),beforeClearStyles:(gt=[])=>{for(const $ of gt)Qe[$]="";return Mt},beforeStyles:(gt={})=>(Qe=gt,Mt),beforeRemoveClass:gt=>(pe=Ne(pe,gt),Mt),beforeAddClass:gt=>(z=Ne(z,gt),Mt),onFinish:ir,isRunning:()=>0!==sn&&!at,progressStart:(gt=!1,$)=>(bt.forEach(Q=>{Q.progressStart(gt,$)}),er(),Cn=gt,ae||_r(),Cr(!1,!0,$),Mt),progressStep:gt=>(bt.forEach($=>{$.progressStep(gt)}),Vn(gt),Mt),progressEnd:(gt,$,Q)=>(Cn=!1,bt.forEach(Le=>{Le.progressEnd(gt,$,Q)}),void 0!==Q&&(ge=Q),Ke=!1,Ce=!0,0===gt?(J="reverse"===we()?"normal":"reverse","reverse"===J&&(Ce=!1),Fn?(Cr(),Vn(1-$)):(Be=(1-$)*qe()*-1,Cr(!1,!1))):1===gt&&(Fn?(Cr(),Vn($)):(Be=$*qe()*-1,Cr(!1,!1))),void 0!==gt&&!W&&zt(),Mt)}}},8958:(Yt,et,N)=>{"use strict";N.d(et,{E:()=>_e,a:()=>u,s:()=>Ue});const u=se=>{try{if(se instanceof ue)return se.value;if(!ne()||"string"!=typeof se||""===se)return se;if(se.includes("onload="))return"";const Me=document.createDocumentFragment(),Oe=document.createElement("div");Me.appendChild(Oe),Oe.innerHTML=se,fe.forEach(xe=>{const Pe=Me.querySelectorAll(xe);for(let Ve=Pe.length-1;Ve>=0;Ve--){const pt=Pe[Ve];pt.parentNode?pt.parentNode.removeChild(pt):Me.removeChild(pt);const ze=Y(pt);for(let Re=0;Re<ze.length;Re++)k(ze[Re])}});const ke=Y(Me);for(let xe=0;xe<ke.length;xe++)k(ke[xe]);const Ne=document.createElement("div");Ne.appendChild(Me);const it=Ne.querySelector("div");return null!==it?it.innerHTML:Ne.innerHTML}catch(Me){return console.error(Me),""}},k=se=>{if(se.nodeType&&1!==se.nodeType)return;if(typeof NamedNodeMap<"u"&&!(se.attributes instanceof NamedNodeMap))return void se.remove();for(let Oe=se.attributes.length-1;Oe>=0;Oe--){const ke=se.attributes.item(Oe),Ne=ke.name;if(!Te.includes(Ne.toLowerCase())){se.removeAttribute(Ne);continue}const it=ke.value,xe=se[Ne];(null!=it&&it.toLowerCase().includes("javascript:")||null!=xe&&xe.toLowerCase().includes("javascript:"))&&se.removeAttribute(Ne)}const Me=Y(se);for(let Oe=0;Oe<Me.length;Oe++)k(Me[Oe])},Y=se=>null!=se.children?se.children:se.childNodes,ne=()=>{var se;const Me=window,Oe=null===(se=null==Me?void 0:Me.Ionic)||void 0===se?void 0:se.config;return!Oe||(Oe.get?Oe.get("sanitizerEnabled",!0):!0===Oe.sanitizerEnabled||void 0===Oe.sanitizerEnabled)},Te=["class","id","href","src","name","slot"],fe=["script","style","iframe","meta","link","object","embed"];class ue{constructor(Me){this.value=Me}}const Ue=se=>{const Me=window,Oe=Me.Ionic;if(!Oe||!Oe.config||"Object"===Oe.config.constructor.name)return Me.Ionic=Me.Ionic||{},Me.Ionic.config=Object.assign(Object.assign({},Me.Ionic.config),se),Me.Ionic.config},_e=!1},6066:(Yt,et,N)=>{"use strict";N.d(et,{C:()=>Te,a:()=>Y,d:()=>ne});var u=N(5861),k=N(2831);const Y=function(){var fe=(0,u.Z)(function*(ue,Ue,je,_e,se,Me){var Oe;if(ue)return ue.attachViewToDom(Ue,je,se,_e);if(!(Me||"string"==typeof je||je instanceof HTMLElement))throw new Error("framework delegate is missing");const ke="string"==typeof je?null===(Oe=Ue.ownerDocument)||void 0===Oe?void 0:Oe.createElement(je):je;return _e&&_e.forEach(Ne=>ke.classList.add(Ne)),se&&Object.assign(ke,se),Ue.appendChild(ke),yield new Promise(Ne=>(0,k.c)(ke,Ne)),ke});return function(Ue,je,_e,se,Me,Oe){return fe.apply(this,arguments)}}(),ne=(fe,ue)=>{if(ue){if(fe)return fe.removeViewFromDom(ue.parentElement,ue);ue.remove()}return Promise.resolve()},Te=()=>{let fe,ue;return{attachViewToDom:function(){var _e=(0,u.Z)(function*(se,Me,Oe={},ke=[]){var Ne,it;let xe;if(fe=se,Me){const Ve="string"==typeof Me?null===(Ne=fe.ownerDocument)||void 0===Ne?void 0:Ne.createElement(Me):Me;ke.forEach(pt=>Ve.classList.add(pt)),Object.assign(Ve,Oe),fe.appendChild(Ve),xe=Ve,yield new Promise(pt=>(0,k.c)(Ve,pt))}else if(fe.children.length>0&&("ION-MODAL"===fe.tagName||"ION-POPOVER"===fe.tagName)&&!(xe=fe.children[0]).classList.contains("ion-delegate-host")){const pt=null===(it=fe.ownerDocument)||void 0===it?void 0:it.createElement("div");pt.classList.add("ion-delegate-host"),ke.forEach(ze=>pt.classList.add(ze)),pt.append(...fe.children),fe.appendChild(pt),xe=pt}const Pe=document.querySelector("ion-app")||document.body;return ue=document.createComment("ionic teleport"),fe.parentNode.insertBefore(ue,fe),Pe.appendChild(fe),null!=xe?xe:fe});return function(Me,Oe){return _e.apply(this,arguments)}}(),removeViewFromDom:()=>(fe&&ue&&(ue.parentNode.insertBefore(fe,ue),ue.remove()),Promise.resolve())}}},2019:(Yt,et,N)=>{"use strict";N.d(et,{G:()=>Te});class k{constructor(ue,Ue,je,_e,se){this.id=Ue,this.name=je,this.disableScroll=se,this.priority=1e6*_e+Ue,this.ctrl=ue}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ue=this.ctrl.capture(this.name,this.id,this.priority);return ue&&this.disableScroll&&this.ctrl.disableScroll(this.id),ue}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(ue,Ue,je,_e){this.id=Ue,this.disable=je,this.disableScroll=_e,this.ctrl=ue}block(){if(this.ctrl){if(this.disable)for(const ue of this.disable)this.ctrl.disableGesture(ue,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ue of this.disable)this.ctrl.enableGesture(ue,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ne="backdrop-no-scroll",Te=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ue){var Ue;return new k(this,this.newID(),ue.name,null!==(Ue=ue.priority)&&void 0!==Ue?Ue:0,!!ue.disableScroll)}createBlocker(ue={}){return new Y(this,this.newID(),ue.disable,!!ue.disableScroll)}start(ue,Ue,je){return this.canStart(ue)?(this.requestedStart.set(Ue,je),!0):(this.requestedStart.delete(Ue),!1)}capture(ue,Ue,je){if(!this.start(ue,Ue,je))return!1;const _e=this.requestedStart;let se=-1e4;if(_e.forEach(Me=>{se=Math.max(se,Me)}),se===je){this.capturedId=Ue,_e.clear();const Me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ue}});return document.dispatchEvent(Me),!0}return _e.delete(Ue),!1}release(ue){this.requestedStart.delete(ue),this.capturedId===ue&&(this.capturedId=void 0)}disableGesture(ue,Ue){let je=this.disabledGestures.get(ue);void 0===je&&(je=new Set,this.disabledGestures.set(ue,je)),je.add(Ue)}enableGesture(ue,Ue){const je=this.disabledGestures.get(ue);void 0!==je&&je.delete(Ue)}disableScroll(ue){this.disabledScroll.add(ue),1===this.disabledScroll.size&&document.body.classList.add(ne)}enableScroll(ue){this.disabledScroll.delete(ue),0===this.disabledScroll.size&&document.body.classList.remove(ne)}canStart(ue){return!(void 0!==this.capturedId||this.isDisabled(ue))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ue){const Ue=this.disabledGestures.get(ue);return!!(Ue&&Ue.size>0)}newID(){return this.gestureId++,this.gestureId}}},8739:(Yt,et,N)=>{"use strict";N.r(et),N.d(et,{MENU_BACK_BUTTON_PRIORITY:()=>je,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ue,blockHardwareBackButton:()=>fe,shoudUseCloseWatcher:()=>Te,startHardwareBackButton:()=>ue});var u=N(5861),k=N(1848),Y=N(9103);N(6393);const Te=()=>Y.c.get("experimentalCloseWatcher",!1)&&void 0!==k.w&&"CloseWatcher"in k.w,fe=()=>{document.addEventListener("backbutton",()=>{})},ue=()=>{const _e=document;let se=!1;const Me=()=>{if(se)return;let Oe=0,ke=[];const Ne=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Pe,Ve){ke.push({priority:Pe,handler:Ve,id:Oe++})}}});_e.dispatchEvent(Ne);const it=function(){var Pe=(0,u.Z)(function*(Ve){try{if(null!=Ve&&Ve.handler){const pt=Ve.handler(xe);null!=pt&&(yield pt)}}catch(pt){console.error(pt)}});return function(pt){return Pe.apply(this,arguments)}}(),xe=()=>{if(ke.length>0){let Pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(Ve=>{Ve.priority>=Pe.priority&&(Pe=Ve)}),se=!0,ke=ke.filter(Ve=>Ve.id!==Pe.id),it(Pe).then(()=>se=!1)}};xe()};if(Te()){let Oe;const ke=()=>{null==Oe||Oe.destroy(),Oe=new k.w.CloseWatcher,Oe.onclose=()=>{Me(),ke()}};ke()}else _e.addEventListener("backbutton",Me)},Ue=100,je=99},2831:(Yt,et,N)=>{"use strict";N.d(et,{a:()=>Ue,b:()=>je,c:()=>Y,d:()=>it,e:()=>Ne,f:()=>ke,g:()=>_e,h:()=>Oe,i:()=>ue,j:()=>Re,k:()=>Te,l:()=>xe,m:()=>ne,n:()=>Me,o:()=>Pe,p:()=>ze,q:()=>Ae,r:()=>se,s:()=>Je,t:()=>u,u:()=>Ve,v:()=>pt});const u=(z,pe=0)=>new Promise(ae=>{k(z,pe,ae)}),k=(z,pe=0,ae)=>{let W,Qe;const nt={passive:!0},Et=()=>{W&&W()},sn=Cn=>{(void 0===Cn||z===Cn.target)&&(Et(),ae(Cn))};return z&&(z.addEventListener("webkitTransitionEnd",sn,nt),z.addEventListener("transitionend",sn,nt),Qe=setTimeout(sn,pe+500),W=()=>{void 0!==Qe&&(clearTimeout(Qe),Qe=void 0),z.removeEventListener("webkitTransitionEnd",sn,nt),z.removeEventListener("transitionend",sn,nt)}),Et},Y=(z,pe)=>{z.componentOnReady?z.componentOnReady().then(ae=>pe(ae)):se(()=>pe(z))},ne=z=>void 0!==z.componentOnReady,Te=(z,pe=[])=>{const ae={};return pe.forEach(W=>{z.hasAttribute(W)&&(null!==z.getAttribute(W)&&(ae[W]=z.getAttribute(W)),z.removeAttribute(W))}),ae},fe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ue=(z,pe)=>{let ae=fe;return pe&&pe.length>0&&(ae=ae.filter(W=>!pe.includes(W))),Te(z,ae)},Ue=(z,pe,ae,W)=>{var Qe;if(typeof window<"u"){const nt=window,tt=null===(Qe=null==nt?void 0:nt.Ionic)||void 0===Qe?void 0:Qe.config;if(tt){const Et=tt.get("_ael");if(Et)return Et(z,pe,ae,W);if(tt._ael)return tt._ael(z,pe,ae,W)}}return z.addEventListener(pe,ae,W)},je=(z,pe,ae,W)=>{var Qe;if(typeof window<"u"){const nt=window,tt=null===(Qe=null==nt?void 0:nt.Ionic)||void 0===Qe?void 0:Qe.config;if(tt){const Et=tt.get("_rel");if(Et)return Et(z,pe,ae,W);if(tt._rel)return tt._rel(z,pe,ae,W)}}return z.removeEventListener(pe,ae,W)},_e=(z,pe=z)=>z.shadowRoot||pe,se=z=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(z):"function"==typeof requestAnimationFrame?requestAnimationFrame(z):setTimeout(z),Me=z=>!!z.shadowRoot&&!!z.attachShadow,Oe=z=>{const pe=z.closest("ion-item");return pe?pe.querySelector("ion-label"):null},ke=z=>{if(z.focus(),z.classList.contains("ion-focusable")){const pe=z.closest("ion-app");pe&&pe.setFocus([z])}},Ne=(z,pe)=>{let ae;const W=z.getAttribute("aria-labelledby"),Qe=z.id;let nt=null!==W&&""!==W.trim()?W:pe+"-lbl",tt=null!==W&&""!==W.trim()?document.getElementById(W):Oe(z);return tt?(null===W&&(tt.id=nt),ae=tt.textContent,tt.setAttribute("aria-hidden","true")):""!==Qe.trim()&&(tt=document.querySelector(`label[for="${Qe}"]`),tt&&(""!==tt.id?nt=tt.id:tt.id=nt=`${Qe}-lbl`,ae=tt.textContent)),{label:tt,labelId:nt,labelText:ae}},it=(z,pe,ae,W,Qe)=>{if(z||Me(pe)){let nt=pe.querySelector("input.aux-input");nt||(nt=pe.ownerDocument.createElement("input"),nt.type="hidden",nt.classList.add("aux-input"),pe.appendChild(nt)),nt.disabled=Qe,nt.name=ae,nt.value=W||""}},xe=(z,pe,ae)=>Math.max(z,Math.min(pe,ae)),Pe=(z,pe)=>{if(!z){const ae="ASSERT: "+pe;throw console.error(ae),new Error(ae)}},Ve=z=>z.timeStamp||Date.now(),pt=z=>{if(z){const pe=z.changedTouches;if(pe&&pe.length>0){const ae=pe[0];return{x:ae.clientX,y:ae.clientY}}if(void 0!==z.pageX)return{x:z.pageX,y:z.pageY}}return{x:0,y:0}},ze=z=>{const pe="rtl"===document.dir;switch(z){case"start":return pe;case"end":return!pe;default:throw new Error(`"${z}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Re=(z,pe)=>{const ae=z._original||z;return{_original:z,emit:Ae(ae.emit.bind(ae),pe)}},Ae=(z,pe=0)=>{let ae;return(...W)=>{clearTimeout(ae),ae=setTimeout(z,pe,...W)}},Je=(z,pe)=>{if(null!=z||(z={}),null!=pe||(pe={}),z===pe)return!0;const ae=Object.keys(z);if(ae.length!==Object.keys(pe).length)return!1;for(const W of ae)if(!(W in pe)||z[W]!==pe[W])return!1;return!0}},6535:(Yt,et,N)=>{"use strict";N.r(et),N.d(et,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>je});var u=N(2019);const k=(Oe,ke,Ne,it)=>{const xe=Y(Oe)?{capture:!!it.capture,passive:!!it.passive}:!!it.capture;let Pe,Ve;return Oe.__zone_symbol__addEventListener?(Pe="__zone_symbol__addEventListener",Ve="__zone_symbol__removeEventListener"):(Pe="addEventListener",Ve="removeEventListener"),Oe[Pe](ke,Ne,xe),()=>{Oe[Ve](ke,Ne,xe)}},Y=Oe=>{if(void 0===ne)try{const ke=Object.defineProperty({},"passive",{get:()=>{ne=!0}});Oe.addEventListener("optsTest",()=>{},ke)}catch{ne=!1}return!!ne};let ne;const ue=Oe=>Oe instanceof Document?Oe:Oe.ownerDocument,je=Oe=>{let ke=!1,Ne=!1,it=!0,xe=!1;const Pe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Oe),Ve=Pe.canStart,pt=Pe.onWillStart,ze=Pe.onStart,Re=Pe.onEnd,Ae=Pe.notCaptured,Je=Pe.onMove,z=Pe.threshold,pe=Pe.passive,ae=Pe.blurOnStart,W={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Qe=((Oe,ke,Ne)=>{const it=Ne*(Math.PI/180),xe="x"===Oe,Pe=Math.cos(it),Ve=ke*ke;let pt=0,ze=0,Re=!1,Ae=0;return{start(Je,z){pt=Je,ze=z,Ae=0,Re=!0},detect(Je,z){if(!Re)return!1;const pe=Je-pt,ae=z-ze,W=pe*pe+ae*ae;if(W<Ve)return!1;const Qe=Math.sqrt(W),nt=(xe?pe:ae)/Qe;return Ae=nt>Pe?1:nt<-Pe?-1:0,Re=!1,!0},isGesture:()=>0!==Ae,getDirection:()=>Ae}})(Pe.direction,Pe.threshold,Pe.maxAngle),nt=u.G.createGesture({name:Oe.gestureName,priority:Oe.gesturePriority,disableScroll:Oe.disableScroll}),sn=()=>{ke&&(xe=!1,Je&&Je(W))},Cn=()=>!!nt.capture()&&(ke=!0,it=!1,W.startX=W.currentX,W.startY=W.currentY,W.startTime=W.currentTime,pt?pt(W).then(De):De(),!0),De=()=>{ae&&(()=>{if(typeof document<"u"){const Ke=document.activeElement;null!=Ke&&Ke.blur&&Ke.blur()}})(),ze&&ze(W),it=!0},J=()=>{ke=!1,Ne=!1,xe=!1,it=!0,nt.release()},ge=Ke=>{const wt=ke,St=it;if(J(),St){if(_e(W,Ke),wt)return void(Re&&Re(W));Ae&&Ae(W)}},Be=((Oe,ke,Ne,it,xe)=>{let Pe,Ve,pt,ze,Re,Ae,Je,z=0;const pe=be=>{z=Date.now()+2e3,ke(be)&&(!Ve&&Ne&&(Ve=k(Oe,"touchmove",Ne,xe)),pt||(pt=k(be.target,"touchend",W,xe)),ze||(ze=k(be.target,"touchcancel",W,xe)))},ae=be=>{z>Date.now()||ke(be)&&(!Ae&&Ne&&(Ae=k(ue(Oe),"mousemove",Ne,xe)),Je||(Je=k(ue(Oe),"mouseup",Qe,xe)))},W=be=>{nt(),it&&it(be)},Qe=be=>{tt(),it&&it(be)},nt=()=>{Ve&&Ve(),pt&&pt(),ze&&ze(),Ve=pt=ze=void 0},tt=()=>{Ae&&Ae(),Je&&Je(),Ae=Je=void 0},Et=()=>{nt(),tt()},sn=(be=!0)=>{be?(Pe||(Pe=k(Oe,"touchstart",pe,xe)),Re||(Re=k(Oe,"mousedown",ae,xe))):(Pe&&Pe(),Re&&Re(),Pe=Re=void 0,Et())};return{enable:sn,stop:Et,destroy:()=>{sn(!1),it=Ne=ke=void 0}}})(Pe.el,Ke=>{const wt=Me(Ke);return!(Ne||!it||(se(Ke,W),W.startX=W.currentX,W.startY=W.currentY,W.startTime=W.currentTime=wt,W.velocityX=W.velocityY=W.deltaX=W.deltaY=0,W.event=Ke,Ve&&!1===Ve(W))||(nt.release(),!nt.start()))&&(Ne=!0,0===z?Cn():(Qe.start(W.startX,W.startY),!0))},Ke=>{ke?!xe&&it&&(xe=!0,_e(W,Ke),requestAnimationFrame(sn)):(_e(W,Ke),Qe.detect(W.currentX,W.currentY)&&(!Qe.isGesture()||!Cn())&&Ce())},ge,{capture:!1,passive:pe}),Ce=()=>{J(),Be.stop(),Ae&&Ae(W)};return{enable(Ke=!0){Ke||(ke&&ge(void 0),J()),Be.enable(Ke)},destroy(){nt.destroy(),Be.destroy()}}},_e=(Oe,ke)=>{if(!ke)return;const Ne=Oe.currentX,it=Oe.currentY,xe=Oe.currentTime;se(ke,Oe);const Pe=Oe.currentX,Ve=Oe.currentY,ze=(Oe.currentTime=Me(ke))-xe;if(ze>0&&ze<100){const Ae=(Ve-it)/ze;Oe.velocityX=(Pe-Ne)/ze*.7+.3*Oe.velocityX,Oe.velocityY=.7*Ae+.3*Oe.velocityY}Oe.deltaX=Pe-Oe.startX,Oe.deltaY=Ve-Oe.startY,Oe.event=ke},se=(Oe,ke)=>{let Ne=0,it=0;if(Oe){const xe=Oe.changedTouches;if(xe&&xe.length>0){const Pe=xe[0];Ne=Pe.clientX,it=Pe.clientY}else void 0!==Oe.pageX&&(Ne=Oe.pageX,it=Oe.pageY)}ke.currentX=Ne,ke.currentY=it},Me=Oe=>Oe.timeStamp||Date.now()},6029:(Yt,et,N)=>{"use strict";N.d(et,{m:()=>Oe});var u=N(5861),k=N(1848),Y=N(8739),ne=N(2400),Te=N(2831),fe=N(9103),ue=N(1072);const Ue=ke=>(0,ue.c)().duration(ke?400:300),je=ke=>{let Ne,it;const xe=ke.width+8,Pe=(0,ue.c)(),Ve=(0,ue.c)();ke.isEndSide?(Ne=xe+"px",it="0px"):(Ne=-xe+"px",it="0px"),Pe.addElement(ke.menuInnerEl).fromTo("transform",`translateX(${Ne})`,`translateX(${it})`);const ze="ios"===(0,fe.b)(ke),Re=ze?.2:.25;return Ve.addElement(ke.backdropEl).fromTo("opacity",.01,Re),Ue(ze).addAnimation([Pe,Ve])},_e=ke=>{let Ne,it;const xe=(0,fe.b)(ke),Pe=ke.width;ke.isEndSide?(Ne=-Pe+"px",it=Pe+"px"):(Ne=Pe+"px",it=-Pe+"px");const Ve=(0,ue.c)().addElement(ke.menuInnerEl).fromTo("transform",`translateX(${it})`,"translateX(0px)"),pt=(0,ue.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ne})`),ze=(0,ue.c)().addElement(ke.backdropEl).fromTo("opacity",.01,.32);return Ue("ios"===xe).addAnimation([Ve,pt,ze])},se=ke=>{const Ne=(0,fe.b)(ke),it=ke.width*(ke.isEndSide?-1:1)+"px",xe=(0,ue.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${it})`);return Ue("ios"===Ne).addAnimation(xe)},Oe=(()=>{const ke=new Map,Ne=[],it=function(){var J=(0,u.Z)(function*(ge){const Be=yield Ae(ge,!0);return!!Be&&Be.open()});return function(Be){return J.apply(this,arguments)}}(),xe=function(){var J=(0,u.Z)(function*(ge){const Be=yield void 0!==ge?Ae(ge,!0):Je();return void 0!==Be&&Be.close()});return function(Be){return J.apply(this,arguments)}}(),Pe=function(){var J=(0,u.Z)(function*(ge){const Be=yield Ae(ge,!0);return!!Be&&Be.toggle()});return function(Be){return J.apply(this,arguments)}}(),Ve=function(){var J=(0,u.Z)(function*(ge,Be){const Ce=yield Ae(Be);return Ce&&(Ce.disabled=!ge),Ce});return function(Be,Ce){return J.apply(this,arguments)}}(),pt=function(){var J=(0,u.Z)(function*(ge,Be){const Ce=yield Ae(Be);return Ce&&(Ce.swipeGesture=ge),Ce});return function(Be,Ce){return J.apply(this,arguments)}}(),ze=function(){var J=(0,u.Z)(function*(ge){if(null!=ge){const Be=yield Ae(ge);return void 0!==Be&&Be.isOpen()}return void 0!==(yield Je())});return function(Be){return J.apply(this,arguments)}}(),Re=function(){var J=(0,u.Z)(function*(ge){const Be=yield Ae(ge);return!!Be&&!Be.disabled});return function(Be){return J.apply(this,arguments)}}(),Ae=function(){var J=(0,u.Z)(function*(ge,Be=!1){if(yield De(),"start"===ge||"end"===ge){const Ke=Ne.filter(St=>St.side===ge&&!St.disabled);if(Ke.length>=1)return Ke.length>1&&Be&&(0,ne.p)(`menuController queried for a menu on the "${ge}" side, but ${Ke.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ke.map(St=>St.el)),Ke[0].el;const wt=Ne.filter(St=>St.side===ge);if(wt.length>=1)return wt.length>1&&Be&&(0,ne.p)(`menuController queried for a menu on the "${ge}" side, but ${wt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,wt.map(St=>St.el)),wt[0].el}else if(null!=ge)return be(Ke=>Ke.menuId===ge);return be(Ke=>!Ke.disabled)||(Ne.length>0?Ne[0].el:void 0)});return function(Be){return J.apply(this,arguments)}}(),Je=function(){var J=(0,u.Z)(function*(){return yield De(),Et()});return function(){return J.apply(this,arguments)}}(),z=function(){var J=(0,u.Z)(function*(){return yield De(),sn()});return function(){return J.apply(this,arguments)}}(),pe=function(){var J=(0,u.Z)(function*(){return yield De(),Cn()});return function(){return J.apply(this,arguments)}}(),ae=(J,ge)=>{ke.set(J,ge)},nt=function(){var J=(0,u.Z)(function*(ge,Be,Ce){if(Cn())return!1;if(Be){const Ke=yield Je();Ke&&ge.el!==Ke&&(yield Ke.setOpen(!1,!1))}return ge._setOpen(Be,Ce)});return function(Be,Ce,Ke){return J.apply(this,arguments)}}(),Et=()=>be(J=>J._isOpen),sn=()=>Ne.map(J=>J.el),Cn=()=>Ne.some(J=>J.isAnimating),be=J=>{const ge=Ne.find(J);if(void 0!==ge)return ge.el},De=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(J=>new Promise(ge=>(0,Te.c)(J,ge))));return ae("reveal",se),ae("push",_e),ae("overlay",je),null==k.d||k.d.addEventListener("ionBackButton",J=>{const ge=Et();ge&&J.detail.register(Y.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:ae,get:Ae,getMenus:z,getOpen:Je,isEnabled:Re,swipeGesture:pt,isAnimating:pe,isOpen:ze,enable:Ve,toggle:Pe,close:xe,open:it,_getOpenSync:Et,_createAnimation:(J,ge)=>{const Be=ke.get(J);if(!Be)throw new Error("animation not registered");return Be(ge)},_register:J=>{Ne.indexOf(J)<0&&Ne.push(J)},_unregister:J=>{const ge=Ne.indexOf(J);ge>-1&&Ne.splice(ge,1)},_setOpen:nt}})()},2651:(Yt,et,N)=>{"use strict";N.d(et,{b:()=>fe,c:()=>ue,d:()=>Ue,e:()=>z,g:()=>W,l:()=>Ae,s:()=>pe,t:()=>se,w:()=>Je});var u=N(5861),k=N(6393),Y=N(2831);const fe="ionViewWillLeave",ue="ionViewDidLeave",Ue="ionViewWillUnload",se=Qe=>new Promise((nt,tt)=>{(0,k.w)(()=>{Me(Qe),Oe(Qe).then(Et=>{Et.animation&&Et.animation.destroy(),ke(Qe),nt(Et)},Et=>{ke(Qe),tt(Et)})})}),Me=Qe=>{const nt=Qe.enteringEl,tt=Qe.leavingEl;ae(nt,tt,Qe.direction),Qe.showGoBack?nt.classList.add("can-go-back"):nt.classList.remove("can-go-back"),pe(nt,!1),nt.style.setProperty("pointer-events","none"),tt&&(pe(tt,!1),tt.style.setProperty("pointer-events","none"))},Oe=function(){var Qe=(0,u.Z)(function*(nt){const tt=yield Ne(nt);return tt&&k.B.isBrowser?it(tt,nt):xe(nt)});return function(tt){return Qe.apply(this,arguments)}}(),ke=Qe=>{const nt=Qe.enteringEl,tt=Qe.leavingEl;nt.classList.remove("ion-page-invisible"),nt.style.removeProperty("pointer-events"),void 0!==tt&&(tt.classList.remove("ion-page-invisible"),tt.style.removeProperty("pointer-events"))},Ne=function(){var Qe=(0,u.Z)(function*(nt){return nt.leavingEl&&nt.animated&&0!==nt.duration?nt.animationBuilder?nt.animationBuilder:"ios"===nt.mode?(yield Promise.resolve().then(N.bind(N,7395))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,8490))).mdTransitionAnimation:void 0});return function(tt){return Qe.apply(this,arguments)}}(),it=function(){var Qe=(0,u.Z)(function*(nt,tt){yield Pe(tt,!0);const Et=nt(tt.baseEl,tt);ze(tt.enteringEl,tt.leavingEl);const sn=yield pt(Et,tt);return tt.progressCallback&&tt.progressCallback(void 0),sn&&Re(tt.enteringEl,tt.leavingEl),{hasCompleted:sn,animation:Et}});return function(tt,Et){return Qe.apply(this,arguments)}}(),xe=function(){var Qe=(0,u.Z)(function*(nt){const tt=nt.enteringEl,Et=nt.leavingEl;return yield Pe(nt,!1),ze(tt,Et),Re(tt,Et),{hasCompleted:!0}});return function(tt){return Qe.apply(this,arguments)}}(),Pe=function(){var Qe=(0,u.Z)(function*(nt,tt){(void 0!==nt.deepWait?nt.deepWait:tt)&&(yield Promise.all([z(nt.enteringEl),z(nt.leavingEl)])),yield Ve(nt.viewIsReady,nt.enteringEl)});return function(tt,Et){return Qe.apply(this,arguments)}}(),Ve=function(){var Qe=(0,u.Z)(function*(nt,tt){nt&&(yield nt(tt))});return function(tt,Et){return Qe.apply(this,arguments)}}(),pt=(Qe,nt)=>{const tt=nt.progressCallback,Et=new Promise(sn=>{Qe.onFinish(Cn=>sn(1===Cn))});return tt?(Qe.progressStart(!0),tt(Qe)):Qe.play(),Et},ze=(Qe,nt)=>{Ae(nt,fe),Ae(Qe,"ionViewWillEnter")},Re=(Qe,nt)=>{Ae(Qe,"ionViewDidEnter"),Ae(nt,ue)},Ae=(Qe,nt)=>{if(Qe){const tt=new CustomEvent(nt,{bubbles:!1,cancelable:!1});Qe.dispatchEvent(tt)}},Je=()=>new Promise(Qe=>(0,Y.r)(()=>(0,Y.r)(()=>Qe()))),z=function(){var Qe=(0,u.Z)(function*(nt){const tt=nt;if(tt){if(null!=tt.componentOnReady){if(null!=(yield tt.componentOnReady()))return}else if(null!=tt.__registerHost)return void(yield new Promise(sn=>(0,Y.r)(sn)));yield Promise.all(Array.from(tt.children).map(z))}});return function(tt){return Qe.apply(this,arguments)}}(),pe=(Qe,nt)=>{nt?(Qe.setAttribute("aria-hidden","true"),Qe.classList.add("ion-page-hidden")):(Qe.hidden=!1,Qe.removeAttribute("aria-hidden"),Qe.classList.remove("ion-page-hidden"))},ae=(Qe,nt,tt)=>{void 0!==Qe&&(Qe.style.zIndex="back"===tt?"99":"101"),void 0!==nt&&(nt.style.zIndex="100")},W=Qe=>Qe.classList.contains("ion-page")?Qe:Qe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Qe},6393:(Yt,et,N)=>{"use strict";N.d(et,{B:()=>Me,H:()=>Cn,a:()=>dr,b:()=>qr,c:()=>St,d:()=>an,e:()=>ei,f:()=>Zt,g:()=>Mt,h:()=>Et,i:()=>oe,j:()=>Oe,r:()=>qn,w:()=>gt});var u=N(5861);let ne,Te,fe,ue=!1,Ue=!1,je=!1,_e=!1,se=!1;const Me={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Oe=$=>{const Q=new URL($,er.$resourcesUrl$);return Q.origin!==hi.location.origin?Q.href:Q.pathname},pt="s-id",ze="sty-id",Je="slot-fb{display:contents}slot-fb[hidden]{display:none}",z="http://www.w3.org/1999/xlink",pe={},nt=$=>"object"==($=typeof $)||"function"===$;function tt($){var Q,Le,Ge;return null!==(Ge=null===(Le=null===(Q=$.head)||void 0===Q?void 0:Q.querySelector('meta[name="csp-nonce"]'))||void 0===Le?void 0:Le.getAttribute("content"))&&void 0!==Ge?Ge:void 0}const Et=($,Q,...Le)=>{let Ge=null,dt=null,vt=null,xt=!1,Gt=!1;const jt=[],Ot=pn=>{for(let hn=0;hn<pn.length;hn++)Ge=pn[hn],Array.isArray(Ge)?Ot(Ge):null!=Ge&&"boolean"!=typeof Ge&&((xt="function"!=typeof $&&!nt(Ge))&&(Ge=String(Ge)),xt&&Gt?jt[jt.length-1].$text$+=Ge:jt.push(xt?sn(null,Ge):Ge),Gt=xt)};if(Ot(Le),Q){Q.key&&(dt=Q.key),Q.name&&(vt=Q.name);{const pn=Q.className||Q.class;pn&&(Q.class="object"!=typeof pn?pn:Object.keys(pn).filter(hn=>pn[hn]).join(" "))}}if("function"==typeof $)return $(null===Q?{}:Q,jt,De);const Jt=sn($,null);return Jt.$attrs$=Q,jt.length>0&&(Jt.$children$=jt),Jt.$key$=dt,Jt.$name$=vt,Jt},sn=($,Q)=>({$flags$:0,$tag$:$,$text$:Q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Cn={},De={forEach:($,Q)=>$.map(J).forEach(Q),map:($,Q)=>$.map(J).map(Q).map(ge)},J=$=>({vattrs:$.$attrs$,vchildren:$.$children$,vkey:$.$key$,vname:$.$name$,vtag:$.$tag$,vtext:$.$text$}),ge=$=>{if("function"==typeof $.vtag){const Le=Object.assign({},$.vattrs);return $.vkey&&(Le.key=$.vkey),$.vname&&(Le.name=$.vname),Et($.vtag,Le,...$.vchildren||[])}const Q=sn($.vtag,$.vtext);return Q.$attrs$=$.vattrs,Q.$children$=$.vchildren,Q.$key$=$.vkey,Q.$name$=$.vname,Q},Ce=($,Q,Le,Ge,dt,vt,xt)=>{let Gt,jt,Ot,Jt;if(1===vt.nodeType){for(Gt=vt.getAttribute("c-id"),Gt&&(jt=Gt.split("."),(jt[0]===xt||"0"===jt[0])&&(Ot={$flags$:0,$hostId$:jt[0],$nodeId$:jt[1],$depth$:jt[2],$index$:jt[3],$tag$:vt.tagName.toLowerCase(),$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Q.push(Ot),vt.removeAttribute("c-id"),$.$children$||($.$children$=[]),$.$children$[Ot.$index$]=Ot,$=Ot,Ge&&"0"===Ot.$depth$&&(Ge[Ot.$index$]=Ot.$elm$))),Jt=vt.childNodes.length-1;Jt>=0;Jt--)Ce($,Q,Le,Ge,dt,vt.childNodes[Jt],xt);if(vt.shadowRoot)for(Jt=vt.shadowRoot.childNodes.length-1;Jt>=0;Jt--)Ce($,Q,Le,Ge,dt,vt.shadowRoot.childNodes[Jt],xt)}else if(8===vt.nodeType)jt=vt.nodeValue.split("."),(jt[1]===xt||"0"===jt[1])&&(Gt=jt[0],Ot={$flags$:0,$hostId$:jt[1],$nodeId$:jt[2],$depth$:jt[3],$index$:jt[4],$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Gt?(Ot.$elm$=vt.nextSibling,Ot.$elm$&&3===Ot.$elm$.nodeType&&(Ot.$text$=Ot.$elm$.textContent,Q.push(Ot),vt.remove(),$.$children$||($.$children$=[]),$.$children$[Ot.$index$]=Ot,Ge&&"0"===Ot.$depth$&&(Ge[Ot.$index$]=Ot.$elm$))):Ot.$hostId$===xt&&("s"===Gt?(Ot.$tag$="slot",vt["s-sn"]=jt[5]?Ot.$name$=jt[5]:"",vt["s-sr"]=!0,Ge&&(Ot.$elm$=yr.createElement(Ot.$tag$),Ot.$name$&&Ot.$elm$.setAttribute("name",Ot.$name$),vt.parentNode.insertBefore(Ot.$elm$,vt),vt.remove(),"0"===Ot.$depth$&&(Ge[Ot.$index$]=Ot.$elm$)),Le.push(Ot),$.$children$||($.$children$=[]),$.$children$[Ot.$index$]=Ot):"r"===Gt&&(Ge?vt.remove():(dt["s-cr"]=vt,vt["s-cn"]=!0))));else if($&&"style"===$.$tag$){const pn=sn(null,vt.textContent);pn.$elm$=vt,pn.$index$="0",$.$children$=[pn]}},Ke=($,Q)=>{if(1===$.nodeType){let Le=0;for(;Le<$.childNodes.length;Le++)Ke($.childNodes[Le],Q);if($.shadowRoot)for(Le=0;Le<$.shadowRoot.childNodes.length;Le++)Ke($.shadowRoot.childNodes[Le],Q)}else if(8===$.nodeType){const Le=$.nodeValue.split(".");"o"===Le[0]&&(Q.set(Le[1]+"."+Le[2],$),$.nodeValue="",$["s-en"]=Le[3])}},St=$=>yi.push($),Mt=$=>An($).$modeName$,Zt=$=>An($).$hostElement$,an=($,Q,Le)=>{const Ge=Zt($);return{emit:dt=>mt(Ge,Q,{bubbles:!!(4&Le),composed:!!(2&Le),cancelable:!!(1&Le),detail:dt})}},mt=($,Q,Le)=>{const Ge=er.ce(Q,Le);return $.dispatchEvent(Ge),Ge},ht=new WeakMap,ct=($,Q,Le)=>{let Ge=Cr.get($);ie&&Le?(Ge=Ge||new CSSStyleSheet,"string"==typeof Ge?Ge=Q:Ge.replaceSync(Q)):Ge=Q,Cr.set($,Ge)},bt=($,Q,Le)=>{var Ge;const dt=rn(Q,Le),vt=Cr.get(dt);if($=11===$.nodeType?$:yr,vt)if("string"==typeof vt){let Gt,xt=ht.get($=$.head||$);if(xt||ht.set($,xt=new Set),!xt.has(dt)){if($.host&&(Gt=$.querySelector(`[${ze}="${dt}"]`)))Gt.innerHTML=vt;else{Gt=yr.createElement("style"),Gt.innerHTML=vt;const jt=null!==(Ge=er.$nonce$)&&void 0!==Ge?Ge:tt(yr);null!=jt&&Gt.setAttribute("nonce",jt),$.insertBefore(Gt,$.querySelector("link"))}4&Q.$flags$&&(Gt.innerHTML+=Je),xt&&xt.add(dt)}}else $.adoptedStyleSheets.includes(vt)||($.adoptedStyleSheets=[...$.adoptedStyleSheets,vt]);return dt},rn=($,Q)=>"sc-"+(Q&&32&$.$flags$?$.$tagName$+"-"+Q:$.$tagName$),Pt=$=>$.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Xt=($,Q,Le,Ge,dt,vt)=>{if(Le!==Ge){let xt=_r($,Q),Gt=Q.toLowerCase();if("class"===Q){const jt=$.classList,Ot=yn(Le),Jt=yn(Ge);jt.remove(...Ot.filter(pn=>pn&&!Jt.includes(pn))),jt.add(...Jt.filter(pn=>pn&&!Ot.includes(pn)))}else if("style"===Q){for(const jt in Le)(!Ge||null==Ge[jt])&&(jt.includes("-")?$.style.removeProperty(jt):$.style[jt]="");for(const jt in Ge)(!Le||Ge[jt]!==Le[jt])&&(jt.includes("-")?$.style.setProperty(jt,Ge[jt]):$.style[jt]=Ge[jt])}else if("key"!==Q)if("ref"===Q)Ge&&Ge($);else if(xt||"o"!==Q[0]||"n"!==Q[1]){const jt=nt(Ge);if((xt||jt&&null!==Ge)&&!dt)try{if($.tagName.includes("-"))$[Q]=Ge;else{const Jt=null==Ge?"":Ge;"list"===Q?xt=!1:(null==Le||$[Q]!=Jt)&&($[Q]=Jt)}}catch{}let Ot=!1;Gt!==(Gt=Gt.replace(/^xlink\:?/,""))&&(Q=Gt,Ot=!0),null==Ge||!1===Ge?(!1!==Ge||""===$.getAttribute(Q))&&(Ot?$.removeAttributeNS(z,Q):$.removeAttribute(Q)):(!xt||4&vt||dt)&&!jt&&(Ge=!0===Ge?"":Ge,Ot?$.setAttributeNS(z,Q,Ge):$.setAttribute(Q,Ge))}else if(Q="-"===Q[2]?Q.slice(3):_r(hi,Gt)?Gt.slice(2):Gt[2]+Q.slice(3),Le||Ge){const jt=Q.endsWith(fr);Q=Q.replace(Fn,""),Le&&er.rel($,Q,Le,jt),Ge&&er.ael($,Q,Ge,jt)}}},Pn=/\s/,yn=$=>$?$.split(Pn):[],fr="Capture",Fn=new RegExp(fr+"$"),Nn=($,Q,Le,Ge)=>{const dt=11===Q.$elm$.nodeType&&Q.$elm$.host?Q.$elm$.host:Q.$elm$,vt=$&&$.$attrs$||pe,xt=Q.$attrs$||pe;for(Ge in vt)Ge in xt||Xt(dt,Ge,vt[Ge],void 0,Le,Q.$flags$);for(Ge in xt)Xt(dt,Ge,vt[Ge],xt[Ge],Le,Q.$flags$)},En=($,Q,Le,Ge)=>{const dt=Q.$children$[Le];let xt,Gt,jt,vt=0;if(ue||(je=!0,"slot"===dt.$tag$&&(ne&&Ge.classList.add(ne+"-s"),dt.$flags$|=dt.$children$?2:1)),null!==dt.$text$)xt=dt.$elm$=yr.createTextNode(dt.$text$);else if(1&dt.$flags$)xt=dt.$elm$=yr.createTextNode("");else{if(_e||(_e="svg"===dt.$tag$),xt=dt.$elm$=yr.createElementNS(_e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&dt.$flags$?"slot-fb":dt.$tag$),_e&&"foreignObject"===dt.$tag$&&(_e=!1),Nn(null,dt,_e),($=>null!=$)(ne)&&xt["s-si"]!==ne&&xt.classList.add(xt["s-si"]=ne),dt.$children$)for(vt=0;vt<dt.$children$.length;++vt)Gt=En($,dt,vt,xt),Gt&&xt.appendChild(Gt);"svg"===dt.$tag$?_e=!1:"foreignObject"===xt.tagName&&(_e=!0)}return xt["s-hn"]=fe,3&dt.$flags$&&(xt["s-sr"]=!0,xt["s-cr"]=Te,xt["s-sn"]=dt.$name$||"",jt=$&&$.$children$&&$.$children$[Le],jt&&jt.$tag$===dt.$tag$&&$.$elm$&&Wn($.$elm$,!1)),xt},Wn=($,Q)=>{er.$flags$|=1;const Le=$.childNodes;for(let Ge=Le.length-1;Ge>=0;Ge--){const dt=Le[Ge];dt["s-hn"]!==fe&&dt["s-ol"]&&(ir(dt).insertBefore(dt,Kr(dt)),dt["s-ol"].remove(),dt["s-ol"]=void 0,dt["s-sh"]=void 0,je=!0),Q&&Wn(dt,Q)}er.$flags$&=-2},lr=($,Q,Le,Ge,dt,vt)=>{let Gt,xt=$["s-cr"]&&$["s-cr"].parentNode||$;for(xt.shadowRoot&&xt.tagName===fe&&(xt=xt.shadowRoot);dt<=vt;++dt)Ge[dt]&&(Gt=En(null,Le,dt,$),Gt&&(Ge[dt].$elm$=Gt,xt.insertBefore(Gt,Kr(Q))))},Tn=($,Q,Le)=>{for(let Ge=Q;Ge<=Le;++Ge){const dt=$[Ge];if(dt){const vt=dt.$elm$;Lr(dt),vt&&(Ue=!0,vt["s-ol"]?vt["s-ol"].remove():Wn(vt,!0),vt.remove())}}},dn=($,Q,Le=!1)=>$.$tag$===Q.$tag$&&("slot"===$.$tag$?$.$name$===Q.$name$:!!Le||$.$key$===Q.$key$),Kr=$=>$&&$["s-ol"]||$,ir=$=>($["s-ol"]?$["s-ol"]:$).parentNode,xr=($,Q,Le=!1)=>{const Ge=Q.$elm$=$.$elm$,dt=$.$children$,vt=Q.$children$,xt=Q.$tag$,Gt=Q.$text$;let jt;null===Gt?(_e="svg"===xt||"foreignObject"!==xt&&_e,"slot"===xt||Nn($,Q,_e),null!==dt&&null!==vt?(($,Q,Le,Ge,dt=!1)=>{let T,ee,vt=0,xt=0,Gt=0,jt=0,Ot=Q.length-1,Jt=Q[0],pn=Q[Ot],hn=Ge.length-1,tr=Ge[0],gr=Ge[hn];for(;vt<=Ot&&xt<=hn;)if(null==Jt)Jt=Q[++vt];else if(null==pn)pn=Q[--Ot];else if(null==tr)tr=Ge[++xt];else if(null==gr)gr=Ge[--hn];else if(dn(Jt,tr,dt))xr(Jt,tr,dt),Jt=Q[++vt],tr=Ge[++xt];else if(dn(pn,gr,dt))xr(pn,gr,dt),pn=Q[--Ot],gr=Ge[--hn];else if(dn(Jt,gr,dt))("slot"===Jt.$tag$||"slot"===gr.$tag$)&&Wn(Jt.$elm$.parentNode,!1),xr(Jt,gr,dt),$.insertBefore(Jt.$elm$,pn.$elm$.nextSibling),Jt=Q[++vt],gr=Ge[--hn];else if(dn(pn,tr,dt))("slot"===Jt.$tag$||"slot"===gr.$tag$)&&Wn(pn.$elm$.parentNode,!1),xr(pn,tr,dt),$.insertBefore(pn.$elm$,Jt.$elm$),pn=Q[--Ot],tr=Ge[++xt];else{for(Gt=-1,jt=vt;jt<=Ot;++jt)if(Q[jt]&&null!==Q[jt].$key$&&Q[jt].$key$===tr.$key$){Gt=jt;break}Gt>=0?(ee=Q[Gt],ee.$tag$!==tr.$tag$?T=En(Q&&Q[xt],Le,Gt,$):(xr(ee,tr,dt),Q[Gt]=void 0,T=ee.$elm$),tr=Ge[++xt]):(T=En(Q&&Q[xt],Le,xt,$),tr=Ge[++xt]),T&&ir(Jt.$elm$).insertBefore(T,Kr(Jt.$elm$))}vt>Ot?lr($,null==Ge[hn+1]?null:Ge[hn+1].$elm$,Le,Ge,xt,hn):xt>hn&&Tn(Q,vt,Ot)})(Ge,dt,Q,vt,Le):null!==vt?(null!==$.$text$&&(Ge.textContent=""),lr(Ge,null,Q,vt,0,vt.length-1)):null!==dt&&Tn(dt,0,dt.length-1),_e&&"svg"===xt&&(_e=!1)):(jt=Ge["s-cr"])?jt.parentNode.textContent=Gt:$.$text$!==Gt&&(Ge.data=Gt)},xn=$=>{const Q=$.childNodes;for(const Le of Q)if(1===Le.nodeType){if(Le["s-sr"]){const Ge=Le["s-sn"];Le.hidden=!1;for(const dt of Q)if(dt!==Le)if(dt["s-hn"]!==Le["s-hn"]||""!==Ge){if(1===dt.nodeType&&(Ge===dt.getAttribute("slot")||Ge===dt["s-sn"])){Le.hidden=!0;break}}else if(1===dt.nodeType||3===dt.nodeType&&""!==dt.textContent.trim()){Le.hidden=!0;break}}xn(Le)}},en=[],Zr=$=>{let Q,Le,Ge;for(const dt of $.childNodes){if(dt["s-sr"]&&(Q=dt["s-cr"])&&Q.parentNode){Le=Q.parentNode.childNodes;const vt=dt["s-sn"];for(Ge=Le.length-1;Ge>=0;Ge--)if(Q=Le[Ge],!Q["s-cn"]&&!Q["s-nr"]&&Q["s-hn"]!==dt["s-hn"])if($i(Q,vt)){let xt=en.find(Gt=>Gt.$nodeToRelocate$===Q);Ue=!0,Q["s-sn"]=Q["s-sn"]||vt,xt?(xt.$nodeToRelocate$["s-sh"]=dt["s-hn"],xt.$slotRefNode$=dt):(Q["s-sh"]=dt["s-hn"],en.push({$slotRefNode$:dt,$nodeToRelocate$:Q})),Q["s-sr"]&&en.map(Gt=>{$i(Gt.$nodeToRelocate$,Q["s-sn"])&&(xt=en.find(jt=>jt.$nodeToRelocate$===Q),xt&&!Gt.$slotRefNode$&&(Gt.$slotRefNode$=xt.$slotRefNode$))})}else en.some(xt=>xt.$nodeToRelocate$===Q)||en.push({$nodeToRelocate$:Q})}1===dt.nodeType&&Zr(dt)}},$i=($,Q)=>1===$.nodeType?null===$.getAttribute("slot")&&""===Q||$.getAttribute("slot")===Q:$["s-sn"]===Q||""===Q,Lr=$=>{$.$attrs$&&$.$attrs$.ref&&$.$attrs$.ref(null),$.$children$&&$.$children$.map(Lr)},Or=($,Q)=>{Q&&!$.$onRenderResolve$&&Q["s-p"]&&Q["s-p"].push(new Promise(Le=>$.$onRenderResolve$=Le))},Gr=($,Q)=>{if($.$flags$|=16,!(4&$.$flags$))return Or($,$.$ancestorComponent$),gt(()=>$r($,Q));$.$flags$|=512},$r=($,Q)=>{const Ge=$.$lazyInstance$;let dt;return Q&&($.$flags$|=256,$.$queuedListeners$&&($.$queuedListeners$.map(([vt,xt])=>ot(Ge,vt,xt)),$.$queuedListeners$=void 0),dt=ot(Ge,"componentWillLoad")),dt=_t(dt,()=>ot(Ge,"componentWillRender")),_t(dt,()=>Xe($,Ge,Q))},_t=($,Q)=>Ze($)?$.then(Q):Q(),Ze=$=>$ instanceof Promise||$&&$.then&&"function"==typeof $.then,Xe=function(){var $=(0,u.Z)(function*(Q,Le,Ge){var dt;const vt=Q.$hostElement$,Gt=vt["s-rc"];Ge&&($=>{const Q=$.$cmpMeta$,Le=$.$hostElement$,Ge=Q.$flags$,vt=bt(Le.shadowRoot?Le.shadowRoot:Le.getRootNode(),Q,$.$modeName$);10&Ge&&(Le["s-sc"]=vt,Le.classList.add(vt+"-h"),2&Ge&&Le.classList.add(vt+"-s"))})(Q);Fe(Q,Le,vt,Ge),Gt&&(Gt.map(Ot=>Ot()),vt["s-rc"]=void 0);{const Ot=null!==(dt=vt["s-p"])&&void 0!==dt?dt:[],Jt=()=>te(Q);0===Ot.length?Jt():(Promise.all(Ot).then(Jt),Q.$flags$|=4,Ot.length=0)}});return function(Le,Ge,dt){return $.apply(this,arguments)}}(),Fe=($,Q,Le,Ge)=>{try{Q=Q.render&&Q.render(),$.$flags$&=-17,$.$flags$|=2,(($,Q,Le=!1)=>{var Ge,dt,vt,xt;const Gt=$.$hostElement$,jt=$.$cmpMeta$,Ot=$.$vnode$||sn(null,null),Jt=($=>$&&$.$tag$===Cn)(Q)?Q:Et(null,null,Q);if(fe=Gt.tagName,jt.$attrsToReflect$&&(Jt.$attrs$=Jt.$attrs$||{},jt.$attrsToReflect$.map(([pn,hn])=>Jt.$attrs$[hn]=Gt[pn])),Le&&Jt.$attrs$)for(const pn of Object.keys(Jt.$attrs$))Gt.hasAttribute(pn)&&!["key","ref","style","class"].includes(pn)&&(Jt.$attrs$[pn]=Gt[pn]);if(Jt.$tag$=null,Jt.$flags$|=4,$.$vnode$=Jt,Jt.$elm$=Ot.$elm$=Gt.shadowRoot||Gt,ne=Gt["s-sc"],Te=Gt["s-cr"],ue=0!=(1&jt.$flags$),Ue=!1,xr(Ot,Jt,Le),er.$flags$|=1,je){Zr(Jt.$elm$);for(const pn of en){const hn=pn.$nodeToRelocate$;if(!hn["s-ol"]){const tr=yr.createTextNode("");tr["s-nr"]=hn,hn.parentNode.insertBefore(hn["s-ol"]=tr,hn)}}for(const pn of en){const hn=pn.$nodeToRelocate$,tr=pn.$slotRefNode$;if(tr){const gr=tr.parentNode;let T=tr.nextSibling;{let ee=null===(Ge=hn["s-ol"])||void 0===Ge?void 0:Ge.previousSibling;for(;ee;){let M=null!==(dt=ee["s-nr"])&&void 0!==dt?dt:null;if(M&&M["s-sn"]===hn["s-sn"]&&gr===M.parentNode&&(M=M.nextSibling,!M||!M["s-nr"])){T=M;break}ee=ee.previousSibling}}(!T&&gr!==hn.parentNode||hn.nextSibling!==T)&&hn!==T&&(!hn["s-hn"]&&hn["s-ol"]&&(hn["s-hn"]=hn["s-ol"].parentNode.nodeName),gr.insertBefore(hn,T),1===hn.nodeType&&(hn.hidden=null!==(vt=hn["s-ih"])&&void 0!==vt&&vt))}else 1===hn.nodeType&&(Le&&(hn["s-ih"]=null!==(xt=hn.hidden)&&void 0!==xt&&xt),hn.hidden=!0)}}Ue&&xn(Jt.$elm$),er.$flags$&=-2,en.length=0,Te=void 0})($,Q,Ge)}catch(dt){Vn(dt,$.$hostElement$)}return null},te=$=>{const Le=$.$hostElement$,dt=$.$lazyInstance$,vt=$.$ancestorComponent$;ot(dt,"componentDidRender"),64&$.$flags$?ot(dt,"componentDidUpdate"):($.$flags$|=64,qe(Le),ot(dt,"componentDidLoad"),$.$onReadyResolve$(Le),vt||we()),$.$onInstanceResolve$(Le),$.$onRenderResolve$&&($.$onRenderResolve$(),$.$onRenderResolve$=void 0),512&$.$flags$&&on(()=>Gr($,!1)),$.$flags$&=-517},oe=$=>{{const Q=An($),Le=Q.$hostElement$.isConnected;return Le&&2==(18&Q.$flags$)&&Gr(Q,!1),Le}},we=$=>{qe(yr.documentElement),on(()=>mt(hi,"appload",{detail:{namespace:"ionic"}}))},ot=($,Q,Le)=>{if($&&$[Q])try{return $[Q](Le)}catch(Ge){Vn(Ge)}},qe=$=>$.classList.add("hydrated"),Rn=($,Q,Le)=>{var Ge;const dt=$.prototype;if(Q.$members$){$.watchers&&(Q.$watchers$=$.watchers);const vt=Object.entries(Q.$members$);if(vt.map(([xt,[Gt]])=>{31&Gt||2&Le&&32&Gt?Object.defineProperty(dt,xt,{get(){return(($,Q)=>An(this).$instanceValues$.get(Q))(0,xt)},set(jt){(($,Q,Le,Ge)=>{const dt=An($),vt=dt.$hostElement$,xt=dt.$instanceValues$.get(Q),Gt=dt.$flags$,jt=dt.$lazyInstance$;Le=(($,Q)=>null==$||nt($)?$:4&Q?"false"!==$&&(""===$||!!$):2&Q?parseFloat($):1&Q?String($):$)(Le,Ge.$members$[Q][0]);const Ot=Number.isNaN(xt)&&Number.isNaN(Le);if((!(8&Gt)||void 0===xt)&&Le!==xt&&!Ot&&(dt.$instanceValues$.set(Q,Le),jt)){if(Ge.$watchers$&&128&Gt){const pn=Ge.$watchers$[Q];pn&&pn.map(hn=>{try{jt[hn](Le,xt,Q)}catch(tr){Vn(tr,vt)}})}2==(18&Gt)&&Gr(dt,!1)}})(this,xt,jt,Q)},configurable:!0,enumerable:!0}):1&Le&&64&Gt&&Object.defineProperty(dt,xt,{value(...jt){var Ot;const Jt=An(this);return null===(Ot=null==Jt?void 0:Jt.$onInstancePromise$)||void 0===Ot?void 0:Ot.then(()=>{var pn;return null===(pn=Jt.$lazyInstance$)||void 0===pn?void 0:pn[xt](...jt)})}})}),1&Le){const xt=new Map;dt.attributeChangedCallback=function(Gt,jt,Ot){er.jmp(()=>{var Jt;const pn=xt.get(Gt);if(this.hasOwnProperty(pn))Ot=this[pn],delete this[pn];else{if(dt.hasOwnProperty(pn)&&"number"==typeof this[pn]&&this[pn]==Ot)return;if(null==pn){const hn=An(this),tr=null==hn?void 0:hn.$flags$;if(tr&&!(8&tr)&&128&tr&&Ot!==jt){const gr=hn.$lazyInstance$,T=null===(Jt=Q.$watchers$)||void 0===Jt?void 0:Jt[Gt];null==T||T.forEach(ee=>{null!=gr[ee]&&gr[ee].call(gr,Ot,jt,Gt)})}return}}this[pn]=(null!==Ot||"boolean"!=typeof this[pn])&&Ot})},$.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ge=Q.$watchers$)&&void 0!==Ge?Ge:{}),...vt.filter(([Gt,jt])=>15&jt[0]).map(([Gt,jt])=>{var Ot;const Jt=jt[1]||Gt;return xt.set(Jt,Gt),512&jt[0]&&(null===(Ot=Q.$attrsToReflect$)||void 0===Ot||Ot.push([Gt,Jt])),Jt})]))}}return $},Rr=function(){var $=(0,u.Z)(function*(Q,Le,Ge,dt){let vt;if(!(32&Le.$flags$)){Le.$flags$|=32;{if(vt=Ui(Ge),vt.then){const Ot=()=>{};vt=yield vt,Ot()}vt.isProxied||(Ge.$watchers$=vt.watchers,Rn(vt,Ge,2),vt.isProxied=!0);const jt=()=>{};Le.$flags$|=8;try{new vt(Le)}catch(Ot){Vn(Ot)}Le.$flags$&=-9,Le.$flags$|=128,jt(),Mr(Le.$lazyInstance$)}if(vt.style){let jt=vt.style;"string"!=typeof jt&&(jt=jt[Le.$modeName$=($=>yi.map(Q=>Q($)).find(Q=>!!Q))(Q)]);const Ot=rn(Ge,Le.$modeName$);if(!Cr.has(Ot)){const Jt=()=>{};ct(Ot,jt,!!(1&Ge.$flags$)),Jt()}}}const xt=Le.$ancestorComponent$,Gt=()=>Gr(Le,!0);xt&&xt["s-rc"]?xt["s-rc"].push(Gt):Gt()});return function(Le,Ge,dt,vt){return $.apply(this,arguments)}}(),Mr=$=>{ot($,"connectedCallback")},zn=$=>{const Q=$["s-cr"]=yr.createComment("");Q["s-cn"]=!0,$.insertBefore(Q,$.firstChild)},Wr=$=>{ot($,"disconnectedCallback")},Ai=function(){var $=(0,u.Z)(function*(Q){if(!(1&er.$flags$)){const Le=An(Q);Le.$rmListeners$&&(Le.$rmListeners$.map(Ge=>Ge()),Le.$rmListeners$=void 0),null!=Le&&Le.$lazyInstance$?Wr(Le.$lazyInstance$):null!=Le&&Le.$onReadyPromise$&&Le.$onReadyPromise$.then(()=>Wr(Le.$lazyInstance$))}});return function(Le){return $.apply(this,arguments)}}(),qr=($,Q={})=>{var Le;const dt=[],vt=Q.exclude||[],xt=hi.customElements,Gt=yr.head,jt=Gt.querySelector("meta[charset]"),Ot=yr.createElement("style"),Jt=[],pn=yr.querySelectorAll(`[${ze}]`);let hn,tr=!0,gr=0;for(Object.assign(er,Q),er.$resourcesUrl$=new URL(Q.resourcesUrl||"./",yr.baseURI).href,er.$flags$|=2;gr<pn.length;gr++)ct(pn[gr].getAttribute(ze),Pt(pn[gr].innerHTML),!0);let T=!1;if($.map(ee=>{ee[1].map(M=>{var le;const We={$flags$:M[0],$tagName$:M[1],$members$:M[2],$listeners$:M[3]};4&We.$flags$&&(T=!0),We.$members$=M[2],We.$listeners$=M[3],We.$attrsToReflect$=[],We.$watchers$=null!==(le=M[4])&&void 0!==le?le:{};const Ln=We.$tagName$,jr=class extends HTMLElement{constructor(ti){super(ti),Ur(ti=this,We),1&We.$flags$&&ti.attachShadow({mode:"open",delegatesFocus:!!(16&We.$flags$)})}connectedCallback(){hn&&(clearTimeout(hn),hn=null),tr?Jt.push(this):er.jmp(()=>($=>{if(!(1&er.$flags$)){const Q=An($),Le=Q.$cmpMeta$,Ge=()=>{};if(1&Q.$flags$)Si($,Q,Le.$listeners$),null!=Q&&Q.$lazyInstance$?Mr(Q.$lazyInstance$):null!=Q&&Q.$onReadyPromise$&&Q.$onReadyPromise$.then(()=>Mr(Q.$lazyInstance$));else{let dt;if(Q.$flags$|=1,dt=$.getAttribute(pt),dt){if(1&Le.$flags$){const vt=bt($.shadowRoot,Le,$.getAttribute("s-mode"));$.classList.remove(vt+"-h",vt+"-s")}(($,Q,Le,Ge)=>{const vt=$.shadowRoot,xt=[],jt=vt?[]:null,Ot=Ge.$vnode$=sn(Q,null);er.$orgLocNodes$||Ke(yr.body,er.$orgLocNodes$=new Map),$[pt]=Le,$.removeAttribute(pt),Ce(Ot,xt,[],jt,$,$,Le),xt.map(Jt=>{const pn=Jt.$hostId$+"."+Jt.$nodeId$,hn=er.$orgLocNodes$.get(pn),tr=Jt.$elm$;hn&&me&&""===hn["s-en"]&&hn.parentNode.insertBefore(tr,hn.nextSibling),vt||(tr["s-hn"]=Q,hn&&(tr["s-ol"]=hn,tr["s-ol"]["s-nr"]=tr)),er.$orgLocNodes$.delete(pn)}),vt&&jt.map(Jt=>{Jt&&vt.appendChild(Jt)})})($,Le.$tagName$,dt,Q)}dt||12&Le.$flags$&&zn($);{let vt=$;for(;vt=vt.parentNode||vt.host;)if(1===vt.nodeType&&vt.hasAttribute("s-id")&&vt["s-p"]||vt["s-p"]){Or(Q,Q.$ancestorComponent$=vt);break}}Le.$members$&&Object.entries(Le.$members$).map(([vt,[xt]])=>{if(31&xt&&$.hasOwnProperty(vt)){const Gt=$[vt];delete $[vt],$[vt]=Gt}}),Rr($,Q,Le)}Ge()}})(this))}disconnectedCallback(){er.jmp(()=>Ai(this))}componentOnReady(){return An(this).$onReadyPromise$}};We.$lazyBundleId$=ee[0],!vt.includes(Ln)&&!xt.get(Ln)&&(dt.push(Ln),xt.define(Ln,Rn(jr,We,1)))})}),T&&(Ot.innerHTML+=Je),Ot.innerHTML+=dt+"{visibility:hidden}.hydrated{visibility:inherit}",Ot.innerHTML.length){Ot.setAttribute("data-styles","");const ee=null!==(Le=er.$nonce$)&&void 0!==Le?Le:tt(yr);null!=ee&&Ot.setAttribute("nonce",ee),Gt.insertBefore(Ot,jt?jt.nextSibling:Gt.firstChild)}tr=!1,Jt.length?Jt.map(ee=>ee.connectedCallback()):er.jmp(()=>hn=setTimeout(we,30))},Si=($,Q,Le,Ge)=>{Le&&Le.map(([dt,vt,xt])=>{const Gt=ut($,dt),jt=Ct(Q,xt),Ot=At(dt);er.ael(Gt,vt,jt,Ot),(Q.$rmListeners$=Q.$rmListeners$||[]).push(()=>er.rel(Gt,vt,jt,Ot))})},Ct=($,Q)=>Le=>{try{256&$.$flags$?$.$lazyInstance$[Q](Le):($.$queuedListeners$=$.$queuedListeners$||[]).push([Q,Le])}catch(Ge){Vn(Ge)}},ut=($,Q)=>4&Q?yr:8&Q?hi:16&Q?yr.body:$,At=$=>ve?{passive:0!=(1&$),capture:0!=(2&$)}:0!=(2&$),Ut=new WeakMap,An=$=>Ut.get($),qn=($,Q)=>Ut.set(Q.$lazyInstance$=$,Q),Ur=($,Q)=>{const Le={$flags$:0,$hostElement$:$,$cmpMeta$:Q,$instanceValues$:new Map};return Le.$onInstancePromise$=new Promise(Ge=>Le.$onInstanceResolve$=Ge),Le.$onReadyPromise$=new Promise(Ge=>Le.$onReadyResolve$=Ge),$["s-p"]=[],$["s-rc"]=[],Si($,Le,Q.$listeners$),Ut.set($,Le)},_r=($,Q)=>Q in $,Vn=($,Q)=>(0,console.error)($,Q),Ri=new Map,Ui=($,Q,Le)=>{const Ge=$.$tagName$.replace(/-/g,"_"),dt=$.$lazyBundleId$,vt=Ri.get(dt);return vt?vt[Ge]:N(863)(`./${dt}.entry.js`).then(xt=>(Ri.set(dt,xt),xt[Ge]),Vn)},Cr=new Map,yi=[],hi=typeof window<"u"?window:{},yr=hi.document||{head:{}},er={$flags$:0,$resourcesUrl$:"",jmp:$=>$(),raf:$=>requestAnimationFrame($),ael:($,Q,Le,Ge)=>$.addEventListener(Q,Le,Ge),rel:($,Q,Le,Ge)=>$.removeEventListener(Q,Le,Ge),ce:($,Q)=>new CustomEvent($,Q)},dr=$=>{Object.assign(er,$)},me=!0,ve=(()=>{let $=!1;try{yr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){$=!0}}))}catch{}return $})(),ie=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rt=[],Rt=[],zt=($,Q)=>Le=>{$.push(Le),se||(se=!0,Q&&4&er.$flags$?on(Mn):er.raf(Mn))},nn=$=>{for(let Q=0;Q<$.length;Q++)try{$[Q](performance.now())}catch(Le){Vn(Le)}$.length=0},Mn=()=>{nn(rt),nn(Rt),(se=rt.length>0)&&er.raf(Mn)},on=$=>Promise.resolve(void 0).then($),ei=zt(rt,!1),gt=zt(Rt,!0)},2400:(Yt,et,N)=>{"use strict";N.d(et,{a:()=>k,b:()=>Y,p:()=>u});const u=(ne,...Te)=>console.warn(`[Ionic Warning]: ${ne}`,...Te),k=(ne,...Te)=>console.error(`[Ionic Error]: ${ne}`,...Te),Y=(ne,...Te)=>console.error(`<${ne.tagName.toLowerCase()}> must be used inside ${Te.join(" or ")}.`)},1848:(Yt,et,N)=>{"use strict";N.d(et,{d:()=>k,w:()=>u});const u=typeof window<"u"?window:void 0,k=typeof document<"u"?document:void 0},9103:(Yt,et,N)=>{"use strict";N.d(et,{a:()=>se,b:()=>sn,c:()=>Y,i:()=>Cn});var u=N(6393);class k{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,J){const ge=this.m.get(De);return void 0!==ge?ge:J}getBoolean(De,J=!1){const ge=this.m.get(De);return void 0===ge?J:"string"==typeof ge?"true"===ge:!!ge}getNumber(De,J){const ge=parseFloat(this.m.get(De));return isNaN(ge)?void 0!==J?J:NaN:ge}set(De,J){this.m.set(De,J)}}const Y=new k,je="ionic-persist-config",se=(be,De)=>("string"==typeof be&&(De=be,be=void 0),(be=>Me(be))(be).includes(De)),Me=(be=window)=>{if(typeof be>"u")return[];be.Ionic=be.Ionic||{};let De=be.Ionic.platforms;return null==De&&(De=be.Ionic.platforms=Oe(be),De.forEach(J=>be.document.documentElement.classList.add(`plt-${J}`))),De},Oe=be=>{const De=Y.get("platform");return Object.keys(tt).filter(J=>{const ge=null==De?void 0:De[J];return"function"==typeof ge?ge(be):tt[J](be)})},Ne=be=>!!(Qe(be,/iPad/i)||Qe(be,/Macintosh/i)&&Re(be)),Pe=be=>Qe(be,/android|sink/i),Re=be=>nt(be,"(any-pointer:coarse)"),Je=be=>z(be)||pe(be),z=be=>!!(be.cordova||be.phonegap||be.PhoneGap),pe=be=>{const De=be.Capacitor;return!(null==De||!De.isNative)},Qe=(be,De)=>De.test(be.navigator.userAgent),nt=(be,De)=>{var J;return null===(J=be.matchMedia)||void 0===J?void 0:J.call(be,De).matches},tt={ipad:Ne,iphone:be=>Qe(be,/iPhone/i),ios:be=>Qe(be,/iPhone|iPod/i)||Ne(be),android:Pe,phablet:be=>{const De=be.innerWidth,J=be.innerHeight,ge=Math.min(De,J),Be=Math.max(De,J);return ge>390&&ge<520&&Be>620&&Be<800},tablet:be=>{const De=be.innerWidth,J=be.innerHeight,ge=Math.min(De,J),Be=Math.max(De,J);return Ne(be)||(be=>Pe(be)&&!Qe(be,/mobile/i))(be)||ge>460&&ge<820&&Be>780&&Be<1400},cordova:z,capacitor:pe,electron:be=>Qe(be,/electron/i),pwa:be=>{var De;return!!(null!==(De=be.matchMedia)&&void 0!==De&&De.call(be,"(display-mode: standalone)").matches||be.navigator.standalone)},mobile:Re,mobileweb:be=>Re(be)&&!Je(be),desktop:be=>!Re(be),hybrid:Je};let Et;const sn=be=>be&&(0,u.g)(be)||Et,Cn=(be={})=>{if(typeof window>"u")return;const De=window.document,J=window,ge=J.Ionic=J.Ionic||{},Be={};be._ael&&(Be.ael=be._ael),be._rel&&(Be.rel=be._rel),be._ce&&(Be.ce=be._ce),(0,u.a)(Be);const Ce=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(be=>{try{const De=be.sessionStorage.getItem(je);return null!==De?JSON.parse(De):{}}catch{return{}}})(J)),{persistConfig:!1}),ge.config),(be=>{const De={};return be.location.search.slice(1).split("&").map(J=>J.split("=")).map(([J,ge])=>[decodeURIComponent(J),decodeURIComponent(ge)]).filter(([J])=>((be,De)=>be.substr(0,De.length)===De)(J,"ionic:")).map(([J,ge])=>[J.slice(6),ge]).forEach(([J,ge])=>{De[J]=ge}),De})(J)),be);Y.reset(Ce),Y.getBoolean("persistConfig")&&((be,De)=>{try{be.sessionStorage.setItem(je,JSON.stringify(De))}catch{return}})(J,Ce),Me(J),ge.config=Y,ge.mode=Et=Y.get("mode",De.documentElement.getAttribute("mode")||(se(J,"ios")?"ios":"md")),Y.set("mode",Et),De.documentElement.setAttribute("mode",Et),De.documentElement.classList.add(Et),Y.getBoolean("_testing")&&Y.set("animated",!1);const Ke=St=>{var Mt;return null===(Mt=St.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},wt=St=>["ios","md"].includes(St);(0,u.c)(St=>{for(;St;){const Mt=St.mode||St.getAttribute("mode");if(Mt){if(wt(Mt))return Mt;Ke(St)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}St=St.parentElement}return Et})}},7395:(Yt,et,N)=>{"use strict";N.r(et),N.d(et,{iosTransitionAnimation:()=>Oe,shadow:()=>ue});var u=N(1072),k=N(2651);N(1848),N(6393);const fe=Ne=>document.querySelector(`${Ne}.ion-cloned-element`),ue=Ne=>Ne.shadowRoot||Ne,Ue=Ne=>{const it="ION-TABS"===Ne.tagName?Ne:Ne.querySelector("ion-tabs"),xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=it){const Pe=it.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Pe?Pe.querySelector(xe):null}return Ne.querySelector(xe)},je=(Ne,it)=>{const xe="ION-TABS"===Ne.tagName?Ne:Ne.querySelector("ion-tabs");let Pe=[];if(null!=xe){const Ve=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ve&&(Pe=Ve.querySelectorAll("ion-buttons"))}else Pe=Ne.querySelectorAll("ion-buttons");for(const Ve of Pe){const pt=Ve.closest("ion-header"),ze=pt&&!pt.classList.contains("header-collapse-condense-inactive"),Re=Ve.querySelector("ion-back-button"),Ae=Ve.classList.contains("buttons-collapse");if(null!==Re&&("start"===Ve.slot||""===Ve.slot)&&(Ae&&ze&&it||!Ae))return Re}return null},se=(Ne,it,xe,Pe,Ve,pt,ze,Re,Ae)=>{var Je,z;const pe=it?`calc(100% - ${Ve.right+4}px)`:Ve.left-4+"px",ae=it?"right":"left",W=it?"left":"right",Qe=it?"right":"left",nt=(null===(Je=pt.textContent)||void 0===Je?void 0:Je.trim())===(null===(z=Re.textContent)||void 0===z?void 0:z.trim()),Et=(Ae.height-ke)/ze.height,sn=nt?`scale(${Ae.width/ze.width}, ${Et})`:`scale(${Et})`,Cn="scale(1)",De=ue(Pe).querySelector("ion-icon").getBoundingClientRect(),J=it?De.width/2-(De.right-Ve.right)+"px":Ve.left-De.width/2+"px",ge=it?`-${window.innerWidth-Ve.right}px`:`${Ve.left}px`,Be=`${Ae.top}px`,Ce=`${Ve.top}px`,St=xe?[{offset:0,transform:`translate3d(${ge}, ${Ce}, 0)`},{offset:1,transform:`translate3d(${J}, ${Be}, 0)`}]:[{offset:0,transform:`translate3d(${J}, ${Be}, 0)`},{offset:1,transform:`translate3d(${ge}, ${Ce}, 0)`}],Zt=xe?[{offset:0,opacity:1,transform:Cn},{offset:1,opacity:0,transform:sn}]:[{offset:0,opacity:0,transform:sn},{offset:1,opacity:1,transform:Cn}],ht=xe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ct=(0,u.c)(),bt=(0,u.c)(),un=(0,u.c)(),rn=fe("ion-back-button"),Pt=ue(rn).querySelector(".button-text"),Xt=ue(rn).querySelector("ion-icon");rn.text=Pe.text,rn.mode=Pe.mode,rn.icon=Pe.icon,rn.color=Pe.color,rn.disabled=Pe.disabled,rn.style.setProperty("display","block"),rn.style.setProperty("position","fixed"),bt.addElement(Xt),ct.addElement(Pt),un.addElement(rn),un.beforeStyles({position:"absolute",top:"0px",[Qe]:"0px"}).keyframes(St),ct.beforeStyles({"transform-origin":`${ae} top`}).beforeAddWrite(()=>{Pe.style.setProperty("display","none"),rn.style.setProperty(ae,pe)}).afterAddWrite(()=>{Pe.style.setProperty("display",""),rn.style.setProperty("display","none"),rn.style.removeProperty(ae)}).keyframes(Zt),bt.beforeStyles({"transform-origin":`${W} center`}).keyframes(ht),Ne.addAnimation([ct,bt,un])},Me=(Ne,it,xe,Pe,Ve,pt,ze,Re)=>{var Ae,Je;const z=it?"right":"left",pe=it?`calc(100% - ${Ve.right}px)`:`${Ve.left}px`,W=`${Ve.top}px`,nt=it?`-${window.innerWidth-Re.right-8}px`:Re.x-8+"px",Et=Re.y-2+"px",sn=(null===(Ae=ze.textContent)||void 0===Ae?void 0:Ae.trim())===(null===(Je=Pe.textContent)||void 0===Je?void 0:Je.trim()),be=Re.height/(pt.height-ke),De="scale(1)",J=sn?`scale(${Re.width/pt.width}, ${be})`:`scale(${be})`,Ce=xe?[{offset:0,opacity:0,transform:`translate3d(${nt}, ${Et}, 0) ${J}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${W}, 0) ${De}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${W}, 0) ${De}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${nt}, ${Et}, 0) ${J}`}],Ke=fe("ion-title"),wt=(0,u.c)();Ke.innerText=Pe.innerText,Ke.size=Pe.size,Ke.color=Pe.color,wt.addElement(Ke),wt.beforeStyles({"transform-origin":`${z} top`,height:`${Ve.height}px`,display:"",position:"relative",[z]:pe}).beforeAddWrite(()=>{Pe.style.setProperty("opacity","0")}).afterAddWrite(()=>{Pe.style.setProperty("opacity",""),Ke.style.setProperty("display","none")}).keyframes(Ce),Ne.addAnimation(wt)},Oe=(Ne,it)=>{var xe;try{const Pe="cubic-bezier(0.32,0.72,0,1)",Ve="opacity",pt="transform",ze="0%",Ae="rtl"===Ne.ownerDocument.dir,Je=Ae?"-99.5%":"99.5%",z=Ae?"33%":"-33%",pe=it.enteringEl,ae=it.leavingEl,W="back"===it.direction,Qe=pe.querySelector(":scope > ion-content"),nt=pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),tt=pe.querySelectorAll(":scope > ion-header > ion-toolbar"),Et=(0,u.c)(),sn=(0,u.c)();if(Et.addElement(pe).duration((null!==(xe=it.duration)&&void 0!==xe?xe:0)||540).easing(it.easing||Pe).fill("both").beforeRemoveClass("ion-page-invisible"),ae&&null!=Ne){const J=(0,u.c)();J.addElement(Ne),Et.addAnimation(J)}if(Qe||0!==tt.length||0!==nt.length?(sn.addElement(Qe),sn.addElement(nt)):sn.addElement(pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Et.addAnimation(sn),W?sn.beforeClearStyles([Ve]).fromTo("transform",`translateX(${z})`,`translateX(${ze})`).fromTo(Ve,.8,1):sn.beforeClearStyles([Ve]).fromTo("transform",`translateX(${Je})`,`translateX(${ze})`),Qe){const J=ue(Qe).querySelector(".transition-effect");if(J){const ge=J.querySelector(".transition-cover"),Be=J.querySelector(".transition-shadow"),Ce=(0,u.c)(),Ke=(0,u.c)(),wt=(0,u.c)();Ce.addElement(J).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ke.addElement(ge).beforeClearStyles([Ve]).fromTo(Ve,0,.1),wt.addElement(Be).beforeClearStyles([Ve]).fromTo(Ve,.03,.7),Ce.addAnimation([Ke,wt]),sn.addAnimation([Ce])}}const Cn=pe.querySelector("ion-header.header-collapse-condense"),{forward:be,backward:De}=((Ne,it,xe,Pe,Ve)=>{const pt=je(Pe,xe),ze=Ue(Ve),Re=Ue(Pe),Ae=je(Ve,xe),Je=null!==pt&&null!==ze&&!xe,z=null!==Re&&null!==Ae&&xe;if(Je){const pe=ze.getBoundingClientRect(),ae=pt.getBoundingClientRect(),W=ue(pt).querySelector(".button-text"),Qe=W.getBoundingClientRect(),tt=ue(ze).querySelector(".toolbar-title").getBoundingClientRect();Me(Ne,it,xe,ze,pe,tt,W,Qe),se(Ne,it,xe,pt,ae,W,Qe,ze,tt)}else if(z){const pe=Re.getBoundingClientRect(),ae=Ae.getBoundingClientRect(),W=ue(Ae).querySelector(".button-text"),Qe=W.getBoundingClientRect(),tt=ue(Re).querySelector(".toolbar-title").getBoundingClientRect();Me(Ne,it,xe,Re,pe,tt,W,Qe),se(Ne,it,xe,Ae,ae,W,Qe,Re,tt)}return{forward:Je,backward:z}})(Et,Ae,W,pe,ae);if(tt.forEach(J=>{const ge=(0,u.c)();ge.addElement(J),Et.addAnimation(ge);const Be=(0,u.c)();Be.addElement(J.querySelector("ion-title"));const Ce=(0,u.c)(),Ke=Array.from(J.querySelectorAll("ion-buttons,[menuToggle]")),wt=J.closest("ion-header"),St=null==wt?void 0:wt.classList.contains("header-collapse-condense-inactive");let Mt;Mt=Ke.filter(W?ht=>{const ct=ht.classList.contains("buttons-collapse");return ct&&!St||!ct}:ht=>!ht.classList.contains("buttons-collapse")),Ce.addElement(Mt);const at=(0,u.c)();at.addElement(J.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Zt=(0,u.c)();Zt.addElement(ue(J).querySelector(".toolbar-background"));const an=(0,u.c)(),mt=J.querySelector("ion-back-button");if(mt&&an.addElement(mt),ge.addAnimation([Be,Ce,at,Zt,an]),Ce.fromTo(Ve,.01,1),at.fromTo(Ve,.01,1),W)St||Be.fromTo("transform",`translateX(${z})`,`translateX(${ze})`).fromTo(Ve,.01,1),at.fromTo("transform",`translateX(${z})`,`translateX(${ze})`),an.fromTo(Ve,.01,1);else if(Cn||Be.fromTo("transform",`translateX(${Je})`,`translateX(${ze})`).fromTo(Ve,.01,1),at.fromTo("transform",`translateX(${Je})`,`translateX(${ze})`),Zt.beforeClearStyles([Ve,"transform"]),(null==wt?void 0:wt.translucent)?Zt.fromTo("transform",Ae?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Zt.fromTo(Ve,.01,"var(--opacity)"),be||an.fromTo(Ve,.01,1),mt&&!be){const ct=(0,u.c)();ct.addElement(ue(mt).querySelector(".button-text")).fromTo("transform",Ae?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(ct)}}),ae){const J=(0,u.c)(),ge=ae.querySelector(":scope > ion-content"),Be=ae.querySelectorAll(":scope > ion-header > ion-toolbar"),Ce=ae.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==Be.length||0!==Ce.length?(J.addElement(ge),J.addElement(Ce)):J.addElement(ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Et.addAnimation(J),W){J.beforeClearStyles([Ve]).fromTo("transform",`translateX(${ze})`,Ae?"translateX(-100%)":"translateX(100%)");const Ke=(0,k.g)(ae);Et.afterAddWrite(()=>{"normal"===Et.getDirection()&&Ke.style.setProperty("display","none")})}else J.fromTo("transform",`translateX(${ze})`,`translateX(${z})`).fromTo(Ve,1,.8);if(ge){const Ke=ue(ge).querySelector(".transition-effect");if(Ke){const wt=Ke.querySelector(".transition-cover"),St=Ke.querySelector(".transition-shadow"),Mt=(0,u.c)(),at=(0,u.c)(),Zt=(0,u.c)();Mt.addElement(Ke).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),at.addElement(wt).beforeClearStyles([Ve]).fromTo(Ve,.1,0),Zt.addElement(St).beforeClearStyles([Ve]).fromTo(Ve,.7,.03),Mt.addAnimation([at,Zt]),J.addAnimation([Mt])}}Be.forEach(Ke=>{const wt=(0,u.c)();wt.addElement(Ke);const St=(0,u.c)();St.addElement(Ke.querySelector("ion-title"));const Mt=(0,u.c)(),at=Ke.querySelectorAll("ion-buttons,[menuToggle]"),Zt=Ke.closest("ion-header"),an=null==Zt?void 0:Zt.classList.contains("header-collapse-condense-inactive"),mt=Array.from(at).filter(Pt=>{const Xt=Pt.classList.contains("buttons-collapse");return Xt&&!an||!Xt});Mt.addElement(mt);const ht=(0,u.c)(),ct=Ke.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ct.length>0&&ht.addElement(ct);const bt=(0,u.c)();bt.addElement(ue(Ke).querySelector(".toolbar-background"));const un=(0,u.c)(),rn=Ke.querySelector("ion-back-button");if(rn&&un.addElement(rn),wt.addAnimation([St,Mt,ht,un,bt]),Et.addAnimation(wt),un.fromTo(Ve,.99,0),Mt.fromTo(Ve,.99,0),ht.fromTo(Ve,.99,0),W){if(an||St.fromTo("transform",`translateX(${ze})`,Ae?"translateX(-100%)":"translateX(100%)").fromTo(Ve,.99,0),ht.fromTo("transform",`translateX(${ze})`,Ae?"translateX(-100%)":"translateX(100%)"),bt.beforeClearStyles([Ve,"transform"]),(null==Zt?void 0:Zt.translucent)?bt.fromTo("transform","translateX(0px)",Ae?"translateX(-100%)":"translateX(100%)"):bt.fromTo(Ve,"var(--opacity)",0),rn&&!De){const Xt=(0,u.c)();Xt.addElement(ue(rn).querySelector(".button-text")).fromTo("transform",`translateX(${ze})`,`translateX(${(Ae?-124:124)+"px"})`),wt.addAnimation(Xt)}}else an||St.fromTo("transform",`translateX(${ze})`,`translateX(${z})`).fromTo(Ve,.99,0).afterClearStyles([pt,Ve]),ht.fromTo("transform",`translateX(${ze})`,`translateX(${z})`).afterClearStyles([pt,Ve]),un.afterClearStyles([Ve]),St.afterClearStyles([Ve]),Mt.afterClearStyles([Ve])})}return Et}catch(Pe){throw Pe}},ke=10},8490:(Yt,et,N)=>{"use strict";N.r(et),N.d(et,{mdTransitionAnimation:()=>Te});var u=N(1072),k=N(2651);N(1848),N(6393);const Te=(fe,ue)=>{var Ue,je,_e;const Oe="back"===ue.direction,Ne=ue.leavingEl,it=(0,k.g)(ue.enteringEl),xe=it.querySelector("ion-toolbar"),Pe=(0,u.c)();if(Pe.addElement(it).fill("both").beforeRemoveClass("ion-page-invisible"),Oe?Pe.duration((null!==(Ue=ue.duration)&&void 0!==Ue?Ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Pe.duration((null!==(je=ue.duration)&&void 0!==je?je:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),xe){const Ve=(0,u.c)();Ve.addElement(xe),Pe.addAnimation(Ve)}if(Ne&&Oe){Pe.duration((null!==(_e=ue.duration)&&void 0!==_e?_e:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ve=(0,u.c)();Ve.addElement((0,k.g)(Ne)).onFinish(pt=>{1===pt&&Ve.elements.length>0&&Ve.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Pe.addAnimation(Ve)}return Pe}},5374:(Yt,et,N)=>{"use strict";N.d(et,{B:()=>St,G:()=>Mt,O:()=>at,a:()=>Me,b:()=>Oe,c:()=>xe,d:()=>Zt,e:()=>an,f:()=>sn,g:()=>be,h:()=>ge,i:()=>Ce,j:()=>Ve,k:()=>pt,m:()=>Ne,n:()=>Ae,o:()=>tt,s:()=>wt});var u=N(5861),k=N(1848),Y=N(8739),ne=N(9103),Te=N(6066),fe=N(2831),ue=N(2400);let Ue=0,je=0;const _e=new WeakMap,se=mt=>({create:ht=>ze(mt,ht),dismiss:(ht,ct,bt)=>W(document,ht,ct,mt,bt),getTop:()=>(0,u.Z)(function*(){return tt(document,mt)})()}),Me=se("ion-alert"),Oe=se("ion-action-sheet"),Ne=se("ion-modal"),xe=se("ion-popover"),Ve=mt=>{typeof document<"u"&&ae(document);const ht=Ue++;mt.overlayIndex=ht},pt=mt=>(mt.hasAttribute("id")||(mt.id="ion-overlay-"+ ++je),mt.id),ze=(mt,ht)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(mt).then(()=>{const ct=document.createElement(mt);return ct.classList.add("overlay-hidden"),Object.assign(ct,Object.assign(Object.assign({},ht),{hasController:!0})),De(document).appendChild(ct),new Promise(bt=>(0,fe.c)(ct,bt))}):Promise.resolve(),Re='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ae=(mt,ht)=>{let ct=mt.querySelector(Re);const bt=null==ct?void 0:ct.shadowRoot;bt&&(ct=bt.querySelector(Re)||ct),ct?(0,fe.f)(ct):ht.focus()},z=(mt,ht)=>{const ct=Array.from(mt.querySelectorAll(Re));let bt=ct.length>0?ct[ct.length-1]:null;const un=null==bt?void 0:bt.shadowRoot;un&&(bt=un.querySelector(Re)||bt),bt?bt.focus():ht.focus()},ae=mt=>{0===Ue&&(Ue=1,mt.addEventListener("focus",ht=>{((mt,ht)=>{const ct=tt(ht,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),bt=mt.target;ct&&bt&&!ct.classList.contains("ion-disable-focus-trap")&&(ct.shadowRoot?(()=>{if(ct.contains(bt))ct.lastFocus=bt;else{const Pt=ct.lastFocus;Ae(ct,ct),Pt===ht.activeElement&&z(ct,ct),ct.lastFocus=ht.activeElement}})():(()=>{if(ct===bt)ct.lastFocus=void 0;else{const Pt=(0,fe.g)(ct);if(!Pt.contains(bt))return;const Xt=Pt.querySelector(".ion-overlay-wrapper");if(!Xt)return;if(Xt.contains(bt)||bt===Pt.querySelector("ion-backdrop"))ct.lastFocus=bt;else{const Pn=ct.lastFocus;Ae(Xt,ct),Pn===ht.activeElement&&z(Xt,ct),ct.lastFocus=ht.activeElement}}})())})(ht,mt)},!0),mt.addEventListener("ionBackButton",ht=>{const ct=tt(mt);null!=ct&&ct.backdropDismiss&&ht.detail.register(Y.OVERLAY_BACK_BUTTON_PRIORITY,()=>{ct.dismiss(void 0,St)})}),(0,Y.shoudUseCloseWatcher)()||mt.addEventListener("keydown",ht=>{if("Escape"===ht.key){const ct=tt(mt);null!=ct&&ct.backdropDismiss&&ct.dismiss(void 0,St)}}))},W=(mt,ht,ct,bt,un)=>{const rn=tt(mt,bt,un);return rn?rn.dismiss(ht,ct):Promise.reject("overlay does not exist")},nt=(mt,ht)=>((mt,ht)=>(void 0===ht&&(ht="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(mt.querySelectorAll(ht)).filter(ct=>ct.overlayIndex>0)))(mt,ht).filter(ct=>!(mt=>mt.classList.contains("overlay-hidden"))(ct)),tt=(mt,ht,ct)=>{const bt=nt(mt,ht);return void 0===ct?bt[bt.length-1]:bt.find(un=>un.id===ct)},Et=(mt=!1)=>{const ct=De(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ct&&(mt?ct.setAttribute("aria-hidden","true"):ct.removeAttribute("aria-hidden"))},sn=function(){var mt=(0,u.Z)(function*(ht,ct,bt,un,rn){var Pt,Xt;if(ht.presented)return;Et(!0),ht.presented=!0,ht.willPresent.emit(),null===(Pt=ht.willPresentShorthand)||void 0===Pt||Pt.emit();const Pn=(0,ne.b)(ht),yn=ht.enterAnimation?ht.enterAnimation:ne.c.get(ct,"ios"===Pn?bt:un);(yield J(ht,yn,ht.el,rn))&&(ht.didPresent.emit(),null===(Xt=ht.didPresentShorthand)||void 0===Xt||Xt.emit()),"ION-TOAST"!==ht.el.tagName&&Cn(ht.el),ht.keyboardClose&&(null===document.activeElement||!ht.el.contains(document.activeElement))&&ht.el.focus()});return function(ct,bt,un,rn,Pt){return mt.apply(this,arguments)}}(),Cn=function(){var mt=(0,u.Z)(function*(ht){let ct=document.activeElement;if(!ct)return;const bt=null==ct?void 0:ct.shadowRoot;bt&&(ct=bt.querySelector(Re)||ct),yield ht.onDidDismiss(),ct.focus()});return function(ct){return mt.apply(this,arguments)}}(),be=function(){var mt=(0,u.Z)(function*(ht,ct,bt,un,rn,Pt,Xt){var Pn,yn;if(!ht.presented)return!1;void 0!==k.d&&1===nt(k.d).length&&Et(!1),ht.presented=!1;try{ht.el.style.setProperty("pointer-events","none"),ht.willDismiss.emit({data:ct,role:bt}),null===(Pn=ht.willDismissShorthand)||void 0===Pn||Pn.emit({data:ct,role:bt});const fr=(0,ne.b)(ht),Fn=ht.leaveAnimation?ht.leaveAnimation:ne.c.get(un,"ios"===fr?rn:Pt);bt!==Mt&&(yield J(ht,Fn,ht.el,Xt)),ht.didDismiss.emit({data:ct,role:bt}),null===(yn=ht.didDismissShorthand)||void 0===yn||yn.emit({data:ct,role:bt}),(_e.get(ht)||[]).forEach(En=>En.destroy()),_e.delete(ht),ht.el.classList.add("overlay-hidden"),ht.el.style.removeProperty("pointer-events"),void 0!==ht.el.lastFocus&&(ht.el.lastFocus=void 0)}catch(fr){console.error(fr)}return ht.el.remove(),!0});return function(ct,bt,un,rn,Pt,Xt,Pn){return mt.apply(this,arguments)}}(),De=mt=>mt.querySelector("ion-app")||mt.body,J=function(){var mt=(0,u.Z)(function*(ht,ct,bt,un){bt.classList.remove("overlay-hidden");const Pt=ct(ht.el,un);(!ht.animated||!ne.c.getBoolean("animated",!0))&&Pt.duration(0),ht.keyboardClose&&Pt.beforeAddWrite(()=>{const Pn=bt.ownerDocument.activeElement;null!=Pn&&Pn.matches("input,ion-input, ion-textarea")&&Pn.blur()});const Xt=_e.get(ht)||[];return _e.set(ht,[...Xt,Pt]),yield Pt.play(),!0});return function(ct,bt,un,rn){return mt.apply(this,arguments)}}(),ge=(mt,ht)=>{let ct;const bt=new Promise(un=>ct=un);return Be(mt,ht,un=>{ct(un.detail)}),bt},Be=(mt,ht,ct)=>{const bt=un=>{(0,fe.b)(mt,ht,bt),ct(un)};(0,fe.a)(mt,ht,bt)},Ce=mt=>"cancel"===mt||mt===St,Ke=mt=>mt(),wt=(mt,ht)=>{if("function"==typeof mt)return ne.c.get("_zoneGate",Ke)(()=>{try{return mt(ht)}catch(bt){throw bt}})},St="backdrop",Mt="gesture",at=39,Zt=mt=>{let ct,ht=!1;const bt=(0,Te.C)(),un=(Xt=!1)=>{if(ct&&!Xt)return{delegate:ct,inline:ht};const{el:Pn,hasController:yn,delegate:fr}=mt;return ht=null!==Pn.parentNode&&!yn,ct=ht?fr||bt:fr,{inline:ht,delegate:ct}};return{attachViewToDom:function(){var Xt=(0,u.Z)(function*(Pn){const{delegate:yn}=un(!0);if(yn)return yield yn.attachViewToDom(mt.el,Pn);const{hasController:fr}=mt;if(fr&&void 0!==Pn)throw new Error("framework delegate is missing");return null});return function(yn){return Xt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Xt}=un();Xt&&void 0!==mt.el&&Xt.removeViewFromDom(mt.el.parentElement,mt.el)}}},an=()=>{let mt;const ht=()=>{mt&&(mt(),mt=void 0)};return{addClickListener:(bt,un)=>{ht();const rn=void 0!==un?document.getElementById(un):null;rn?mt=((Xt,Pn)=>{const yn=()=>{Pn.present()};return Xt.addEventListener("click",yn),()=>{Xt.removeEventListener("click",yn)}})(rn,bt):(0,ue.p)(`A trigger element with the ID "${un}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,bt)},removeClickListener:ht}}},6466:(Yt,et,N)=>{"use strict";N.d(et,{e:()=>ne});var u=N(7398),k=N(9212),Y=N(9949);let ne=(()=>{var Te;class fe{constructor(Ue){this.afAuth=Ue,this.user=Ue.user}isLoggedIn(){return this.user.pipe((0,u.U)(Ue=>!!Ue))}login(Ue,je){return this.afAuth.signInWithEmailAndPassword(Ue,je)}register(Ue,je){return this.afAuth.createUserWithEmailAndPassword(Ue,je)}logout(){return this.afAuth.signOut()}}return(Te=fe).\u0275fac=function(Ue){return new(Ue||Te)(k.LFG(Y.zQ))},Te.\u0275prov=k.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),fe})()},7699:(Yt,et,N)=>{"use strict";var u=N(6593),k=N(9212),Y=N(4934),ne=N(7217),Te=N(9949),fe=N(5472),ue=N(878);let Ue=(()=>{var i;class e{constructor(){}}return(i=e).\u0275fac=function(s){return new(s||i)},i.\u0275cmp=k.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(s,l){1&s&&(k.TgZ(0,"ion-app"),k._UZ(1,"ion-router-outlet"),k.qZA())},dependencies:[ue.dr,ue.jP]}),e})();var je=N(6466);let _e=(()=>{var i;class e{constructor(s,l){this.authService=s,this.router=l}ngOnInit(){this.authService.isLoggedIn().subscribe(s=>{s&&this.router.navigate(["/home"])})}toRegister(){this.router.navigate(["/register"])}login(s,l){this.authService.login(s,l).then(()=>{alert("Accesso Riuscito"),this.router.navigate(["/home"])}).catch(d=>{alert("Accesso non riuscito: "+d)})}logout(){this.authService.logout().then(()=>console.log("Disconnessione Riuscita")).catch(s=>{alert("Disconnessione non riuscita: "+s)})}}return(i=e).\u0275fac=function(s){return new(s||i)(k.Y36(je.e),k.Y36(Y.F0))},i.\u0275cmp=k.Xpm({type:i,selectors:[["app-login"]],decls:20,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"width","90%","height","20rem","object-fit","contain"],[1,"card1",2,"width","90%"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\mdi_password-outline.png",1,"input1_img1"],["type","email","placeholder","Email",1,"field1"],["email",""],["src","assets\\img\\octicon_person-24 (1).png",1,"input1_img1"],["type","password","placeholder","Password",1,"field1"],["password",""],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center","height","2.5rem",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center"],[3,"click"]],template:function(s,l){if(1&s){const d=k.EpF();k.TgZ(0,"body"),k._UZ(1,"img",0),k.TgZ(2,"div",1)(3,"div",2),k._UZ(4,"img",3)(5,"input",4,5),k.qZA(),k.TgZ(7,"div",2),k._UZ(8,"img",6)(9,"input",7,8),k.qZA(),k.TgZ(11,"button",9),k.NdJ("click",function(){k.CHM(d);const b=k.MAs(6),R=k.MAs(10);return k.KtG(l.login(b.value,R.value))}),k.TgZ(12,"div",10),k._UZ(13,"img",11),k.TgZ(14,"p",12),k._uU(15,"Login"),k.qZA()()()(),k.TgZ(16,"p",13),k._uU(17,"Non possiedi un account?"),k.TgZ(18,"strong",14),k.NdJ("click",function(){return l.toRegister()}),k._uU(19,"Registrati"),k.qZA()()()}}}),e})();var se=N(1180),Me=N(6814),Oe=N(8326),ke=N(6321),Ne=N(5592),it=N(2459),xe=N(2096),Pe=N(7921),Ve=N(9360),pt=N(8251);function ze(){return(0,Ve.e)((i,e)=>{let r,s=!1;i.subscribe((0,pt.x)(e,l=>{const d=r;r=l,s&&e.next([d,l]),s=!0}))})}var be,Re=N(7398),Ae=N(6699),Je=N(3997),z=N(2181),ae=(N(999),N(3106)),W=N(5861),Qe=N(534),nt=N(4537),tt=N(7879),Et=N(9058),sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cn={},De=De||{},J=sn||self;function ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Be(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ke="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function St(i,e,r){return i.call.apply(i.bind,arguments)}function Mt(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function at(i,e,r){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?St:Mt).apply(null,arguments)}function Zt(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function an(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(s,l,d){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[l].apply(s,g)}}function mt(){this.s=this.s,this.o=this.o}mt.prototype.s=!1,mt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ce(i){Object.prototype.hasOwnProperty.call(i,Ke)&&i[Ke]||(i[Ke]=++wt)}(this)},mt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ct=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function bt(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function un(i,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(ge(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let g=0;g<d;g++)i[l+g]=s[g]}else i.push(s)}}function rn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var Pt=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const r=()=>{};J.addEventListener("test",r,e),J.removeEventListener("test",r,e)}catch{}return i}();function Xt(i){return/^[\s\xa0]*$/.test(i)}function Pn(){var i=J.navigator;return i&&(i=i.userAgent)?i:""}function yn(i){return-1!=Pn().indexOf(i)}function fr(i){return fr[" "](i),i}fr[" "]=function(){};var Kr,i,Nn=yn("Opera"),En=yn("Trident")||yn("MSIE"),Wn=yn("Edge"),lr=Wn||En,Tn=yn("Gecko")&&!(-1!=Pn().toLowerCase().indexOf("webkit")&&!yn("Edge"))&&!(yn("Trident")||yn("MSIE"))&&!yn("Edge"),Br=-1!=Pn().toLowerCase().indexOf("webkit")&&!yn("Edge");function dn(){var i=J.document;return i?i.documentMode:void 0}e:{var ir="",xr=(i=Pn(),Tn?/rv:([^\);]+)(\)|;)/.exec(i):Wn?/Edge\/([\d\.]+)/.exec(i):En?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Br?/WebKit\/(\S+)/.exec(i):Nn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(xr&&(ir=xr?xr[1]:""),En){var xn=dn();if(null!=xn&&xn>parseFloat(ir)){Kr=String(xn);break e}}Kr=ir}var $i=J.document&&En&&(dn()||parseInt(Kr,10))||void 0;function Lr(i,e){if(rn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Tn){e:{try{fr(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Qr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Lr.$.h.call(this)}}an(Lr,rn);var Qr={2:"touch",3:"pen",4:"mouse"};Lr.prototype.h=function(){Lr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Or="closure_listenable_"+(1e6*Math.random()|0),Gr=0;function $r(i,e,r,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=l,this.key=++Gr,this.fa=this.ia=!1}function _t(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Ze(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function Fe(i){const e={};for(const r in i)e[r]=i[r];return e}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(i,e){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<te.length;d++)r=te[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function we(i){this.src=i,this.g={},this.h=0}function ot(i,e){var r=e.type;if(r in i.g){var d,s=i.g[r],l=ct(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(_t(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function qe(i,e,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return l}return-1}we.prototype.add=function(i,e,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=qe(i,e,s,l);return-1<g?(e=i[g],r||(e.ia=!1)):((e=new $r(e,this.src,d,!!s,l)).ia=r,i.push(e)),e};var Bt="closure_lm_"+(1e6*Math.random()|0),tn={};function Rn(i,e,r,s,l){if(s&&s.once)return pr(i,e,r,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Rn(i,e[d],r,s,l);return null}return r=ut(r),i&&i[Or]?i.O(e,r,Be(s)?!!s.capture:!!s,l):Rr(i,e,r,!1,s,l)}function Rr(i,e,r,s,l,d){if(!e)throw Error("Invalid event type");var g=Be(l)?!!l.capture:!!l,b=Si(i);if(b||(i[Bt]=b=new we(i)),(r=b.add(e,r,s,g,d)).proxy)return r;if(s=function Mr(){const e=qr;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)Pt||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Ai(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function pr(i,e,r,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)pr(i,e[d],r,s,l);return null}return r=ut(r),i&&i[Or]?i.P(e,r,Be(s)?!!s.capture:!!s,l):Rr(i,e,r,!0,s,l)}function zn(i,e,r,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)zn(i,e[d],r,s,l);else s=Be(s)?!!s.capture:!!s,r=ut(r),i&&i[Or]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=qe(d=i.g[e],r,s,l))&&(_t(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Si(i))&&(e=i.g[e.toString()],i=-1,e&&(i=qe(e,r,s,l)),(r=-1<i?e[i]:null)&&Wr(r))}function Wr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Or])ot(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(Ai(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=Si(e))?(ot(r,i),0==r.h&&(r.src=null,e[Bt]=null)):_t(i)}}}function Ai(i){return i in tn?tn[i]:tn[i]="on"+i}function qr(i,e){if(i.fa)i=!0;else{e=new Lr(e,this);var r=i.listener,s=i.la||i.src;i.ia&&Wr(i),i=r.call(s,e)}return i}function Si(i){return(i=i[Bt])instanceof we?i:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(i){return"function"==typeof i?i:(i[Ct]||(i[Ct]=function(e){return i.handleEvent(e)}),i[Ct])}function At(){mt.call(this),this.i=new we(this),this.S=this,this.J=null}function $t(i,e){var r,s=i.J;if(s)for(r=[];s;s=s.J)r.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new rn(e,i);else if(e instanceof rn)e.target=e.target||i;else{var l=e;oe(e=new rn(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var g=e.g=r[d];l=Ut(g,s,!0,e)&&l}if(l=Ut(g=e.g=i,s,!0,e)&&l,l=Ut(g,s,!1,e)&&l,r)for(d=0;d<r.length;d++)l=Ut(g=e.g=r[d],s,!1,e)&&l}function Ut(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.fa&&g.capture==r){var b=g.listener,R=g.la||g.src;g.ia&&ot(i.i,g),l=!1!==b.call(R,s)&&l}}return l&&!s.defaultPrevented}an(At,mt),At.prototype[Or]=!0,At.prototype.removeEventListener=function(i,e,r,s){zn(this,i,e,r,s)},At.prototype.N=function(){if(At.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)_t(r[s]);delete i.g[e],i.h--}}this.J=null},At.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},At.prototype.P=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var An=J.JSON.stringify;function Ur(){var i=yr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Vn=new class qn{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ri,i=>i.reset());class Ri{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ui(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function Cr(i){J.setTimeout(()=>{throw i},0)}let yi,hi=!1,yr=new class _r{constructor(){this.h=this.g=null}add(e,r){const s=Vn.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},er=()=>{const i=J.Promise.resolve(void 0);yi=()=>{i.then(dr)}};var dr=()=>{for(var i;i=Ur();){try{i.h.call(i.g)}catch(r){Cr(r)}var e=Vn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}hi=!1};function me(i,e){At.call(this),this.h=i||1,this.g=e||J,this.j=at(this.qb,this),this.l=Date.now()}function ve(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function H(i,e,r){if("function"==typeof i)r&&(i=at(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=at(i.handleEvent,i)}return 2147483647<Number(e)?-1:J.setTimeout(i,e||0)}function ie(i){i.g=H(()=>{i.g=null,i.i&&(i.i=!1,ie(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}an(me,At),(be=me.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$t(this,"tick"),this.ga&&(ve(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){me.$.N.call(this),ve(this),delete this.g};class rt extends mt{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(i){mt.call(this),this.h=i,this.g={}}an(Rt,mt);var zt=[];function nn(i,e,r,s){Array.isArray(r)||(r&&(zt[0]=r.toString()),r=zt);for(var l=0;l<r.length;l++){var d=Rn(e,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Mn(i){Ze(i.g,function(e,r){this.g.hasOwnProperty(r)&&Wr(e)},i),i.g={}}function on(){this.g=!0}function $(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Le(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return An(r)}catch{return e}}(i,r)+(s?" "+s:"")})}Rt.prototype.N=function(){Rt.$.N.call(this),Mn(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},on.prototype.Ea=function(){this.g=!1},on.prototype.info=function(){};var Ge={},dt=null;function vt(){return dt=dt||new At}function xt(i){rn.call(this,Ge.Ta,i)}function Gt(i){const e=vt();$t(e,new xt(e))}function jt(i,e){rn.call(this,Ge.STAT_EVENT,i),this.stat=e}function Ot(i){const e=vt();$t(e,new jt(e,i))}function Jt(i,e){rn.call(this,Ge.Ua,i),this.size=e}function pn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){i()},e)}Ge.Ta="serverreachability",an(xt,rn),Ge.STAT_EVENT="statevent",an(jt,rn),Ge.Ua="timingevent",an(Jt,rn);var hn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gr(){}function ee(){}gr.prototype.h=null;var Ln,M={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function le(){rn.call(this,"d")}function We(){rn.call(this,"c")}function jr(){}function ti(i,e,r,s){this.l=i,this.j=e,this.m=r,this.W=s||1,this.U=new Rt(this),this.P=uo,this.V=new me(i=lr?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Hr}function Hr(){this.i=null,this.g="",this.h=!1}an(le,rn),an(We,rn),an(jr,gr),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Ln=new jr;var uo=45e3,nr={},No={};function Qo(i,e,r){i.L=1,i.A=Yi(Do(e)),i.u=r,i.S=!0,ko(i,null)}function ko(i,e){i.G=Date.now(),ji(i),i.B=Do(i.A);var r=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),ra(r.i,"t",s),i.o=0,r=i.l.J,i.h=new Hr,i.g=qs(i.l,r?e:null,!i.u),0<i.O&&(i.M=new rt(at(i.Pa,i,i.g),i.O)),nn(i.U,i.g,"readystatechange",i.nb),e=i.I?Fe(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),Gt(),function ei(i,e,r,s,l,d){i.info(function(){if(i.g)if(d)for(var g="",b=d.split("&"),R=0;R<b.length;R++){var U=b[R].split("=");if(1<U.length){var Z=U[0];U=U[1];var ye=Z.split("_");g=2<=ye.length&&"type"==ye[1]?g+(Z+"=")+U+"&":g+(Z+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+r+"\n"+g})}(i.j,i.v,i.B,i.m,i.W,i.u)}function us(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function Ho(i,e,r){let l,s=!0;for(;!i.J&&i.o<r.length;){if(l=qa(i,r),l==No){4==e&&(i.s=4,Ot(14),s=!1),$(i.j,i.m,null,"[Incomplete Response]");break}if(l==nr){i.s=4,Ot(15),$(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}$(i.j,i.m,l,null),eo(i,l)}us(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=r.length||i.h.h||(i.s=1,Ot(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Sa(e),e.M=!0,Ot(11))):($(i.j,i.m,r,"[Invalid Chunked Response]"),Kn(i),Ni(i))}function qa(i,e){var r=i.o,s=e.indexOf("\n",r);return-1==s?No:(r=Number(e.substring(r,s)),isNaN(r)?nr:(s+=1)+r>e.length?No:(e=e.slice(s,s+r),i.o=s+r,e))}function ji(i){i.Y=Date.now()+i.P,Ts(i,i.P)}function Ts(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=pn(at(i.lb,i),e)}function qi(i){i.C&&(J.clearTimeout(i.C),i.C=null)}function Ni(i){0==i.l.H||i.J||$u(i.l,i)}function Kn(i){qi(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,ve(i.V),Mn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function eo(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||Ii(r.i,i)))if(!i.K&&Ii(r.i,i)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;Ra(r),co(r)}ns(r),Ot(18)}}else r.Fa=l[1],0<r.Fa-r.V&&37500>l[2]&&r.G&&0==r.A&&!r.v&&(r.v=pn(at(r.ib,r),6e3));if(1>=Pi(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else fs(r,11)}else if((i.K||r.g==i)&&Ra(r),!Xt(e))for(l=r.Ja.g.parse(e),e=0;e<l.length;e++){let U=l[e];if(r.V=U[0],U=U[1],2==r.H)if("c"==U[0]){r.K=U[1],r.pa=U[2];const Z=U[3];null!=Z&&(r.ra=Z,r.l.info("VER="+r.ra));const ye=U[4];null!=ye&&(r.Ga=ye,r.l.info("SVER="+r.Ga));const Ye=U[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(r.L=s=1.5*Ye,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const yt=i.g;if(yt){const Qt=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var d=s.i;d.g||-1==Qt.indexOf("spdy")&&-1==Qt.indexOf("quic")&&-1==Qt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(si(d,d.h),d.h=null))}if(s.F){const mn=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;mn&&(s.Da=mn,Yr(s.I,s.F,mn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var g=i;if((s=r).wa=Il(s,s.J?s.pa:null,s.Y),g.K){Ss(s.i,g);var b=g,R=s.L;R&&b.setTimeout(R),b.C&&(qi(b),ji(b)),s.g=g}else _l(s);0<r.j.length&&ts(r)}else"stop"!=U[0]&&"close"!=U[0]||fs(r,7);else 3==r.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?fs(r,7):sa(r):"noop"!=U[0]&&r.h&&r.h.Aa(U),r.A=0)}Gt()}catch{}}function Ya(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ge(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function ws(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ge(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const s in i)e[r++]=s;return e}}}(i),s=function to(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ge(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],r&&r[d],i)}(be=ti.prototype).setTimeout=function(i){this.P=i},be.nb=function(i){i=i.target;const e=this.M;e&&3==no(i)?e.l():this.Pa(i)},be.Pa=function(i){try{if(i==this.g)e:{const Z=no(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Z)&&(3!=Z||lr||this.g&&(this.h.h||this.g.ja()||oa(this.g)))){this.J||4!=Z||7==e||Gt(),qi(this);var r=this.g.da();this.ca=r;t:if(us(this)){var s=oa(this.g);i="";var l=s.length,d=4==no(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Ni(this);var g="";break t}this.h.i=new J.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.length=0,this.h.g+=i,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=200==r,function gt(i,e,r,s,l,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+d+" "+g})}(this.j,this.v,this.B,this.m,this.W,Z,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,R=this.g;if((b=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xt(b)){var U=b;break t}}U=null}if(!(r=U)){this.i=!1,this.s=3,Ot(12),Kn(this),Ni(this);break e}$(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,r)}this.S?(Ho(this,Z,g),lr&&this.i&&3==Z&&(nn(this.U,this.V,"tick",this.mb),this.V.start())):($(this.j,this.m,g,null),eo(this,g)),4==Z&&Kn(this),this.i&&!this.J&&(4==Z?$u(this.l,this):(this.i=!1,ji(this)))}else(function hs(i){const e={};i=(i.g&&2<=no(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Xt(i[s]))continue;var r=Ui(i[s]);const l=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[l]||[];e[l]=d,d.push(r)}!function Xe(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<g.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Kn(this),Ni(this)}}}catch{}},be.mb=function(){if(this.g){var i=no(this.g),e=this.g.ja();this.o<e.length&&(qi(this),Ho(this,i,e),this.i&&4!=i&&ji(this))}},be.cancel=function(){this.J=!0,Kn(this)},be.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Q(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Gt(),Ot(17)),Kn(this),this.s=2,Ni(this)):Ts(this,this.Y-i)};var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Co){this.h=i.h,Xo(this,i.j),this.s=i.s,this.g=i.g,mo(this,i.m),this.l=i.l;var e=i.i,r=new wo;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),na(this,r),this.o=i.o}else i&&(e=String(i).match(Eo))?(this.h=!1,Xo(this,e[1]||"",!0),this.s=ds(e[2]||""),this.g=ds(e[3]||"",!0),mo(this,e[4]),this.l=ds(e[5]||"",!0),na(this,e[6]||"",!0),this.o=ds(e[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}function Do(i){return new Co(i)}function Xo(i,e,r){i.j=r?ds(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function mo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function na(i,e,r){e instanceof wo?(i.i=e,function es(i,e){e&&!i.j&&(Hi(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(wa(this,s),ra(this,l,r))},i)),i.j=e}(i.i,i.h)):(r||(e=To(e,bs)),i.i=new wo(e,i.h))}function Yr(i,e,r){i.i.set(e,r)}function Yi(i){return Yr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ds(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function To(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,ml),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ml(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Co.prototype.toString=function(){var i=[],e=this.j;e&&i.push(To(e,Ta,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(To(e,Ta,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(To(r,"/"==r.charAt(0)?Yl:zo,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",To(r,Mi)),i.join("")};var Ta=/[#\/\?@]/g,zo=/[#\?:]/g,Yl=/[#\?]/g,bs=/[#\?@]/g,Mi=/#/g;function wo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Hi(i){i.g||(i.g=new Map,i.h=0,i.i&&function cs(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function wa(i,e){Hi(i),e=Jo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ba(i,e){return Hi(i),e=Jo(i,e),i.g.has(e)}function ra(i,e,r){wa(i,e),0<r.length&&(i.i=null,i.g.set(Jo(i,e),bt(r)),i.h+=r.length)}function Jo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(be=wo.prototype).add=function(i,e){Hi(this),this.i=null,i=Jo(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},be.forEach=function(i,e){Hi(this),this.g.forEach(function(r,s){r.forEach(function(l){i.call(e,l,s,this)},this)},this)},be.ta=function(){Hi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)r.push(e[s])}return r},be.Z=function(i){Hi(this);let e=[];if("string"==typeof i)ba(this,i)&&(e=e.concat(this.g.get(Jo(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},be.set=function(i,e){return Hi(this),this.i=null,ba(this,i=Jo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},be.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var l=d;""!==g[s]&&(l+="="+encodeURIComponent(String(g[s]))),i.push(l)}}return this.i=i.join("&")};var Kl=class{constructor(i,e){this.g=i,this.map=e}};function As(i){this.l=i||Yn,i=J.PerformanceNavigationTiming?0<(i=J.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yn=10;function Xr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Pi(i){return i.h?1:i.g?i.g.size:0}function Ii(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function si(i,e){i.g?i.g.add(e):i.h=e}function Ss(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ia(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return bt(i.i)}As.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var zs=class{stringify(i){return J.JSON.stringify(i,void 0)}parse(i){return J.JSON.parse(i,void 0)}};function vl(){this.g=new zs}function ai(i,e,r){const s=r||"";try{Ya(i,function(l,d){let g=l;Be(l)&&(g=An(l)),e.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function A(i,e,r,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function G(i){this.l=i.ec||null,this.j=i.ob||!1}function L(i,e){At.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=de,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an(G,gr),G.prototype.g=function(){return new L(this.l,this.j)},G.prototype.i=function(i){return function(){return i}}({}),an(L,At);var de=0;function Nt(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function wn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Dr(i)}function Dr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(be=L.prototype).open=function(i,e){if(this.readyState!=de)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Dr(this)},be.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wn(this)),this.readyState=de},be.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nt(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?wn(this):Dr(this),3==this.readyState&&Nt(this)}},be.Za=function(i){this.g&&(this.response=this.responseText=i,wn(this))},be.Ya=function(i){this.g&&(this.response=i,wn(this))},be.ka=function(){this.g&&wn(this)},be.setRequestHeader=function(i,e){this.v.append(i,e)},be.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(L.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var cr=J.JSON.parse;function Zn(i){At.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ei,this.L=this.M=!1}an(Zn,At);var Ei="",Hn=/^https?$/i,Rs=["POST","PUT"];function Go(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Vr(i),Fo(i)}function Vr(i){i.F||(i.F=!0,$t(i,"complete"),$t(i,"error"))}function Gs(i){if(i.h&&typeof De<"u"&&(!i.C[1]||4!=no(i)||2!=i.da()))if(i.v&&4==no(i))H(i.La,0,i);else if($t(i,"readystatechange"),4==no(i)){i.h=!1;try{const g=i.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===g){var l=String(i.I).match(Eo)[1]||null;!l&&J.self&&J.self.location&&(l=J.self.location.protocol.slice(0,-1)),s=!Hn.test(l?l.toLowerCase():"")}r=s}if(r)$t(i,"complete"),$t(i,"success");else{i.m=6;try{var d=2<no(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",Vr(i)}}finally{Fo(i)}}}function Fo(i,e){if(i.g){Ki(i);const r=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||$t(i,"ready");try{r.onreadystatechange=s}catch{}}}function Ki(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(J.clearTimeout(i.A),i.A=null)}function no(i){return i.g?i.g.readyState:0}function oa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ei:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(i){let e="";return Ze(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function bo(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=Ms(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Yr(i,e,r))}function Gn(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Ws(i){this.Ga=0,this.j=[],this.l=new on,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gn("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gn("baseRetryDelayMs",5e3,i),this.hb=Gn("retryDelaySeedMs",1e4,i),this.eb=Gn("forwardChannelMaxRetries",2,i),this.xa=Gn("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new As(i&&i.concurrentRequestLimit),this.Ja=new vl,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sa(i){if(Za(i),3==i.H){var e=i.W++,r=Do(i.I);if(Yr(r,"SID",i.K),Yr(r,"RID",e),Yr(r,"TYPE","terminate"),li(i,r),(e=new ti(i,i.l,e)).L=2,e.A=Yi(Do(r)),r=!1,J.navigator&&J.navigator.sendBeacon)try{r=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&J.Image&&((new Image).src=e.A,r=!0),r||(e.g=qs(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ji(e)}Uu(i)}function co(i){i.g&&(Sa(i),i.g.cancel(),i.g=null)}function Za(i){co(i),i.u&&(J.clearTimeout(i.u),i.u=null),Ra(i),i.i.cancel(),i.m&&("number"==typeof i.m&&J.clearTimeout(i.m),i.m=null)}function ts(i){if(!Xr(i.i)&&!i.m){i.m=!0;var e=i.Na;yi||er(),hi||(yi(),hi=!0),yr.add(e,i),i.C=0}}function Aa(i,e){var r;r=e?e.m:i.W++;const s=Do(i.I);Yr(s,"SID",i.K),Yr(s,"RID",r),Yr(s,"AID",i.V),li(i,s),i.o&&i.s&&bo(s,i.o,i.s),r=new ti(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ki(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),si(i.i,r),Qo(r,s,e)}function li(i,e){i.na&&Ze(i.na,function(r,s){Yr(e,s,r)}),i.h&&Ya({},function(r,s){Yr(e,s,r)})}function ki(i,e,r){r=Math.min(i.j.length,r);var s=i.h?at(i.h.Va,i.h,i):null;e:{var l=i.j;let d=-1;for(;;){const g=["count="+r];-1==d?0<r?(d=l[0].g,g.push("ofs="+d)):d=0:g.push("ofs="+d);let b=!0;for(let R=0;R<r;R++){let U=l[R].g;const Z=l[R].map;if(U-=d,0>U)d=Math.max(0,l[R].g-100),b=!1;else try{ai(Z,g,"req"+U+"_")}catch{s&&s(Z)}}if(b){s=g.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,s}function _l(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;yi||er(),hi||(yi(),hi=!0),yr.add(e,i),i.A=0}}function ns(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=pn(at(i.Ma,i),yl(i,i.A)),i.A++,0))}function Sa(i){null!=i.B&&(J.clearTimeout(i.B),i.B=null)}function Ao(i){i.g=new ti(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Do(i.wa);Yr(e,"RID","rpc"),Yr(e,"SID",i.K),Yr(e,"AID",i.V),Yr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Yr(e,"TO",i.qa),Yr(e,"TYPE","xmlhttp"),li(i,e),i.o&&i.s&&bo(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.A=Yi(Do(e)),r.u=null,r.S=!0,ko(r,i)}function Ra(i){null!=i.v&&(J.clearTimeout(i.v),i.v=null)}function $u(i,e){var r=null;if(i.g==e){Ra(i),Sa(i),i.g=null;var s=2}else{if(!Ii(i.i,e))return;r=e.F,Ss(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;$t(s=vt(),new Jt(s,r)),ts(i)}else _l(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function Ci(i,e){return!(Pi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=pn(at(i.Na,i,e),yl(i,i.C)),i.C++,0)))}(i,e)||2==s&&ns(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:fs(i,5);break;case 4:fs(i,10);break;case 3:fs(i,6);break;default:fs(i,2)}}function yl(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function fs(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var s=at(i.pb,i);r||(r=new Co("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||Xo(r,"https"),Yi(r)),function B(i,e){const r=new on;if(J.Image){const s=new Image;s.onload=Zt(A,r,s,"TestLoadImage: loaded",!0,e),s.onerror=Zt(A,r,s,"TestLoadImage: error",!1,e),s.onabort=Zt(A,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=Zt(A,r,s,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else Ot(2);i.H=0,i.h&&i.h.za(e),Uu(i),Za(i)}function Uu(i){if(i.H=0,i.ma=[],i.h){const e=ia(i.i);(0!=e.length||0!=i.j.length)&&(un(i.ma,e),un(i.ma,i.j),i.i.i.length=0,bt(i.j),i.j.length=0),i.h.ya()}}function Il(i,e,r){var s=r instanceof Co?Do(r):new Co(r);if(""!=s.g)e&&(s.g=e+"."+s.g),mo(s,s.m);else{var l=J.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new Co(null);s&&Xo(d,s),e&&(d.g=e),l&&mo(d,l),r&&(d.l=r),s=d}return e=i.Da,(r=i.F)&&e&&Yr(s,r,e),Yr(s,"VER",i.ra),li(i,s),s}function qs(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(i.Ha&&!i.va?new G({ob:r}):i.va)).Oa(i.J),e}function Zl(){}function w(){if(En&&!(10<=Number($i)))throw Error("Environmental error: no available transport.")}function F(i,e){At.call(this),this.g=new Ws(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Xt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new re(this)}function Ee(i){le.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function O(){We.call(this),this.status=1}function re(i){this.g=i}function Dt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qt(i,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(l=0;16>l;++l)s[l]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=i.g[3],g=(e=i.g[0])+(d^(r=i.g[1])&((l=i.g[2])^d))+s[0]+3614090360&4294967295;g=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=r+(g<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(l^d&(r^l))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(r^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(l^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((d=(e=r+((g=e+(l^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((l=d+((g=l+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(g<<21&4294967295|g>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+d&4294967295}function In(i,e){this.h=e;for(var r=[],s=!0,l=i.length-1;0<=l;l--){var d=0|i[l];s&&d==e||(r[l]=d,s=!1)}this.g=r}(be=Zn.prototype).Oa=function(i){this.M=i},be.ha=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ln.g(),this.C=function T(i){return i.h||(i.h=i.i())}(this.u?this.u:Ln),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void Go(this,d)}if(i=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)r.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),l=J.FormData&&i instanceof J.FormData,!(0<=ct(Rs,e))||s||l||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of r)this.g.setRequestHeader(d,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ki(this),0<this.B&&((this.L=function Ka(i){return En&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=H(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Go(this,d)}},be.ua=function(){typeof De<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},be.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,$t(this,"complete"),$t(this,"abort"),Fo(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fo(this,!0)),Zn.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?Gs(this):this.kb())},be.kb=function(){Gs(this)},be.isActive=function(){return!!this.g},be.da=function(){try{return 2<no(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),cr(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=Ws.prototype).ra=8,be.H=1,be.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new ti(this,this.l,i);let d=this.s;if(this.U&&(d?(d=Fe(d),oe(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=ki(this,l,e),Yr(r=Do(this.I),"RID",i),Yr(r,"CVER",22),this.F&&Yr(r,"X-HTTP-Session-Id",this.F),li(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(Ms(d)))+"&"+e:this.o&&bo(r,this.o,d)),si(this.i,l),this.bb&&Yr(r,"TYPE","init"),this.P?(Yr(r,"$req",e),Yr(r,"SID","null"),l.aa=!0,Qo(l,r,null)):Qo(l,r,e),this.H=2}}else 3==this.H&&(i?Aa(this,i):0==this.j.length||Xr(this.i)||Aa(this))},be.Ma=function(){if(this.u=null,Ao(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=pn(at(this.jb,this),i)}},be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ot(10),co(this),Ao(this))},be.ib=function(){null!=this.v&&(this.v=null,co(this),ns(this),Ot(19))},be.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ot(2)):(this.l.info("Failed to ping google.com"),Ot(1))},be.isActive=function(){return!!this.h&&this.h.isActive(this)},(be=Zl.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.isActive=function(){return!0},be.Va=function(){},w.prototype.g=function(i,e){return new F(i,e)},an(F,At),F.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;Ot(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=Il(i,null,i.Y),ts(i)},F.prototype.close=function(){sa(this.g)},F.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=An(i),i=r);e.j.push(new Kl(e.fb++,i)),3==e.H&&ts(e)},F.prototype.N=function(){this.g.h=null,delete this.j,sa(this.g),delete this.g,F.$.N.call(this)},an(Ee,le),an(O,We),an(re,Zl),re.prototype.Ba=function(){$t(this.g,"a")},re.prototype.Aa=function(i){$t(this.g,new Ee(i))},re.prototype.za=function(i){$t(this.g,new O)},re.prototype.ya=function(){$t(this.g,"b")},an(Dt,function Se(){this.blockSize=-1}),Dt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dt.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=r;)qt(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[l++]=i.charCodeAt(d++),l==this.blockSize){qt(this,s),l=0;break}}else for(;d<e;)if(s[l++]=i[d++],l==this.blockSize){qt(this,s),l=0;break}}this.h=l,this.i+=e},Dt.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)i[r++]=this.g[e]>>>s&255;return i};var or={};function Tr(i){return-128<=i&&128>i?function Fn(i,e){var r=or;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new In([0|e],0>e?-1:0)}):new In([0|i],0>i?-1:0)}function Un(i){if(isNaN(i)||!isFinite(i))return ui;if(0>i)return ci(Un(-i));for(var e=[],r=1,s=0;i>=r;s++)e[s]=i/r|0,r*=Sr;return new In(e,0)}var Sr=4294967296,ui=Tr(0),vo=Tr(1),Lo=Tr(16777216);function Di(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Fi(i){return-1==i.h}function ci(i){for(var e=i.g.length,r=[],s=0;s<e;s++)r[s]=~i.g[s];return new In(r,~i.h).add(vo)}function ro(i,e){return i.add(ci(e))}function rs(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Ys(i,e){this.g=i,this.h=e}function ju(i,e){if(Di(e))throw Error("division by zero");if(Di(i))return new Ys(ui,ui);if(Fi(i))return e=ju(ci(i),e),new Ys(ci(e.g),ci(e.h));if(Fi(e))return e=ju(i,ci(e)),new Ys(ci(e.g),e.h);if(30<i.g.length){if(Fi(i)||Fi(e))throw Error("slowDivide_ only works with positive integers.");for(var r=vo,s=e;0>=s.X(i);)r=Uc(r),s=Uc(s);var l=Ps(r,1),d=Ps(s,1);for(s=Ps(s,2),r=Ps(r,2);!Di(s);){var g=d.add(s);0>=g.X(i)&&(l=l.add(r),d=g),s=Ps(s,1),r=Ps(r,1)}return e=ro(i,l.R(e)),new Ys(l,e)}for(l=ui;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),g=(d=Un(r)).R(e);Fi(g)||0<g.X(i);)g=(d=Un(r-=s)).R(e);Di(d)&&(d=vo),l=l.add(d),i=ro(i,g)}return new Ys(l,i)}function Uc(i){for(var e=i.g.length+1,r=[],s=0;s<e;s++)r[s]=i.D(s)<<1|i.D(s-1)>>>31;return new In(r,i.h)}function Ps(i,e){var r=e>>5;e%=32;for(var s=i.g.length-r,l=[],d=0;d<s;d++)l[d]=0<e?i.D(d+r)>>>e|i.D(d+r+1)<<32-e:i.D(d+r);return new In(l,i.h)}(be=In.prototype).ea=function(){if(Fi(this))return-ci(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);i+=(0<=s?s:Sr+s)*e,e*=Sr}return i},be.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Di(this))return"0";if(Fi(this))return"-"+ci(this).toString(i);for(var e=Un(Math.pow(i,6)),r=this,s="";;){var l=ju(r,e).g,d=((0<(r=ro(r,l.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(Di(r=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},be.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},be.X=function(i){return Fi(i=ro(this,i))?-1:Di(i)?0:1},be.abs=function(){return Fi(this)?ci(this):this},be.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&i.D(l)),g=(d>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=g>>>16,r[l]=(g&=65535)<<16|(d&=65535)}return new In(r,-2147483648&r[r.length-1]?-1:0)},be.R=function(i){if(Di(this)||Di(i))return ui;if(Fi(this))return Fi(i)?ci(this).R(ci(i)):ci(ci(this).R(i));if(Fi(i))return ci(this.R(ci(i)));if(0>this.X(Lo)&&0>i.X(Lo))return Un(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var d=this.D(s)>>>16,g=65535&this.D(s),b=i.D(l)>>>16,R=65535&i.D(l);r[2*s+2*l]+=g*R,rs(r,2*s+2*l),r[2*s+2*l+1]+=d*R,rs(r,2*s+2*l+1),r[2*s+2*l+1]+=g*b,rs(r,2*s+2*l+1),r[2*s+2*l+2]+=d*b,rs(r,2*s+2*l+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new In(r,0)},be.gb=function(i){return ju(this,i).h},be.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&i.D(s);return new In(r,this.h&i.h)},be.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|i.D(s);return new In(r,this.h|i.h)},be.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^i.D(s);return new In(r,this.h^i.h)},w.prototype.createWebChannel=w.prototype.g,F.prototype.send=F.prototype.u,F.prototype.open=F.prototype.m,F.prototype.close=F.prototype.close,hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,tr.COMPLETE="complete",ee.EventType=M,M.OPEN="a",M.CLOSE="b",M.ERROR="c",M.MESSAGE="d",At.prototype.listen=At.prototype.O,Zn.prototype.listenOnce=Zn.prototype.P,Zn.prototype.getLastError=Zn.prototype.Sa,Zn.prototype.getLastErrorCode=Zn.prototype.Ia,Zn.prototype.getStatus=Zn.prototype.da,Zn.prototype.getResponseJson=Zn.prototype.Wa,Zn.prototype.getResponseText=Zn.prototype.ja,Zn.prototype.send=Zn.prototype.ha,Zn.prototype.setWithCredentials=Zn.prototype.Oa,Dt.prototype.digest=Dt.prototype.l,Dt.prototype.reset=Dt.prototype.reset,Dt.prototype.update=Dt.prototype.j,In.prototype.add=In.prototype.add,In.prototype.multiply=In.prototype.R,In.prototype.modulo=In.prototype.gb,In.prototype.compare=In.prototype.X,In.prototype.toNumber=In.prototype.ea,In.prototype.toString=In.prototype.toString,In.prototype.getBits=In.prototype.D,In.fromNumber=Un,In.fromString=function Nr(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ci(Nr(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Un(Math.pow(e,8)),s=ui,l=0;l<i.length;l+=8){var d=Math.min(8,i.length-l),g=parseInt(i.substring(l,l+d),e);8>d?(d=Un(Math.pow(e,d)),s=s.R(d).add(Un(g))):s=(s=s.R(r)).add(Un(g))}return s};var Zd=Cn.createWebChannelTransport=function(){return new w},Ma=Cn.getStatEventTarget=function(){return vt()},Hu=Cn.ErrorCode=hn,Ks=Cn.EventType=tr,Qd=Cn.Event=Ge,jc=Cn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zu=(Cn.FetchXmlHttpFactory=G,Cn.WebChannel=ee),Hc=Cn.XhrIo=Zn,wr=Cn.Md5=Dt,xs=Cn.Integer=In;const Qa="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Xa="10.8.0";const Os=new tt.Yd("@firebase/firestore");function gs(){return Os.logLevel}function Wt(i,...e){if(Os.logLevel<=tt.in.DEBUG){const r=e.map(gi);Os.debug(`Firestore (${Xa}): ${i}`,...r)}}function pi(i,...e){if(Os.logLevel<=tt.in.ERROR){const r=e.map(gi);Os.error(`Firestore (${Xa}): ${i}`,...r)}}function Ro(i,...e){if(Os.logLevel<=tt.in.WARN){const r=e.map(gi);Os.warn(`Firestore (${Xa}): ${i}`,...r)}}function gi(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function bn(i="Unexpected state"){const e=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: `+i;throw pi(e),new Error(e)}function kn(i,e){i||bn()}function gn(i,e){return i}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends Et.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ti{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ms{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kr.UNAUTHENTICATED))}shutdown(){}}class Qn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class xa{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const d=U=>this.i!==l?(l=this.i,r(U)):Promise.resolve();let g=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ti,e.enqueueRetryable(()=>d(this.currentUser))};const b=()=>{const U=g;e.enqueueRetryable((0,W.Z)(function*(){yield U.promise,yield d(s.currentUser)}))},R=U=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(U=>R(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?R(U):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ti)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kn("string"==typeof s.accessToken),new ms(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kn(null===e||"string"==typeof e),new kr(e)}}class pf{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zi{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new pf(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.R;return this.R=d.token,Wt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?l(d):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(kn("string"==typeof r.token),this.R=r.token,new Jd(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function aa(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class th{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=aa(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function Xn(i,e){return i<e?-1:i>e?1:0}function Oa(i,e,r){return i.length===e.length&&i.every((s,l)=>r(s,e[l]))}function Gc(i){return i+"\0"}class ni{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ft(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ft(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ft(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ft(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new ni(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xn(this.nanoseconds,e.nanoseconds):Xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new lt(e)}static min(){return new lt(new ni(0,0))}static max(){return new lt(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ar{constructor(e,r,s){void 0===r?r=0:r>e.length&&bn(),void 0===s?s=e.length-r:s>e.length-r&&bn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===ar.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const d=e.get(l),g=r.get(l);if(d<g)return-1;if(d>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class hr extends ar{construct(e,r,s){return new hr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ft(Tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new hr(r)}static emptyPath(){return new hr([])}}const Wc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends ar{construct(e,r,s){return new $n(e,r,s)}static isValidIdentifier(e){return Wc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $n(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Ft(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<e.length;){const b=e[l];if("\\"===b){if(l+1===e.length)throw new Ft(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[l+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new Ft(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,l+=2}else"`"===b?(g=!g,l++):"."!==b||g?(s+=b,l++):(d(),l++)}if(d(),g)throw new Ft(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(r)}static emptyPath(){return new $n([])}}class fn{constructor(e){this.path=e}static fromPath(e){return new fn(hr.fromString(e))}static fromName(e){return new fn(hr.fromString(e).popFirst(5))}static empty(){return new fn(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return hr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new hr(e.slice()))}}class vs{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function _s(i){return i.fields.find(e=>2===e.kind)}function Ns(i){return i.fields.filter(e=>2!==e.kind)}vs.UNKNOWN_ID=-1;class Ja{constructor(e,r){this.fieldPath=e,this.kind=r}}class y{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new y(0,D.min())}}function C(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=lt.fromTimestamp(1e9===s?new ni(r+1,0):new ni(r,s));return new D(l,fn.empty(),e)}function S(i){return new D(i.readTime,i.key,-1)}class D{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new D(lt.min(),fn.empty(),-1)}static max(){return new D(lt.max(),fn.empty(),-1)}}function P(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=fn.comparator(i.documentKey,e.documentKey),0!==r?r:Xn(i.largestBatchId,e.largestBatchId))}const q="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class he{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function st(i){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,W.Z)(function*(i){if(i.code!==Tt.FAILED_PRECONDITION||i.message!==q)throw i;Wt("LocalStore","Unexpectedly lost primary lease")}),Ht.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&bn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ce((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ce?r:ce.resolve(r)}catch(r){return ce.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.reject(r)}static resolve(e){return new ce((r,s)=>{r(e)})}static reject(e){return new ce((r,s)=>{s(e)})}static waitFor(e){return new ce((r,s)=>{let l=0,d=0,g=!1;e.forEach(b=>{++l,b.next(()=>{++d,g&&d===l&&r()},R=>s(R))}),g=!0,d===l&&r()})}static or(e){let r=ce.resolve(!1);for(const s of e)r=r.next(l=>l?ce.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}static mapArray(e,r){return new ce((s,l)=>{const d=e.length,g=new Array(d);let b=0;for(let R=0;R<d;R++){const U=R;r(e[U]).next(Z=>{g[U]=Z,++b,b===d&&s(g)},Z=>l(Z))}})}static doWhile(e,r){return new ce((s,l)=>{const d=()=>{!0===e()?r().next(()=>{d()},l):s()};d()})}}class cn{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ti,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new br(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=ua(s.target.error);this.V.reject(new br(e,l))}}static open(e,r,s,l){try{return new cn(r,e.transaction(l,s))}catch(d){throw new br(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Wt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new la(r)}}class On{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===On.S((0,Et.z$)())&&pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wt("SimpleDb","Removing database:",e),Vo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Et.hl)())return!1;if(On.C())return!0;const e=(0,Et.z$)(),r=On.S(e),s=0<r&&r<10,l=On.v(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,W.Z)(function*(){return r.db||(Wt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new br(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const b=g.target.error;l("VersionError"===b.name?new Ft(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Ft(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new br(e,b))},d.onupgradeneeded=g=>{Wt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.N(g.target.result,d.transaction,g.oldVersion,r.version).next(()=>{Wt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var d=this;return(0,W.Z)(function*(){const g="readonly"===r;let b=0;for(;;){++b;try{d.db=yield d.O(e);const R=cn.open(d.db,e,g?"readonly":"readwrite",s),U=l(R).next(Z=>(R.g(),Z)).catch(Z=>(R.abort(Z),ce.reject(Z))).toPromise();return U.catch(()=>{}),yield R.m,U}catch(R){const U=R,Z="FirebaseError"!==U.name&&b<3;if(Wt("SimpleDb","Transaction failed with error:",U.message,"Retrying:",Z),d.close(),!Z)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fi{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Vo(this.k.delete())}}class br extends Ft{constructor(e,r){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function wi(i){return"IndexedDbTransactionError"===i.name}class la{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Wt("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Wt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Vo(s)}add(e){return Wt("SimpleDb","ADD",this.store.name,e,e),Vo(this.store.add(e))}get(e){return Vo(this.store.get(e)).next(r=>(void 0===r&&(r=null),Wt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Wt("SimpleDb","DELETE",this.store.name,e),Vo(this.store.delete(e))}count(){return Wt("SimpleDb","COUNT",this.store.name),Vo(this.store.count())}W(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const d=l.getAll(s.range);return new ce((g,b)=>{d.onerror=R=>{b(R.target.error)},d.onsuccess=R=>{g(R.target.result)}})}{const d=this.cursor(s),g=[];return this.G(d,(b,R)=>{g.push(R)}).next(()=>g)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new ce((l,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}H(e,r){Wt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const l=this.cursor(s);return this.G(l,(d,g,b)=>b.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.G(l,r)}Z(e){const r=this.cursor({});return new ce((s,l)=>{r.onerror=d=>{const g=ua(d.target.error);l(g)},r.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(b=>{b?g.continue():s()}):s()}})}G(e,r){const s=[];return new ce((l,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const b=g.target.result;if(!b)return void l();const R=new fi(b),U=r(b.primaryKey,b.value,R);if(U instanceof ce){const Z=U.catch(ye=>(R.done(),ce.reject(ye)));s.push(Z)}R.isDone?l():null===R.$?b.continue():b.continue(R.$)}}).next(()=>ce.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Vo(i){return new ce((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=ua(s.target.error);r(l)}})}let Na=!1;function ua(i){const e=On.S((0,Et.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Ft("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Na||(Na=!0,setTimeout(()=>{throw s},0)),s}}return i}class el{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;Wt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,W.Z)(function*(){r.task=null;try{Wt("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){wi(s)?Wt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield st(s)}yield r.ee(6e4)}))}}class Ql{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,W.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let l=r,d=!0;return ce.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Wt("IndexBackfiller",`Processing collection: ${g}`),this.re(e,g,l).next(b=>{l-=b,s.add(g)});d=!1})).next(()=>r-l)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ie(l,d)).next(b=>(Wt("IndexBackfiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,r,b))).next(()=>g.size)}))}ie(e,r){let s=e;return r.changes.forEach((l,d)=>{const g=S(d);P(g,s)>0&&(s=g)}),new D(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Qi=(()=>{class i{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function El(i){return null==i}function io(i){return 0===i&&1/i==-1/0}function ca(i){return"number"==typeof i&&Number.isInteger(i)&&!io(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Ir(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Wu(e)),e=nh(i.get(r),e);return Wu(e)}function nh(i,e){let r=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function Wu(i){return i+"\x01\x01"}function ks(i){const e=i.length;if(kn(e>=2),2===e)return kn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),hr.emptyPath();const r=e-2,s=[];let l="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>r)&&bn(),i.charAt(g+1)){case"\x01":const b=i.substring(d,g);let R;0===l.length?R=b:(l+=b,R=l,l=""),s.push(R);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:bn()}d=g+2}return new hr(s)}const gf=["userId","batchId"];function Cl(i,e){return[i,Ir(e)]}function Dl(i,e,r){return[i,Ir(e),r]}const da={},ha=["prefixPath","collectionGroup","readTime","documentId"],Pg=["prefixPath","collectionGroup","documentId"],qc=["collectionGroup","readTime","prefixPath","documentId"],Yc=["canonicalId","targetId"],Xl=["targetId","path"],Kc=["path","targetId"],mf=["collectionId","parent"],vf=["indexId","uid"],rh=["uid","sequenceNumber"],Jl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tl=["indexId","uid","orderedDocumentKey"],xg=["userId","collectionPath","documentId"],qu=["userId","collectionPath","largestBatchId"],ih=["userId","collectionGroup","largestBatchId"],_f=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yu=[..._f,"documentOverlays"],Og=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ng=Og,Ku=[...Ng,"indexConfiguration","indexState","indexEntries"];class ka extends he{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function oo(i,e){const r=gn(i);return On.M(r.ae,e)}function eu(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Fs(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function tu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class mi{constructor(e,r){this.comparator=e,this.root=r||_o.EMPTY}insert(e,r){return new mi(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_o.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _o{constructor(e,r,s,l,d){this.key=e,this.value=r,this.color=null!=s?s:_o.RED,this.left=null!=l?l:_o.EMPTY,this.right=null!=d?d:_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,d){return new _o(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return _o.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bn();const e=this.left.check();if(e!==this.right.check())throw bn();return e+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw bn()}get value(){throw bn()}get color(){throw bn()}get left(){throw bn()}get right(){throw bn()}copy(e,r,s,l,d){return this}insert(e,r,s){return new _o(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Zs(this.data.getIterator())}getIteratorFrom(e){return new Zs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jr(this.comparator);return r.data=e,r}}class Zs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nu(i){return i.hasNext()?i.getNext():void 0}class ho{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new ho([])}unionWith(e){let r=new Jr($n.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new ho(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Zc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Zc("Invalid base64 string: "+d):d}}(e);return new xi(r)}static fromUint8Array(e){const r=function(l){let d="";for(let g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(e);return new xi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const oh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(kn(!!i),"string"==typeof i){let e=0;const r=oh.exec(i);if(kn(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vi(i.seconds),nanos:vi(i.nanos)}}function vi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ls(i){return"string"==typeof i?xi.fromBase64String(i):xi.fromUint8Array(i)}function ru(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function wl(i){const e=i.mapValue.fields.__previous_value__;return ru(e)?wl(e):e}function Qu(i){const e=fa(i.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class Xu{constructor(e,r,s,l,d,g,b,R,U){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.longPollingOptions=R,this.useFetchStreams=U}}class Wo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Wo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}const Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ju={nullValue:"NULL_VALUE"};function pa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ru(i)?4:Rl(i)?9007199254740991:10:bn()}function Mo(i,e){if(i===e)return!0;const r=pa(i);if(r!==pa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Qu(i).isEqual(Qu(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const g=fa(l.timestampValue),b=fa(d.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,Ls(i.bytesValue).isEqual(Ls(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,d){return vi(l.geoPointValue.latitude)===vi(d.geoPointValue.latitude)&&vi(l.geoPointValue.longitude)===vi(d.geoPointValue.longitude)}(i,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return vi(l.integerValue)===vi(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const g=vi(l.doubleValue),b=vi(d.doubleValue);return g===b?io(g)===io(b):isNaN(g)&&isNaN(b)}return!1}(i,e);case 9:return Oa(i.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:return function(l,d){const g=l.mapValue.fields||{},b=d.mapValue.fields||{};if(eu(g)!==eu(b))return!1;for(const R in g)if(g.hasOwnProperty(R)&&(void 0===b[R]||!Mo(g[R],b[R])))return!1;return!0}(i,e);default:return bn()}var d}function ga(i,e){return void 0!==(i.values||[]).find(r=>Mo(r,e))}function _i(i,e){if(i===e)return 0;const r=pa(i),s=pa(e);if(r!==s)return Xn(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Xn(i.booleanValue,e.booleanValue);case 2:return function(d,g){const b=vi(d.integerValue||d.doubleValue),R=vi(g.integerValue||g.doubleValue);return b<R?-1:b>R?1:b===R?0:isNaN(b)?isNaN(R)?0:-1:1}(i,e);case 3:return If(i.timestampValue,e.timestampValue);case 4:return If(Qu(i),Qu(e));case 5:return Xn(i.stringValue,e.stringValue);case 6:return function(d,g){const b=Ls(d),R=Ls(g);return b.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(d,g){const b=d.split("/"),R=g.split("/");for(let U=0;U<b.length&&U<R.length;U++){const Z=Xn(b[U],R[U]);if(0!==Z)return Z}return Xn(b.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,g){const b=Xn(vi(d.latitude),vi(g.latitude));return 0!==b?b:Xn(vi(d.longitude),vi(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,g){const b=d.values||[],R=g.values||[];for(let U=0;U<b.length&&U<R.length;++U){const Z=_i(b[U],R[U]);if(Z)return Z}return Xn(b.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,g){if(d===Fa.mapValue&&g===Fa.mapValue)return 0;if(d===Fa.mapValue)return 1;if(g===Fa.mapValue)return-1;const b=d.fields||{},R=Object.keys(b),U=g.fields||{},Z=Object.keys(U);R.sort(),Z.sort();for(let ye=0;ye<R.length&&ye<Z.length;++ye){const Ye=Xn(R[ye],Z[ye]);if(0!==Ye)return Ye;const yt=_i(b[R[ye]],U[Z[ye]]);if(0!==yt)return yt}return Xn(R.length,Z.length)}(i.mapValue,e.mapValue);default:throw bn()}}function If(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Xn(i,e);const r=fa(i),s=fa(e),l=Xn(r.seconds,s.seconds);return 0!==l?l:Xn(r.nanos,s.nanos)}function La(i){return ec(i)}function ec(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=fa(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ls(i.bytesValue).toBase64():"referenceValue"in i?fn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=ec(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of s)d?d=!1:l+=",",l+=`${g}:${ec(r.fields[g])}`;return l+"}"}(i.mapValue):bn()}function Va(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function tc(i){return!!i&&"integerValue"in i}function ys(i){return!!i&&"arrayValue"in i}function bl(i){return!!i&&"nullValue"in i}function Al(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nc(i){return!!i&&"mapValue"in i}function Sl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fs(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Sl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Sl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Rl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function qv(i){return"nullValue"in i?Ju:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Va(Wo.empty(),fn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:bn()}function kg(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Va(Wo.empty(),fn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Fa:bn()}function Fg(i,e){const r=_i(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function sh(i,e){const r=_i(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Bo{constructor(e){this.value=e}static empty(){return new Bo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!nc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(r)}setAll(e){let r=$n.emptyPath(),s={},l=[];e.forEach((g,b)=>{if(!r.isImmediateParentOf(b)){const R=this.getFieldsMap(r);this.applyChanges(R,s,l),s={},l=[],r=b.popLast()}g?s[b.lastSegment()]=Sl(g):l.push(b.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(e){const r=this.field(e.popLast());nc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){Fs(r,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new Bo(Sl(this.value))}}function Lg(i){const e=[];return Fs(i.fields,(r,s)=>{const l=new $n([r]);if(nc(s)){const d=Lg(s.mapValue).fields;if(0===d.length)e.push(l);else for(const g of d)e.push(l.child(g))}else e.push(l)}),new ho(e)}class Oi{constructor(e,r,s,l,d,g,b){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=d,this.data=g,this.documentState=b}static newInvalidDocument(e){return new Oi(e,0,lt.min(),lt.min(),lt.min(),Bo.empty(),0)}static newFoundDocument(e,r,s,l){return new Oi(e,1,r,lt.min(),s,l,0)}static newNoDocument(e,r){return new Oi(e,2,r,lt.min(),lt.min(),Bo.empty(),0)}static newUnknownDocument(e,r){return new Oi(e,3,r,lt.min(),lt.min(),Bo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ml{constructor(e,r){this.position=e,this.inclusive=r}}function Pl(i,e,r){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],g=i.position[l];if(s=d.field.isKeyField()?fn.comparator(fn.fromName(g.referenceValue),r.key):_i(g,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function ah(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Mo(i.position[r],e.position[r]))return!1;return!0}class rc{constructor(e,r="asc"){this.field=e,this.dir=r}}function fo(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ef{}class Er extends Ef{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Yv(e,r,s):"array-contains"===r?new lh(e,s):"in"===r?new Jc(e,s):"not-in"===r?new Cf(e,s):"array-contains-any"===r?new Bg(e,s):new Er(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Vs(e,s):new sc(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(_i(r,this.value)):null!==r&&pa(this.value)===pa(r)&&this.matchesComparison(_i(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Ef{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new ri(e,r)}matches(e){return Xi(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Xi(i){return"and"===i.op}function ma(i){return"or"===i.op}function Xc(i){return xl(i)&&Xi(i)}function xl(i){for(const e of i.filters)if(e instanceof ri)return!1;return!0}function iu(i){if(i instanceof Er)return i.field.canonicalString()+i.op.toString()+La(i.value);if(Xc(i))return i.filters.map(e=>iu(e)).join(",");{const e=i.filters.map(r=>iu(r)).join(",");return`${i.op}(${e})`}}function ic(i,e){return i instanceof Er?(s=i,(l=e)instanceof Er&&s.op===l.op&&s.field.isEqual(l.field)&&Mo(s.value,l.value)):i instanceof ri?function(s,l){return l instanceof ri&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((d,g,b)=>d&&ic(g,l.filters[b]),!0)}(i,e):void bn();var s,l}function Vg(i,e){const r=i.filters.concat(e);return ri.create(r,i.op)}function oc(i){return i instanceof Er?`${(r=i).field.canonicalString()} ${r.op} ${La(r.value)}`:i instanceof ri?function(r){return r.op.toString()+" {"+r.getFilters().map(oc).join(" ,")+"}"}(i):"Filter";var r}class Yv extends Er{constructor(e,r,s){super(e,r,s),this.key=fn.fromName(s.referenceValue)}matches(e){const r=fn.comparator(e.key,this.key);return this.matchesComparison(r)}}class Vs extends Er{constructor(e,r){super(e,"in",r),this.keys=tl(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class sc extends Er{constructor(e,r){super(e,"not-in",r),this.keys=tl(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function tl(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>fn.fromName(s.referenceValue))}class lh extends Er{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ys(r)&&ga(r.arrayValue,this.value)}}class Jc extends Er{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&ga(this.value.arrayValue,r)}}class Cf extends Er{constructor(e,r){super(e,"not-in",r)}matches(e){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!ga(this.value.arrayValue,r)}}class Bg extends Er{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ys(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>ga(this.value.arrayValue,s))}}class $g{constructor(e,r=null,s=[],l=[],d=null,g=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=b,this.ce=null}}function uh(i,e=null,r=[],s=[],l=null,d=null,g=null){return new $g(i,e,r,s,l,d,g)}function Ol(i){const e=gn(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>iu(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),El(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>La(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>La(s)).join(",")),e.ce=r}return e.ce}function ac(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!fo(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!ic(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ah(i.startAt,e.startAt)&&ah(i.endAt,e.endAt)}function Nl(i){return fn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function kl(i,e){return i.filters.filter(r=>r instanceof Er&&r.field.isEqual(e))}function Ug(i,e,r){let s=Ju,l=!0;for(const d of kl(i,e)){let g=Ju,b=!0;switch(d.op){case"<":case"<=":g=qv(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,b=!1;break;case"!=":case"not-in":g=Ju}Fg({value:s,inclusive:l},{value:g,inclusive:b})<0&&(s=g,l=b)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];Fg({value:s,inclusive:l},{value:g,inclusive:r.inclusive})<0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}function lc(i,e,r){let s=Fa,l=!0;for(const d of kl(i,e)){let g=Fa,b=!0;switch(d.op){case">=":case">":g=kg(d.value),b=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,b=!1;break;case"!=":case"not-in":g=Fa}sh({value:s,inclusive:l},{value:g,inclusive:b})>0&&(s=g,l=b)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];sh({value:s,inclusive:l},{value:g,inclusive:r.inclusive})>0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}class qo{constructor(e,r=null,s=[],l=[],d=null,g="F",b=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=b,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function uc(i,e,r,s,l,d,g,b){return new qo(i,e,r,s,l,d,g,b)}function ou(i){return new qo(i)}function cc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function dc(i){return null!==i.collectionGroup}function Qs(i){const e=gn(i);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let b=new Jr($n.comparator);return g.filters.forEach(R=>{R.getFlattenedFilters().forEach(U=>{U.isInequality()&&(b=b.add(U.field))})}),b})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new rc(d,s))}),r.has($n.keyField().canonicalString())||e.le.push(new rc($n.keyField(),s))}return e.le}function $o(i){const e=gn(i);return e.he||(e.he=function Df(i,e){if("F"===i.limitType)return uh(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new rc(l.field,"desc"===l.dir?"asc":"desc"));const r=i.endAt?new Ml(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ml(i.startAt.position,i.startAt.inclusive):null;return uh(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}(e,Qs(i))),e.he}function hc(i,e){const r=i.filters.concat([e]);return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Ba(i,e,r){return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function $a(i,e){return ac($o(i),$o(e))&&i.limitType===e.limitType}function ed(i){return`${Ol($o(i))}|lt:${i.limitType}`}function fc(i){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>oc(l)).join(", ")}]`),El(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>La(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>La(l)).join(",")),`Target(${s})`}($o(i))}; limitType=${i.limitType})`}function su(i,e){return e.isFoundDocument()&&function(s,l){const d=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):fn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,l){for(const d of Qs(s))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(i,e)&&function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(g,b,R){const U=Pl(g,b,R);return g.inclusive?U<=0:U<0}(s.startAt,Qs(s),l)||s.endAt&&!function(g,b,R){const U=Pl(g,b,R);return g.inclusive?U>=0:U>0}(s.endAt,Qs(s),l)));var s,l}function Tf(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function jg(i){return(e,r)=>{let s=!1;for(const l of Qs(i)){const d=Hg(l,e,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function Hg(i,e,r){const s=i.field.isKeyField()?fn.comparator(e.key,r.key):function(d,g,b){const R=g.data.field(d),U=b.data.field(d);return null!==R&&null!==U?_i(R,U):bn()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return bn()}}class va{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(r,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}const ch=new mi(fn.comparator);function so(){return ch}const dh=new mi(fn.comparator);function Ua(...i){let e=dh;for(const r of i)e=e.insert(r.key,r);return e}function Fl(i){let e=dh;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Bs(){return ja()}function wf(){return ja()}function ja(){return new va(i=>i.toString(),(i,e)=>i.isEqual(e))}const bf=new mi(fn.comparator),td=new Jr(fn.comparator);function mr(...i){let e=td;for(const r of i)e=e.add(r);return e}const nd=new Jr(Xn);function hh(){return nd}function rd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:io(e)?"-0":e}}function fh(i){return{integerValue:""+i}}function ph(i,e){return ca(e)?fh(e):rd(i,e)}class is{constructor(){this._=void 0}}function zg(i,e,r){return i instanceof au?function(l,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&ru(d)&&(d=wl(d)),d&&(g.fields.__previous_value__=d),{mapValue:g}}(r,e):i instanceof Ha?gc(i,e):i instanceof Po?za(i,e):function(l,d){const g=pc(l,d),b=gh(g)+gh(l.Ie);return tc(g)&&tc(l.Ie)?fh(b):rd(l.serializer,b)}(i,e)}function id(i,e,r){return i instanceof Ha?gc(i,e):i instanceof Po?za(i,e):r}function pc(i,e){return i instanceof _a?tc(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class au extends is{}class Ha extends is{constructor(e){super(),this.elements=e}}function gc(i,e){const r=Af(e);for(const s of i.elements)r.some(l=>Mo(l,s))||r.push(s);return{arrayValue:{values:r}}}class Po extends is{constructor(e){super(),this.elements=e}}function za(i,e){let r=Af(e);for(const s of i.elements)r=r.filter(l=>!Mo(l,s));return{arrayValue:{values:r}}}class _a extends is{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function gh(i){return vi(i.integerValue||i.doubleValue)}function Af(i){return ys(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class nl{constructor(e,r){this.field=e,this.transform=r}}class Is{constructor(e,r){this.version=e,this.transformResults=r}}class di{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class uu{}function od(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new du(i.key,di.none()):new os(i.key,i.data,di.none());{const r=i.data,s=Bo.empty();let l=new Jr($n.comparator);for(let d of e.fields)if(!l.has(d)){let g=r.field(d);null===g&&d.length>1&&(d=d.popLast(),g=r.field(d)),null===g?s.delete(d):s.set(d,g),l=l.add(d)}return new ya(i.key,s,new ho(l.toArray()),di.none())}}function vc(i,e,r){i instanceof os?function(l,d,g){const b=l.value.clone(),R=Mf(l.fieldTransforms,d,g.transformResults);b.setAll(R),d.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(i,e,r):i instanceof ya?function(l,d,g){if(!mc(l.precondition,d))return void d.convertToUnknownDocument(g.version);const b=Mf(l.fieldTransforms,d,g.transformResults),R=d.data;R.setAll(mh(l)),R.setAll(b),d.convertToFoundDocument(g.version,R).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function cu(i,e,r,s){return i instanceof os?function(d,g,b,R){if(!mc(d.precondition,g))return b;const U=d.value.clone(),Z=Pf(d.fieldTransforms,R,g);return U.setAll(Z),g.convertToFoundDocument(g.version,U).setHasLocalMutations(),null}(i,e,r,s):i instanceof ya?function(d,g,b,R){if(!mc(d.precondition,g))return b;const U=Pf(d.fieldTransforms,R,g),Z=g.data;return Z.setAll(mh(d)),Z.setAll(U),g.convertToFoundDocument(g.version,Z).setHasLocalMutations(),null===b?null:b.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ye=>ye.field))}(i,e,r,s):(b=r,mc(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function Sf(i,e){let r=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=pc(s.transform,l||null);null!=d&&(null===r&&(r=Bo.empty()),r.set(s.field,d))}return r||null}function Rf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&Oa(s,l,(d,g)=>function lu(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Ha&&l instanceof Ha||s instanceof Po&&l instanceof Po?Oa(s.elements,l.elements,Mo):s instanceof _a&&l instanceof _a?Mo(s.Ie,l.Ie):s instanceof au&&l instanceof au);var s,l}(d,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class os extends uu{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ya extends uu{constructor(e,r,s,l,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function mh(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function Mf(i,e,r){const s=new Map;kn(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],g=d.transform,b=e.data.field(d.field);s.set(d.field,id(g,b,r[l]))}return s}function Pf(i,e,r){const s=new Map;for(const l of i){const d=l.transform,g=r.data.field(l.field);s.set(l.field,zg(d,g,e))}return s}class du extends uu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xo extends uu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hu{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&vc(d,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=cu(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=cu(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=wf();return this.mutations.forEach(l=>{const d=e.get(l.key),g=d.overlayedDocument;let b=this.applyToLocalView(g,d.mutatedFields);b=r.has(l.key)?null:b;const R=od(g,b);null!==R&&s.set(l.key,R),g.isValidDocument()||g.convertToNoDocument(lt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),mr())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,(r,s)=>Rf(r,s))&&Oa(this.baseMutations,e.baseMutations,(r,s)=>Rf(r,s))}}class Uo{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){kn(e.mutations.length===s.length);let l=function(){return bf}();const d=e.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new Uo(e,r,s,l)}}class _c{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rl{constructor(e,r){this.count=e,this.unchangedNames=r}}var zi,Ar;function xf(i){switch(i){default:return bn();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function sd(i){if(void 0===i)return pi("GRPC error has no .code"),Tt.UNKNOWN;switch(i){case zi.OK:return Tt.OK;case zi.CANCELLED:return Tt.CANCELLED;case zi.UNKNOWN:return Tt.UNKNOWN;case zi.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case zi.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case zi.INTERNAL:return Tt.INTERNAL;case zi.UNAVAILABLE:return Tt.UNAVAILABLE;case zi.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case zi.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case zi.NOT_FOUND:return Tt.NOT_FOUND;case zi.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case zi.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case zi.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case zi.ABORTED:return Tt.ABORTED;case zi.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case zi.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case zi.DATA_LOSS:return Tt.DATA_LOSS;default:return bn()}}(Ar=zi||(zi={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";function Of(){return new TextEncoder}const il=new xs([4294967295,4294967295],0);function vh(i){const e=Of().encode(i),r=new wr;return r.update(e),new Uint8Array(r.digest())}function v(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new xs([r,s],0),new xs([l,d],0)]}class f{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new p(`Invalid padding: ${r}`);if(s<0)throw new p(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new p(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new p(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=xs.fromNumber(this.Te)}de(e,r,s){let l=e.add(r.multiply(xs.fromNumber(s)));return 1===l.compare(il)&&(l=new xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=vh(e),[s,l]=v(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);if(!this.Ae(g))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new f(d,l,r);return s.forEach(b=>g.insert(b)),g}insert(e){if(0===this.Te)return;const r=vh(e),[s,l]=v(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);this.Re(g)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class p extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class I{constructor(e,r,s,l,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,V.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new I(lt.min(),l,new mi(Xn),so(),mr())}}class V{constructor(e,r,s,l,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new V(s,r,mr(),mr(),mr())}}class X{constructor(e,r,s,l){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=l}}class $e{constructor(e,r){this.targetId=e,this.fe=r}}class ft{constructor(e,r,s=xi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class kt{constructor(){this.ge=0,this.pe=Dn(),this.ye=xi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=mr(),r=mr(),s=mr();return this.pe.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:bn()}}),new V(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=Dn()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,kn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _n{constructor(e){this.Le=e,this.ke=new Map,this.qe=so(),this.Qe=Sn(),this.Ke=new mi(Xn)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:bn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,l)=>{this.je(l)&&r(l)})}Je(e){const r=e.targetId,s=e.fe.count,l=this.Ye(r);if(l){const d=l.target;if(Nl(d))if(0===s){const g=new fn(d.path);this.We(r,g,Oi.newNoDocument(g,lt.min()))}else kn(1===s);else{const g=this.Ze(r);if(g!==s){const b=this.Xe(e),R=b?this.et(b,e,g):1;0!==R&&(this.He(r),this.Ke=this.Ke.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=r;let g,b;try{g=Ls(s).toUint8Array()}catch(R){if(R instanceof Zc)return Ro("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{b=new f(g,l,d)}catch(R){return Ro(R instanceof p?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===b.Te?null:b}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(d=>{const g=this.Le.nt(),b=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(b)||(this.We(r,d,null),l++)}),l}it(e){const r=new Map;this.ke.forEach((d,g)=>{const b=this.Ye(g);if(b){if(d.current&&Nl(b.target)){const R=new fn(b.target.path);null!==this.qe.get(R)||this.st(g,R)||this.We(g,R,Oi.newNoDocument(R,e))}d.De&&(r.set(g,d.ve()),d.Fe())}});let s=mr();this.Qe.forEach((d,g)=>{let b=!0;g.forEachWhile(R=>{const U=this.Ye(R);return!U||"TargetPurposeLimboResolution"===U.purpose||(b=!1,!1)}),b&&(s=s.add(d))}),this.qe.forEach((d,g)=>g.setReadTime(e));const l=new I(e,r,this.Ke,this.qe,s);return this.qe=so(),this.Qe=Sn(),this.Ke=new mi(Xn),l}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,r)?l.Me(r,1):l.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new kt,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Jr(Xn),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||Wt("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new kt),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Sn(){return new mi(fn.comparator)}function Dn(){return new mi(fn.comparator)}const Fr={asc:"ASCENDING",desc:"DESCENDING"},yo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pu={and:"AND",or:"OR"};class _h{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function $s(i,e){return i.useProto3Json||El(e)?e:{value:e}}function Xs(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nf(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function gu(i,e){return Xs(i,e.toTimestamp())}function Li(i){return kn(!!i),lt.fromTimestamp(function(r){const s=fa(r);return new ni(s.seconds,s.nanos)}(i))}function ad(i,e){return mu(i,e).canonicalString()}function mu(i,e){const r=(l=i,new hr(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function kf(i){const e=hr.fromString(i);return kn(Dh(e)),e}function vu(i,e){return ad(i.databaseId,e.path)}function Js(i,e){const r=kf(e);if(r.get(1)!==i.databaseId.projectId)throw new Ft(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ft(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new fn(cI(r))}function Ff(i,e){return ad(i.databaseId,e)}function Kv(i){const e=kf(i);return 4===e.length?hr.emptyPath():cI(e)}function yh(i){return new hr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cI(i){return kn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function dI(i,e,r){return{name:vu(i,e),fields:r.value.mapValue.fields}}function Lf(i,e,r){const s=Js(i,e.name),l=Li(e.updateTime),d=e.createTime?Li(e.createTime):lt.min(),g=new Bo({mapValue:{fields:e.fields}}),b=Oi.newFoundDocument(s,l,d,g);return r&&b.setHasCommittedMutations(),r?b.setHasCommittedMutations():b}function Vf(i,e){let r;if(e instanceof os)r={update:dI(i,e.key,e.value)};else if(e instanceof du)r={delete:vu(i,e.key)};else if(e instanceof ya)r={update:dI(i,e.key,e.data),updateMask:Bf(e.fieldMask)};else{if(!(e instanceof xo))return bn();r={verify:vu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,g){const b=g.transform;if(b instanceof au)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ha)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Po)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof _a)return{fieldPath:g.field.canonicalString(),increment:b.Ie};throw bn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:gu(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:bn()),r;var d}function Zv(i,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?di.updateTime(Li(d.updateTime)):void 0!==d.exists?di.exists(d.exists):di.none():di.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(g,b){let R=null;"setToServerValue"in b?(kn("REQUEST_TIME"===b.setToServerValue),R=new au):"appendMissingElements"in b?R=new Ha(b.appendMissingElements.values||[]):"removeAllFromArray"in b?R=new Po(b.removeAllFromArray.values||[]):"increment"in b?R=new _a(g,b.increment):bn();const U=$n.fromServerFormat(b.fieldPath);return new nl(U,R)}(i,l)):[];var d;if(e.update){const l=Js(i,e.update.name),d=new Bo({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new ho((e.updateMask.fieldPaths||[]).map(Z=>$n.fromServerFormat(Z)));return new ya(l,d,g,r,s)}return new os(l,d,r,s)}if(e.delete){const l=Js(i,e.delete);return new du(l,r)}if(e.verify){const l=Js(i,e.verify);return new xo(l,r)}return bn()}function Qv(i,e){return{documents:[Ff(i,e.path)]}}function ld(i,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Ff(i,l);const d=function(U){if(0!==U.length)return Ch(ri.create(U,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const g=function(U){if(0!==U.length)return U.map(Z=>{return{field:Ll((Ye=Z).field),direction:Xv(Ye.dir)};var Ye})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const b=$s(i,e.limit);return null!==b&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(r.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(e.endAt)),{ut:r,parent:l};var U}function Ih(i){let e=Kv(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){kn(1===s);const Z=r.from[0];Z.allDescendants?l=Z.collectionId:e=e.child(Z.collectionId)}let d=[];r.where&&(d=function(ye){const Ye=Wg(ye);return Ye instanceof ri&&Xc(Ye)?Ye.getFilters():[Ye]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(Ye=>{return new rc(yc((Qt=Ye).field),function(ln){switch(ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qt.direction));var Qt}));let b=null;r.limit&&(b=function(ye){let Ye;return Ye="object"==typeof ye?ye.value:ye,El(Ye)?null:Ye}(r.limit));let R=null;var ye;r.startAt&&(R=new Ml((ye=r.startAt).values||[],!!ye.before));let U=null;return r.endAt&&(U=function(ye){return new Ml(ye.values||[],!ye.before)}(r.endAt)),uc(e,l,g,d,b,"F",R,U)}function Wg(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=yc(r.unaryFilter.field);return Er.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=yc(r.unaryFilter.field);return Er.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=yc(r.unaryFilter.field);return Er.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=yc(r.unaryFilter.field);return Er.create(g,"!=",{nullValue:"NULL_VALUE"});default:return bn()}}(i):void 0!==i.fieldFilter?Er.create(yc((r=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return ri.create(r.compositeFilter.filters.map(s=>Wg(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bn()}}(r.compositeFilter.op))}(i):bn();var r}function Xv(i){return Fr[i]}function Eh(i){return yo[i]}function hI(i){return pu[i]}function Ll(i){return{fieldPath:i.canonicalString()}}function yc(i){return $n.fromServerFormat(i.fieldPath)}function Ch(i){return i instanceof Er?function(r){if("=="===r.op){if(Al(r.value))return{unaryFilter:{field:Ll(r.field),op:"IS_NAN"}};if(bl(r.value))return{unaryFilter:{field:Ll(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Al(r.value))return{unaryFilter:{field:Ll(r.field),op:"IS_NOT_NAN"}};if(bl(r.value))return{unaryFilter:{field:Ll(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(r.field),op:Eh(r.op),value:r.value}}}(i):i instanceof ri?function(r){const s=r.getFilters().map(l=>Ch(l));return 1===s.length?s[0]:{compositeFilter:{op:hI(r.op),filters:s}}}(i):bn()}function Bf(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Dh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Vl{constructor(e,r,s,l,d=lt.min(),g=lt.min(),b=xi.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b,this.expectedCount=R}withSequenceNumber(e){return new Vl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jv{constructor(e){this.ct=e}}function qg(i,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:ud(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:vu(d=i.ct,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Xs(d,g.version.toTimestamp()),createTime:Xs(d,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Ic(e.version)};else{if(!e.isUnknownDocument())return bn();s.unknownDocument={path:r.path.toArray(),version:Ic(e.version)}}var d,g;return s}function ud(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ic(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ec(i){const e=new ni(i.seconds,i.nanoseconds);return lt.fromTimestamp(e)}function Cc(i,e){const r=(e.baseMutations||[]).map(d=>Zv(i.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>Zv(i.ct,d)),l=ni.fromMillis(e.localWriteTimeMs);return new hu(e.batchId,l,r,s)}function cd(i){const e=Ec(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Ec(i.lastLimboFreeSnapshotVersion):lt.min();let s;return s=void 0!==i.query.documents?(kn(1===(d=i.query).documents.length),$o(ou(Kv(d.documents[0])))):function(d){return $o(Ih(d))}(i.query),new Vl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,xi.fromBase64String(i.resumeToken));var d}function e_(i,e){const r=Ic(e.snapshotVersion),s=Ic(e.lastLimboFreeSnapshotVersion);let l;l=Nl(e.target)?Qv(i.ct,e.target):ld(i.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ol(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Yg(i){const e=Ih({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ba(e,e.limit,"L"):e}function ss(i,e){return new _c(e.largestBatchId,Zv(i.ct,e.overlayMutation))}function $f(i,e){const r=e.path.lastSegment();return[i,Ir(e.path.popLast()),r]}function Kg(i,e,r,s){return{indexId:i,uid:e,sequenceNumber:r,readTime:Ic(s.readTime),documentKey:Ir(s.documentKey.path),largestBatchId:s.largestBatchId}}class Zg{getBundleMetadata(e,r){return Yo(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Ec(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return Yo(e).put({bundleId:(l=r).id,createTime:Ic(Li(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return dd(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:Yg(d.bundledQuery),readTime:Ec(d.readTime)};var d})}saveNamedQuery(e,r){return dd(e).put({name:(l=r).name,readTime:Ic(Li(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Yo(i){return oo(i,"bundles")}function dd(i){return oo(i,"namedQueries")}class Th{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Th(e,r.uid||"")}getOverlay(e,r){return hd(e).get($f(this.userId,r)).next(s=>s?ss(this.serializer,s):null)}getOverlays(e,r){const s=Bs();return ce.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((d,g)=>{const b=new _c(r,g);l.push(this.ht(e,b))}),ce.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(g=>l.add(Ir(g.getCollectionPath())));const d=[];return l.forEach(g=>{const b=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);d.push(hd(e).H("collectionPathOverlayIndex",b))}),ce.waitFor(d)}getOverlaysForCollection(e,r,s){const l=Bs(),d=Ir(r),g=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return hd(e).W("collectionPathOverlayIndex",g).next(b=>{for(const R of b){const U=ss(this.serializer,R);l.set(U.getKey(),U)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const d=Bs();let g;const b=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return hd(e).Y({index:"collectionGroupOverlayIndex",range:b},(R,U,Z)=>{const ye=ss(this.serializer,U);d.size()<l||ye.largestBatchId===g?(d.set(ye.getKey(),ye),g=ye.largestBatchId):Z.done()}).next(()=>d)}ht(e,r){return hd(e).put(function(l,d,g){const[b,R,U]=$f(d,g.mutation.key);return{userId:d,collectionPath:R,documentId:U,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Vf(l.ct,g.mutation)}}(this.serializer,this.userId,r))}}function hd(i){return oo(i,"documentOverlays")}class Dc{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(vi(e.integerValue));else if("doubleValue"in e){const s=vi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),io(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(r,20),"string"==typeof s?r.At(s):(r.At(`${s.seconds||""}`),r.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ls(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Rl(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):bn()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),fn.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function t_(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function n_(i){const e=64-function(s){let l=0;for(let d=0;d<8;++d){const g=t_(255&s[d]);if(l+=g,8!==g)break}return l}(i);return Math.ceil(e/8)}Dc.bt=new Dc;class r_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Bt(e){const r=this.Lt(e),s=n_(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Lt(e),s=n_(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const r=function(d){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,d,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class pI{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class i_{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class wh{constructor(){this.Gt=new r_,this.zt=new pI(this.Gt),this.jt=new i_(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Tc{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Tc(this.indexId,this.documentKey,this.arrayValue,s)}}function ol(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=Uf(i.arrayValue,e.arrayValue),0!==r?r:(r=Uf(i.directionalValue,e.directionalValue),0!==r?r:fn.comparator(i.documentKey,e.documentKey)))}function Uf(i,e){for(let r=0;r<i.length&&r<e.length;++r){const s=i[r]-e[r];if(0!==s)return s}return i.length-e.length}class o_{constructor(e){this.Yt=new Jr((r,s)=>$n.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(kn(e.collectionGroup===this.collectionId),this.en)return!1;const r=_s(e);if(void 0!==r&&!this.nn(r))return!1;const s=Ns(e);let l=new Set,d=0,g=0;for(;d<s.length&&this.nn(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const b=this.Yt.getIterator().getNext();if(!l.has(b.field.canonicalString())){const R=s[d];if(!this.rn(b,R)||!this.sn(this.Zt[g++],R))return!1}++d}for(;d<s.length;++d)if(g>=this.Zt.length||!this.sn(this.Zt[g++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new Jr($n.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Ja(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Ja(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Ja(s.field,"asc"===s.dir?0:1)));return new vs(vs.UNKNOWN_ID,this.collectionId,r,y.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function wc(i){var e,r;if(kn(i instanceof Er||i instanceof ri),i instanceof Er){if(i instanceof Jc){const l=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Er.create(i.field,"==",d)))||[];return ri.create(l,"or")}return i}const s=i.filters.map(l=>wc(l));return ri.create(s,i.op)}function jf(i){if(0===i.getFilters().length)return[];const e=Qg(wc(i));return kn(Ah(e)),Hf(e)||bh(e)?[e]:e.getFilters()}function Hf(i){return i instanceof Er}function bh(i){return i instanceof ri&&Xc(i)}function Ah(i){return Hf(i)||bh(i)||function(r){if(r instanceof ri&&ma(r)){for(const s of r.getFilters())if(!Hf(s)&&!bh(s))return!1;return!0}return!1}(i)}function Qg(i){if(kn(i instanceof Er||i instanceof ri),i instanceof Er)return i;if(1===i.filters.length)return Qg(i.filters[0]);const e=i.filters.map(s=>Qg(s));let r=ri.create(e,i.op);return r=zf(r),Ah(r)?r:(kn(r instanceof ri),kn(Xi(r)),kn(r.filters.length>1),r.filters.reduce((s,l)=>Xg(s,l)))}function Xg(i,e){let r;return kn(i instanceof Er||i instanceof ri),kn(e instanceof Er||e instanceof ri),r=i instanceof Er?e instanceof Er?ri.create([i,e],"and"):Jg(i,e):e instanceof Er?Jg(e,i):function(l,d){if(kn(l.filters.length>0&&d.filters.length>0),Xi(l)&&Xi(d))return Vg(l,d.getFilters());const g=ma(l)?l:d,b=ma(l)?d:l,R=g.filters.map(U=>Xg(U,b));return ri.create(R,"or")}(i,e),zf(r)}function Jg(i,e){if(Xi(e))return Vg(e,i.getFilters());{const r=e.filters.map(s=>Xg(i,s));return ri.create(r,"or")}}function zf(i){if(kn(i instanceof Er||i instanceof ri),i instanceof Er)return i;const e=i.getFilters();if(1===e.length)return zf(e[0]);if(xl(i))return i;const r=e.map(l=>zf(l)),s=[];return r.forEach(l=>{l instanceof Er?s.push(l):l instanceof ri&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:ri.create(s,i.op)}class gI{constructor(){this._n=new em}addToCollectionParentIndex(e,r){return this._n.add(r),ce.resolve()}getCollectionParents(e,r){return ce.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return ce.resolve()}deleteFieldIndex(e,r){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,r){return ce.resolve()}getDocumentsMatchingTarget(e,r){return ce.resolve(null)}getIndexType(e,r){return ce.resolve(0)}getFieldIndexes(e,r){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,r){return ce.resolve(D.min())}getMinOffsetFromCollectionGroup(e,r){return ce.resolve(D.min())}updateCollectionGroup(e,r,s){return ce.resolve()}updateIndexEntries(e,r){return ce.resolve()}}class em{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new Jr(hr.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Jr(hr.comparator)).toArray()}}const Sh=new Uint8Array(0);class Rh{constructor(e,r){this.databaseId=r,this.an=new em,this.un=new va(s=>Ol(s),(s,l)=>ac(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:Ir(l)};return Mh(e).put(d)}return ce.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[Gc(r),""],!1,!0);return Mh(e).W(l).next(d=>{for(const g of d){if(g.collectionId!==r)break;s.push(ks(g.parent))}return s})}addFieldIndex(e,r){const s=Ph(e),l={indexId:(b=r).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var b;delete l.indexId;const d=s.add(l);if(r.indexState){const g=fd(e);return d.next(b=>{g.put(Kg(b,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Ph(e),l=fd(e),d=_u(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ph(e),s=_u(e),l=fd(e);return r.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,r){return ce.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const d=new o_(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=_u(e);let l=!0;const d=new Map;return ce.forEach(this.cn(r),g=>this.ln(e,g).next(b=>{l&&(l=!!b),d.set(g,b)})).next(()=>{if(l){let g=mr();const b=[];return ce.forEach(d,(R,U)=>{var jn;Wt("IndexedDbIndexManager",`Using index ${jn=R,`id=${jn.indexId}|cg=${jn.collectionGroup}|f=${jn.fields.map(rr=>`${rr.fieldPath}:${rr.kind}`).join(",")}`} to execute ${Ol(r)}`);const Z=function(jn,rr){const ii=_s(rr);if(void 0===ii)return null;for(const zr of kl(jn,ii.fieldPath))switch(zr.op){case"array-contains-any":return zr.value.arrayValue.values||[];case"array-contains":return[zr.value]}return null}(U,R),ye=function(jn,rr){const ii=new Map;for(const zr of Ns(rr))for(const go of kl(jn,zr.fieldPath))switch(go.op){case"==":case"in":ii.set(zr.fieldPath.canonicalString(),go.value);break;case"not-in":case"!=":return ii.set(zr.fieldPath.canonicalString(),go.value),Array.from(ii.values())}return null}(U,R),Ye=function(jn,rr){const ii=[];let zr=!0;for(const go of Ns(rr)){const Hs=0===go.kind?Ug(jn,go.fieldPath,jn.startAt):lc(jn,go.fieldPath,jn.startAt);ii.push(Hs.value),zr&&(zr=Hs.inclusive)}return new Ml(ii,zr)}(U,R),yt=function(jn,rr){const ii=[];let zr=!0;for(const go of Ns(rr)){const Hs=0===go.kind?lc(jn,go.fieldPath,jn.endAt):Ug(jn,go.fieldPath,jn.endAt);ii.push(Hs.value),zr&&(zr=Hs.inclusive)}return new Ml(ii,zr)}(U,R),Qt=this.hn(R,U,Ye),mn=this.hn(R,U,yt),ln=this.Pn(R,U,ye),Bn=this.In(R.indexId,Z,Qt,Ye.inclusive,mn,yt.inclusive,ln);return ce.forEach(Bn,sr=>s.j(sr,r.limit).next(jn=>{jn.forEach(rr=>{const ii=fn.fromSegments(rr.documentKey);g.has(ii)||(g=g.add(ii),b.push(ii))})}))}).next(()=>b)}return ce.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:jf(ri.create(e.filters,"and")).map(s=>uh(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,d,g,b){const R=(null!=r?r.length:1)*Math.max(s.length,d.length),U=R/(null!=r?r.length:1),Z=[];for(let ye=0;ye<R;++ye){const Ye=r?this.Tn(r[ye/U]):Sh,yt=this.En(e,Ye,s[ye%U],l),Qt=this.dn(e,Ye,d[ye%U],g),mn=b.map(ln=>this.En(e,Ye,ln,!0));Z.push(...this.createRange(yt,Qt,mn))}return Z}En(e,r,s,l){const d=new Tc(e,fn.empty(),r,s);return l?d:d.Jt()}dn(e,r,s,l){const d=new Tc(e,fn.empty(),r,s);return l?d.Jt():d}ln(e,r){const s=new o_(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let g=null;for(const b of d)s.tn(b)&&(!g||b.fields.length>g.fields.length)&&(g=b);return g})}getIndexType(e,r){let s=2;const l=this.cn(r);return ce.forEach(l,d=>this.ln(e,d).next(g=>{g?0!==s&&g.fields.length<function(R){let U=new Jr($n.comparator),Z=!1;for(const ye of R.filters)for(const Ye of ye.getFlattenedFilters())Ye.field.isKeyField()||("array-contains"===Ye.op||"array-contains-any"===Ye.op?Z=!0:U=U.add(Ye.field));for(const ye of R.orderBy)ye.field.isKeyField()||(U=U.add(ye.field));return U.size+(Z?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new wh;for(const l of Ns(e)){const d=r.data.field(l.fieldPath);if(null==d)return null;const g=s.Ht(l.kind);Dc.bt.Pt(d,g)}return s.Wt()}Tn(e){const r=new wh;return Dc.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new wh;return Dc.bt.Pt(Va(this.databaseId,r),s.Ht(function(d){const g=Ns(d);return 0===g.length?0:g[g.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new wh);let d=0;for(const g of Ns(e)){const b=s[d++];for(const R of l)if(this.Vn(r,g.fieldPath)&&ys(b))l=this.mn(l,g,b);else{const U=R.Ht(g.kind);Dc.bt.Pt(b,U)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],d=[];for(const g of s.arrayValue.values||[])for(const b of l){const R=new wh;R.seed(b.Wt()),Dc.bt.Pt(g,R.Ht(r.kind)),d.push(R)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof Er&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Ph(e),l=fd(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const g=[];return ce.forEach(d,b=>l.get([b.indexId,this.uid]).next(R=>{g.push(function(Z,ye){const Ye=ye?new y(ye.sequenceNumber,new D(Ec(ye.readTime),new fn(ks(ye.documentKey)),ye.largestBatchId)):y.empty(),yt=Z.fields.map(([Qt,mn])=>new Ja($n.fromServerFormat(Qt),mn));return new vs(Z.indexId,Z.collectionGroup,yt,Ye)}(b,R))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:Xn(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=Ph(e),d=fd(e);return this.gn(e).next(g=>l.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(b=>ce.forEach(b,R=>d.put(Kg(R.indexId,this.uid,g,s)))))}updateIndexEntries(e,r){const s=new Map;return ce.forEach(r,(l,d)=>{const g=s.get(l.collectionGroup);return(g?ce.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(b=>(s.set(l.collectionGroup,b),ce.forEach(b,R=>this.pn(e,l,R).next(U=>{const Z=this.yn(d,R);return U.isEqual(Z)?ce.resolve():this.wn(e,d,R,U,Z)}))))})}Sn(e,r,s,l){return _u(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return _u(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=_u(e);let d=new Jr(ol);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(g,b)=>{d=d.add(new Tc(s.indexId,r,b.arrayValue,b.directionalValue))}).next(()=>d)}yn(e,r){let s=new Jr(ol);const l=this.An(r,e);if(null==l)return s;const d=_s(r);if(null!=d){const g=e.data.field(d.fieldPath);if(ys(g))for(const b of g.arrayValue.values||[])s=s.add(new Tc(r.indexId,e.key,this.Tn(b),l))}else s=s.add(new Tc(r.indexId,e.key,Sh,l));return s}wn(e,r,s,l,d){Wt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(R,U,Z,ye,Ye){const yt=R.getIterator(),Qt=U.getIterator();let mn=nu(yt),ln=nu(Qt);for(;mn||ln;){let Bn=!1,sr=!1;if(mn&&ln){const jn=Z(mn,ln);jn<0?sr=!0:jn>0&&(Bn=!0)}else null!=mn?sr=!0:Bn=!0;Bn?(ye(ln),ln=nu(Qt)):sr?(Ye(mn),mn=nu(yt)):(mn=nu(yt),ln=nu(Qt))}}(l,d,ol,b=>{g.push(this.Sn(e,r,s,b))},b=>{g.push(this.bn(e,r,s,b))}),ce.waitFor(g)}gn(e){let r=1;return fd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((g,b)=>ol(g,b)).filter((g,b,R)=>!b||0!==ol(g,R[b-1]));const l=[];l.push(e);for(const g of s){const b=ol(g,e),R=ol(g,r);if(0===b)l[0]=e.Jt();else if(b>0&&R<0)l.push(g),l.push(g.Jt());else if(R>0)break}l.push(r);const d=[];for(let g=0;g<l.length;g+=2){if(this.Dn(l[g],l[g+1]))return[];d.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,Sh,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,Sh,[]]))}return d}Dn(e,r){return ol(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Gf)}getMinOffset(e,r){return ce.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||bn())).next(Gf)}}function Mh(i){return oo(i,"collectionParents")}function _u(i){return oo(i,"indexEntries")}function Ph(i){return oo(i,"indexConfiguration")}function fd(i){return oo(i,"indexState")}function Gf(i){kn(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;P(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new D(e.readTime,e.documentKey,r)}const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nm(i,e,r){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],g=IDBKeyRange.only(r.batchId);let b=0;const R=s.Y({range:g},(Z,ye,Ye)=>(b++,Ye.delete()));d.push(R.next(()=>{kn(1===b)}));const U=[];for(const Z of r.mutations){const ye=Dl(e,Z.key.path,r.batchId);d.push(l.delete(ye)),U.push(Z.key)}return ce.waitFor(d).next(()=>U)}function xh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw bn();e=i.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class Wf{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){kn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Wf(d,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ga(e).Y({index:"userMutationsIndex",range:s},(l,d,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const d=pd(e),g=Ga(e);return g.add({}).next(b=>{kn("number"==typeof b);const R=new hu(b,r,s,l),U=function(yt,Qt,mn){const ln=mn.baseMutations.map(sr=>Vf(yt.ct,sr)),Bn=mn.mutations.map(sr=>Vf(yt.ct,sr));return{userId:Qt,batchId:mn.batchId,localWriteTimeMs:mn.localWriteTime.toMillis(),baseMutations:ln,mutations:Bn}}(this.serializer,this.userId,R),Z=[];let ye=new Jr((Ye,yt)=>Xn(Ye.canonicalString(),yt.canonicalString()));for(const Ye of l){const yt=Dl(this.userId,Ye.key.path,b);ye=ye.add(Ye.key.path.popLast()),Z.push(g.put(U)),Z.push(d.put(yt,da))}return ye.forEach(Ye=>{Z.push(this.indexManager.addToCollectionParentIndex(e,Ye))}),e.addOnCommittedListener(()=>{this.Cn[b]=R.keys()}),ce.waitFor(Z).next(()=>R)})}lookupMutationBatch(e,r){return Ga(e).get(r).next(s=>s?(kn(s.userId===this.userId),Cc(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?ce.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Ga(e).Y({index:"userMutationsIndex",range:l},(g,b,R)=>{b.userId===this.userId&&(kn(b.batchId>=s),d=Cc(this.serializer,b)),R.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ga(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ga(e).W("userMutationsIndex",r).next(s=>s.map(l=>Cc(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Cl(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return pd(e).Y({range:l},(g,b,R)=>{const[U,Z,ye]=g,Ye=ks(Z);if(U===this.userId&&r.path.isEqual(Ye))return Ga(e).get(ye).next(yt=>{if(!yt)throw bn();kn(yt.userId===this.userId),d.push(Cc(this.serializer,yt))});R.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(Xn);const l=[];return r.forEach(d=>{const g=Cl(this.userId,d.path),b=IDBKeyRange.lowerBound(g),R=pd(e).Y({range:b},(U,Z,ye)=>{const[Ye,yt,Qt]=U,mn=ks(yt);Ye===this.userId&&d.path.isEqual(mn)?s=s.add(Qt):ye.done()});l.push(R)}),ce.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,d=Cl(this.userId,s),g=IDBKeyRange.lowerBound(d);let b=new Jr(Xn);return pd(e).Y({range:g},(R,U,Z)=>{const[ye,Ye,yt]=R,Qt=ks(Ye);ye===this.userId&&s.isPrefixOf(Qt)?Qt.length===l&&(b=b.add(yt)):Z.done()}).next(()=>this.Fn(e,b))}Fn(e,r){const s=[],l=[];return r.forEach(d=>{l.push(Ga(e).get(d).next(g=>{if(null===g)throw bn();kn(g.userId===this.userId),s.push(Cc(this.serializer,g))}))}),ce.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return nm(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),ce.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ce.resolve();const s=IDBKeyRange.lowerBound(function(g){return[g]}(this.userId)),l=[];return pd(e).Y({range:s},(d,g,b)=>{if(d[0]===this.userId){const R=ks(d[1]);l.push(R)}else b.done()}).next(()=>{kn(0===l.length)})})}containsKey(e,r){return mI(e,this.userId,r)}xn(e){return rm(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mI(i,e,r){const s=Cl(e,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return pd(i).Y({range:d,J:!0},(b,R,U)=>{const[Z,ye,Ye]=b;Z===e&&ye===l&&(g=!0),U.done()}).next(()=>g)}function Ga(i){return oo(i,"mutations")}function pd(i){return oo(i,"documentMutations")}function rm(i){return oo(i,"mutationQueues")}class yu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new yu(0)}static Bn(){return new yu(-1)}}class s_{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Ln(e).next(r=>{const s=new yu(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(r=>lt.fromTimestamp(new ni(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Ln(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Iu(e).delete(r.targetId)).next(()=>this.Ln(e)).next(s=>(kn(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const d=[];return Iu(e).Y((g,b)=>{const R=cd(b);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(l++,d.push(this.removeTargetData(e,R)))}).next(()=>ce.waitFor(d)).next(()=>l)}forEachTarget(e,r){return Iu(e).Y((s,l)=>{const d=cd(l);r(d)})}Ln(e){return im(e).get("targetGlobalKey").next(r=>(kn(null!==r),r))}kn(e,r){return im(e).put("targetGlobalKey",r)}qn(e,r){return Iu(e).put(e_(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Ol(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Iu(e).Y({range:l,index:"queryTargetsIndex"},(g,b,R)=>{const U=cd(b);ac(r,U.target)&&(d=U,R.done())}).next(()=>d)}addMatchingKeys(e,r,s){const l=[],d=Wa(e);return r.forEach(g=>{const b=Ir(g.path);l.push(d.put({targetId:s,path:b})),l.push(this.referenceDelegate.addReference(e,s,g))}),ce.waitFor(l)}removeMatchingKeys(e,r,s){const l=Wa(e);return ce.forEach(r,d=>{const g=Ir(d.path);return ce.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=Wa(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Wa(e);let d=mr();return l.Y({range:s,J:!0},(g,b,R)=>{const U=ks(g[1]),Z=new fn(U);d=d.add(Z)}).next(()=>d)}containsKey(e,r){const s=Ir(r.path),l=IDBKeyRange.bound([s],[Gc(s)],!1,!0);let d=0;return Wa(e).Y({index:"documentTargetsIndex",J:!0,range:l},([g,b],R,U)=>{0!==g&&(d++,U.done())}).next(()=>d>0)}_t(e,r){return Iu(e).get(r).next(s=>s?cd(s):null)}}function Iu(i){return oo(i,"targets")}function im(i){return oo(i,"targetGlobal")}function Wa(i){return oo(i,"targetDocuments")}function gd([i,e],[r,s]){const l=Xn(i,r);return 0===l?Xn(e,s):l}class a_{constructor(e){this.Kn=e,this.buffer=new Jr(gd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();gd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class qf{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Wt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,W.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){wi(s)?Wt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield st(s)}yield r.zn(3e5)}))}}class Yf{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return ce.resolve(Qi._e);const s=new a_(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(tm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,d,g,b,R,U;const Z=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),l=this.params.maximumSequenceNumbersToCollect):l=ye,g=Date.now(),this.nthSequenceNumber(e,l))).next(ye=>(s=ye,b=Date.now(),this.removeTargets(e,s,r))).next(ye=>(d=ye,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(ye=>(U=Date.now(),gs()<=tt.in.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-Z}ms\n\tDetermined least recently used ${l} in `+(b-g)+`ms\n\tRemoved ${d} targets in `+(R-b)+`ms\n\tRemoved ${ye} documents in `+(U-R)+`ms\nTotal Duration: ${U-Z}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:ye})))}}class sm{constructor(e,r){this.db=e,this.garbageCollector=function om(i,e){return new Yf(i,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return bc(e,s)}removeReference(e,r,s){return bc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return bc(e,r)}er(e,r){return function(l,d){let g=!1;return rm(l).Z(b=>mI(l,b,d).next(R=>(R&&(g=!0),ce.resolve(!R)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Xn(e,(g,b)=>{if(b<=r){const R=this.er(e,g).next(U=>{if(!U)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g,lt.min()),Wa(e).delete([0,Ir(g.path)])))});l.push(R)}}).next(()=>ce.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return bc(e,r)}Xn(e,r){const s=Wa(e);let l,d=Qi._e;return s.Y({index:"documentTargetsIndex"},([g,b],{path:R,sequenceNumber:U})=>{0===g?(d!==Qi._e&&r(new fn(ks(l)),d),d=U,l=R):d=Qi._e}).next(()=>{d!==Qi._e&&r(new fn(ks(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bc(i,e){return Wa(i).put((l=i.currentSequenceNumber,{targetId:0,path:Ir(e.path),sequenceNumber:l}));var l}class l_{constructor(){this.changes=new va(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?ce.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Eu(e).put(s)}removeEntry(e,r,s){return Eu(e).delete(function(d,g){const b=d.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],ud(g),b[b.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Oi.newInvalidDocument(r);return Eu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(md(r))},(l,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:Oi.newInvalidDocument(r)};return Eu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(md(r))},(l,d)=>{s={document:this.nr(r,d),size:xh(d)}}).next(()=>s)}getEntries(e,r){let s=so();return this.ir(e,r,(l,d)=>{const g=this.nr(l,d);s=s.insert(l,g)}).next(()=>s)}sr(e,r){let s=so(),l=new mi(fn.comparator);return this.ir(e,r,(d,g)=>{const b=this.nr(d,g);s=s.insert(d,b),l=l.insert(d,xh(g))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return ce.resolve();let l=new Jr(Kf);r.forEach(R=>l=l.add(R));const d=IDBKeyRange.bound(md(l.first()),md(l.last())),g=l.getIterator();let b=g.getNext();return Eu(e).Y({index:"documentKeyIndex",range:d},(R,U,Z)=>{const ye=fn.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;b&&Kf(b,ye)<0;)s(b,null),b=g.getNext();b&&b.isEqual(ye)&&(s(b,U),b=g.hasNext()?g.getNext():null),b?Z.U(md(b)):Z.done()}).next(()=>{for(;b;)s(b,null),b=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,d){const g=r.path,b=[g.popLast().toArray(),g.lastSegment(),ud(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eu(e).W(IDBKeyRange.bound(b,R,!0)).next(U=>{null==d||d.incrementDocumentReadCount(U.length);let Z=so();for(const ye of U){const Ye=this.nr(fn.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);Ye.isFoundDocument()&&(su(r,Ye)||l.has(Ye.key))&&(Z=Z.insert(Ye.key,Ye))}return Z})}getAllFromCollectionGroup(e,r,s,l){let d=so();const g=Oh(r,s),b=Oh(r,D.max());return Eu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,b,!0)},(R,U,Z)=>{const ye=this.nr(fn.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);d=d.insert(ye.key,ye),d.size===l&&Z.done()}).next(()=>d)}newChangeBuffer(e){return new vI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return d_(e).get("remoteDocumentGlobalKey").next(r=>(kn(!!r),r))}tr(e,r){return d_(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function fI(i,e){let r;if(e.document)r=Lf(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=fn.fromSegments(e.noDocument.path),l=Ec(e.noDocument.readTime);r=Oi.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return bn();{const s=fn.fromSegments(e.unknownDocument.path),l=Ec(e.unknownDocument.version);r=Oi.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const d=new ni(l[0],l[1]);return lt.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(lt.min()))return s}return Oi.newInvalidDocument(e)}}function c_(i){return new u_(i)}class vI extends l_{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new va(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new Jr((d,g)=>Xn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const b=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,b.readTime)),g.isValidDocument()){const R=qg(this.ar.serializer,g);l=l.add(d.path.popLast());const U=xh(R);s+=U-b.size,r.push(this.ar.addEntry(e,d,R))}else if(s-=b.size,this.trackRemovals){const R=qg(this.ar.serializer,g.convertToNoDocument(lt.min()));r.push(this.ar.addEntry(e,d,R))}}),l.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),ce.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((d,g)=>{this.ur.set(d,{size:g,readTime:s.get(d).readTime})}),s))}}function d_(i){return oo(i,"remoteDocumentGlobal")}function Eu(i){return oo(i,"remoteDocumentsV14")}function md(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Oh(i,e){const r=e.documentKey.path.toArray();return[i,ud(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Kf(i,e){const r=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(l=Xn(r[d],s[d]),l)return l;return l=Xn(r.length,s.length),l||(l=Xn(r[r.length-2],s[s.length-2]),l||Xn(r[r.length-1],s[s.length-1]))}class vd{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class h_{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&cu(s.mutation,l,ho.empty(),ni.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,mr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=mr()){const l=Bs();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(d=>{let g=Ua();return d.forEach((b,R)=>{g=g.insert(b,R.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Bs();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,mr()))}populateOverlays(e,r,s){const l=[];return s.forEach(d=>{r.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((g,b)=>{r.set(g,b)})})}computeViews(e,r,s,l){let d=so();const g=ja(),b=ja();return r.forEach((R,U)=>{const Z=s.get(U.key);l.has(U.key)&&(void 0===Z||Z.mutation instanceof ya)?d=d.insert(U.key,U):void 0!==Z?(g.set(U.key,Z.mutation.getFieldMask()),cu(Z.mutation,U,Z.mutation.getFieldMask(),ni.now())):g.set(U.key,ho.empty())}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((U,Z)=>g.set(U,Z)),r.forEach((U,Z)=>{var ye;return b.set(U,new vd(Z,null!==(ye=g.get(U))&&void 0!==ye?ye:null))}),b))}recalculateAndSaveOverlays(e,r){const s=ja();let l=new mi((g,b)=>g-b),d=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const b of g)b.keys().forEach(R=>{const U=r.get(R);if(null===U)return;let Z=s.get(R)||ho.empty();Z=b.applyToLocalView(U,Z),s.set(R,Z);const ye=(l.get(b.batchId)||mr()).add(R);l=l.insert(b.batchId,ye)})}).next(()=>{const g=[],b=l.getReverseIterator();for(;b.hasNext();){const R=b.getNext(),U=R.key,Z=R.value,ye=wf();Z.forEach(Ye=>{if(!d.has(Ye)){const yt=od(r.get(Ye),s.get(Ye));null!==yt&&ye.set(Ye,yt),d=d.add(Ye)}}),g.push(this.documentOverlayCache.saveOverlays(e,U,ye))}return ce.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return fn.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):dc(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var g}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(d=>{const g=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-d.size):ce.resolve(Bs());let b=-1,R=d;return g.next(U=>ce.forEach(U,(Z,ye)=>(b<ye.largestBatchId&&(b=ye.largestBatchId),d.get(Z)?ce.resolve():this.remoteDocumentCache.getEntry(e,Z).next(Ye=>{R=R.insert(Z,Ye)}))).next(()=>this.populateOverlays(e,U,d)).next(()=>this.computeViews(e,R,U,mr())).next(Z=>({batchId:b,changes:Fl(Z)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fn(r)).next(s=>{let l=Ua();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const d=r.collectionGroup;let g=Ua();return this.indexManager.getCollectionParents(e,d).next(b=>ce.forEach(b,R=>{const U=(ye=r,Ye=R.child(d),new qo(Ye,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,Ye;return this.getDocumentsMatchingCollectionQuery(e,U,s,l).next(Z=>{Z.forEach((ye,Ye)=>{g=g.insert(ye,Ye)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,l))).next(g=>{d.forEach((R,U)=>{const Z=U.getKey();null===g.get(Z)&&(g=g.insert(Z,Oi.newInvalidDocument(Z)))});let b=Ua();return g.forEach((R,U)=>{const Z=d.get(R);void 0!==Z&&cu(Z.mutation,U,ho.empty(),ni.now()),su(r,U)&&(b=b.insert(R,U))}),b})}}class _I{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return ce.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:Li(l.createTime)}),ce.resolve();var l}getNamedQuery(e,r){return ce.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:Yg(l.bundledQuery),readTime:Li(l.readTime)}),ce.resolve();var l}}class WE{constructor(){this.overlays=new mi(fn.comparator),this.hr=new Map}getOverlay(e,r){return ce.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Bs();return ce.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,d)=>{this.ht(e,r,d)}),ce.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),ce.resolve()}getOverlaysForCollection(e,r,s){const l=Bs(),d=r.length+1,g=new fn(r.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const R=b.getNext().value,U=R.getKey();if(!r.isPrefixOf(U.path))break;U.path.length===d&&R.largestBatchId>s&&l.set(R.getKey(),R)}return ce.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let d=new mi((U,Z)=>U-Z);const g=this.overlays.getIterator();for(;g.hasNext();){const U=g.getNext().value;if(U.getKey().getCollectionGroup()===r&&U.largestBatchId>s){let Z=d.get(U.largestBatchId);null===Z&&(Z=Bs(),d=d.insert(U.largestBatchId,Z)),Z.set(U.getKey(),U)}}const b=Bs(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((U,Z)=>b.set(U,Z)),!(b.size()>=l)););return ce.resolve(b)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new _c(r,s));let d=this.hr.get(r);void 0===d&&(d=mr(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class am{constructor(){this.Pr=new Jr(po.Ir),this.Tr=new Jr(po.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new po(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new po(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new fn(new hr([])),s=new po(r,e),l=new po(r,e+1),d=[];return this.Tr.forEachInRange([s,l],g=>{this.Ar(g),d.push(g.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new fn(new hr([])),s=new po(r,e),l=new po(r,e+1);let d=mr();return this.Tr.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(e){const r=new po(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class po{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return fn.comparator(e.key,r.key)||Xn(e.pr,r.pr)}static Er(e,r){return Xn(e.pr,r.pr)||fn.comparator(e.key,r.key)}}class lm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Jr(po.Ir)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const d=this.yr;this.yr++;const g=new hu(d,r,s,l);this.mutationQueue.push(g);for(const b of l)this.wr=this.wr.add(new po(b.key,d)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return ce.resolve(g)}lookupMutationBatch(e,r){return ce.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),d=l<0?0:l;return ce.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new po(r,0),l=new po(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,l],g=>{const b=this.Sr(g.pr);d.push(b)}),ce.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jr(Xn);return r.forEach(l=>{const d=new po(l,0),g=new po(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,g],b=>{s=s.add(b.pr)})}),ce.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let d=s;fn.isDocumentKey(d)||(d=d.child(""));const g=new po(new fn(d),0);let b=new Jr(Xn);return this.wr.forEachWhile(R=>{const U=R.key.path;return!!s.isPrefixOf(U)&&(U.length===l&&(b=b.add(R.pr)),!0)},g),ce.resolve(this.Dr(b))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){kn(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return ce.forEach(r.mutations,l=>{const d=new po(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new po(r,0),l=this.wr.firstAfterOrEqual(s);return ce.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return ce.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class f_{constructor(e){this.vr=e,this.docs=new mi(fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),d=l?l.size:0,g=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ce.resolve(s?s.document.mutableCopy():Oi.newInvalidDocument(r))}getEntries(e,r){let s=so();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():Oi.newInvalidDocument(l))}),ce.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let d=so();const g=r.path,b=new fn(g.child("")),R=this.docs.getIteratorFrom(b);for(;R.hasNext();){const{key:U,value:{document:Z}}=R.getNext();if(!g.isPrefixOf(U.path))break;U.path.length>g.length+1||P(S(Z),s)<=0||(l.has(Z.key)||su(r,Z))&&(d=d.insert(Z.key,Z.mutableCopy()))}return ce.resolve(d)}getAllFromCollectionGroup(e,r,s,l){bn()}Fr(e,r){return ce.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new p_(this)}getSize(e){return ce.resolve(this.size)}}class p_ extends l_{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),ce.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class g_{constructor(e){this.persistence=e,this.Mr=new va(r=>Ol(r),ac),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new am,this.targetCount=0,this.Br=yu.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),ce.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Br=new yu(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,ce.resolve()}updateTargetData(e,r){return this.qn(r),ce.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,r,s){let l=0;const d=[];return this.Mr.forEach((g,b)=>{b.sequenceNumber<=r&&null===s.get(b.targetId)&&(this.Mr.delete(g),d.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)}),ce.waitFor(d).next(()=>l)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return ce.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),ce.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(g=>{d.push(l.markPotentiallyOrphaned(e,g))}),ce.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),ce.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return ce.resolve(s)}containsKey(e,r){return ce.resolve(this.Nr.containsKey(r))}}class Zf{constructor(e,r){this.Lr={},this.overlays={},this.kr=new Qi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new g_(this),this.indexManager=new gI,this.remoteDocumentCache=new f_(s=>this.referenceDelegate.Kr(s)),this.serializer=new Jv(r),this.$r=new _I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new WE,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Lr[e.toKey()];return s||(s=new lm(r,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Wt("MemoryPersistence","Starting transaction:",e);const l=new yI(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(d=>this.referenceDelegate.Wr(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Gr(e,r){return ce.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,r)))}}class yI extends he{constructor(e){super(),this.currentSequenceNumber=e}}class Qf{constructor(e){this.persistence=e,this.zr=new am,this.jr=null}static Hr(e){return new Qf(e)}get Jr(){if(this.jr)return this.jr;throw bn()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),ce.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),ce.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Jr,s=>{const l=fn.fromPath(s);return this.Yr(e,l).next(d=>{d||r.removeEntry(l,lt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return ce.or([()=>ce.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class II{constructor(e){this.serializer=e}N(e,r,s,l){const d=new cn("createOrUpgrade",r);var R;s<1&&l>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gf,{unique:!0}),R.createObjectStore("documentMutations"),m_(e),function(R){R.createObjectStore("remoteDocuments")}(e));let g=ce.resolve();return s<3&&l>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),m_(e)),g=g.next(()=>function(R){const U=R.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lt.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",Z)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(R,U){return U.store("mutations").W().next(Z=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gf,{unique:!0});const ye=U.store("mutations"),Ye=Z.map(yt=>ye.put(yt));return ce.waitFor(Ye)})}(e,d))),g=g.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.Xr(d))),s<6&&l>=6&&(g=g.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&l>=7&&(g=g.next(()=>this.ti(d))),s<8&&l>=8&&(g=g.next(()=>this.ni(e,d))),s<9&&l>=9&&(g=g.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.ri(d))),s<11&&l>=11&&(g=g.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(R){const U=R.createObjectStore("documentOverlays",{keyPath:xg});U.createIndex("collectionPathOverlayIndex",qu,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",ih,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(R){const U=R.createObjectStore("remoteDocumentsV14",{keyPath:ha});U.createIndex("documentKeyIndex",Pg),U.createIndex("collectionGroupIndex",qc)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.si(e,d))),s<15&&l>=15&&(g=g.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:vf}).createIndex("sequenceNumberIndex",rh,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Jl}).createIndex("documentKeyIndex",Tl,{unique:!1})}(e))),g}ei(e){let r=0;return e.store("remoteDocuments").Y((s,l)=>{r+=xh(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(l=>ce.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",g).next(b=>ce.forEach(b,R=>{kn(R.userId===d.userId);const U=Cc(this.serializer,R);return nm(e,d.userId,U).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Y((g,b)=>{const R=new hr(g),U=[0,Ir(R)];d.push(r.get(U).next(Z=>Z?ce.resolve():r.put({targetId:0,path:Ir(R),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ce.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:mf});const s=r.store("collectionParents"),l=new em,d=g=>{if(l.add(g)){const b=g.lastSegment(),R=g.popLast();return s.put({collectionId:b,parent:Ir(R)})}};return r.store("remoteDocuments").Y({J:!0},(g,b)=>{const R=new hr(g);return d(R.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([g,b,R],U)=>{const Z=ks(b);return d(Z.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,l)=>{const d=cd(l),g=e_(this.serializer,d);return r.put(g)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.Y((d,g)=>{const b=r.store("remoteDocumentsV14"),R=(ye=g,ye.document?new fn(hr.fromString(ye.document.name).popFirst(5)):ye.noDocument?fn.fromSegments(ye.noDocument.path):ye.unknownDocument?fn.fromSegments(ye.unknownDocument.path):bn()).path.toArray(),U={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var ye;l.push(b.put(U))}).next(()=>ce.waitFor(l))}si(e,r){const s=r.store("mutations"),l=c_(this.serializer),d=new Zf(Qf.Hr,this.serializer.ct);return s.W().next(g=>{const b=new Map;return g.forEach(R=>{var U;let Z=null!==(U=b.get(R.userId))&&void 0!==U?U:mr();Cc(this.serializer,R).keys().forEach(ye=>Z=Z.add(ye)),b.set(R.userId,Z)}),ce.forEach(b,(R,U)=>{const Z=new kr(U),ye=Th.lt(this.serializer,Z),Ye=d.getIndexManager(Z),yt=Wf.lt(Z,this.serializer,Ye,d.referenceDelegate);return new h_(l,yt,ye,Ye).recalculateAndSaveOverlaysForDocumentKeys(new ka(r,Qi._e),R).next()})})}}function m_(i){i.createObjectStore("targetDocuments",{keyPath:Xl}).createIndex("documentTargetsIndex",Kc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yc,{unique:!0}),i.createObjectStore("targetGlobal")}const sl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ac{constructor(e,r,s,l,d,g,b,R,U,Z,ye=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=g,this.document=b,this._i=U,this.ai=Z,this.ui=ye,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ye=>Promise.resolve(),!Ac.D())throw new Ft(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sm(this,l),this.Ti=r+"main",this.serializer=new Jv(R),this.Ei=new On(this.Ti,this.ui,new II(this.serializer)),this.Qr=new s_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=c_(this.serializer),this.$r=new Zg,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===Z&&pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ft(Tt.FAILED_PRECONDITION,sl);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Qi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,W.Z)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,W.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,W.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>um(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(wi(e))return Wt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Nh(e).get("owner").next(r=>ce.resolve(this.Si(r)))}bi(e){return um(e).delete(this.clientId)}Di(){var e=this;return(0,W.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=oo(s,"clientMetadata");return l.W().next(d=>{const g=e.vi(d,18e5),b=d.filter(R=>-1===g.indexOf(R));return ce.forEach(b,R=>l.delete(R.clientId)).next(()=>b)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ce.resolve(!0):Nh(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Ft(Tt.FAILED_PRECONDITION,sl);return!1}}return!(!this.networkEnabled||!this.inForeground)||um(e).W().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Wt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,W.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new ka(r,Qi._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>um(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Wf.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rh(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Th.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Wt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",d=15===(R=this.ui)?Ku:14===R?Ng:13===R?Og:12===R?Yu:11===R?_f:void bn();var R;let g;return this.Ei.runTransaction(e,l,d,b=>(g=new ka(b,this.kr?this.kr.next():Qi._e),"readwrite-primary"===r?this.gi(g).next(R=>!!R||this.pi(g)).next(R=>{if(!R)throw pi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Ft(Tt.FAILED_PRECONDITION,q);return s(g)}).next(R=>this.wi(g).next(()=>R)):this.ki(g).next(()=>s(g)))).then(b=>(g.raiseOnCommittedEvent(),b))}ki(e){return Nh(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ft(Tt.FAILED_PRECONDITION,sl)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nh(e).put("owner",r)}static D(){return On.D()}yi(e){const r=Nh(e);return r.get("owner").next(s=>this.Si(s)?(Wt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ce.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(pi(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,Et.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Wt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return pi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){pi("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nh(i){return oo(i,"owner")}function um(i){return oo(i,"clientMetadata")}function v_(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class __{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=mr(),l=mr();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new __(e,r.fromCache,s,l)}}class qE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EI{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Et.G6)()?8:On.v((0,Et.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const d={result:null};return this.ji(e,r).next(g=>{d.result=g}).next(()=>{if(!d.result)return this.Hi(e,r,l,s).next(g=>{d.result=g})}).next(()=>{if(d.result)return;const g=new qE;return this.Ji(e,r,g).next(b=>{if(d.result=b,this.Ui)return this.Yi(e,r,g,b.size)})}).next(()=>d.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(gs()<=tt.in.DEBUG&&Wt("QueryEngine","SDK will not create cache indexes for query:",fc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ce.resolve()):(gs()<=tt.in.DEBUG&&Wt("QueryEngine","Query:",fc(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(gs()<=tt.in.DEBUG&&Wt("QueryEngine","The SDK decides to create cache indexes for query:",fc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$o(r))):ce.resolve())}ji(e,r){if(cc(r))return ce.resolve(null);let s=$o(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=Ba(r,null,"F"),s=$o(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const g=mr(...d);return this.zi.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,s).next(R=>{const U=this.Zi(r,b);return this.Xi(r,U,g,R.readTime)?this.ji(e,Ba(r,null,"F")):this.es(e,U,r,R)}))})))}Hi(e,r,s,l){return cc(r)||l.isEqual(lt.min())?ce.resolve(null):this.zi.getDocuments(e,s).next(d=>{const g=this.Zi(r,d);return this.Xi(r,g,s,l)?ce.resolve(null):(gs()<=tt.in.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),fc(r)),this.es(e,g,r,C(l,-1)).next(b=>b))})}Zi(e,r){let s=new Jr(jg(e));return r.forEach((l,d)=>{su(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Ji(e,r,s){return gs()<=tt.in.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",fc(r)),this.zi.getDocumentsMatchingQuery(e,r,D.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(d=>(r.forEach(g=>{d=d.insert(g.key,g)}),d))}}class y_{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new mi(Xn),this.rs=new va(d=>Ol(d),ac),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function I_(i,e,r,s){return new y_(i,e,r,s)}function E_(i,e){return cm.apply(this,arguments)}function cm(){return cm=(0,W.Z)(function*(i,e){const r=gn(i);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const g=[],b=[];let R=mr();for(const U of l){g.push(U.batchId);for(const Z of U.mutations)R=R.add(Z.key)}for(const U of d){b.push(U.batchId);for(const Z of U.mutations)R=R.add(Z.key)}return r.localDocuments.getDocuments(s,R).next(U=>({us:U,removedBatchIds:g,addedBatchIds:b}))})})}),cm.apply(this,arguments)}function Jf(i){const e=gn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function _d(i,e,r){let s=mr(),l=mr();return r.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let g=so();return r.forEach((b,R)=>{const U=d.get(b);R.isFoundDocument()!==U.isFoundDocument()&&(l=l.add(b)),R.isNoDocument()&&R.version.isEqual(lt.min())?(e.removeEntry(b,R.readTime),g=g.insert(b,R)):!U.isValidDocument()||R.version.compareTo(U.version)>0||0===R.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(R),g=g.insert(b,R)):Wt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",U.version," Watch version:",R.version)}),{cs:g,ls:l}})}function C_(i,e){const r=gn(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Sc(i,e){const r=gn(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(d=>d?(l=d,ce.resolve(l)):r.Qr.allocateTargetId(s).next(g=>(l=new Vl(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Rc(i,e,r){return D_.apply(this,arguments)}function D_(){return D_=(0,W.Z)(function*(i,e,r){const s=gn(i),l=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!wi(g))throw g;Wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)}),D_.apply(this,arguments)}function dm(i,e,r){const s=gn(i);let l=lt.min(),d=mr();return s.persistence.runTransaction("Execute query","readwrite",g=>function(R,U,Z){const ye=gn(R),Ye=ye.rs.get(Z);return void 0!==Ye?ce.resolve(ye.ns.get(Ye)):ye.Qr.getTargetData(U,Z)}(s,g,$o(e)).next(b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(g,b.targetId).next(R=>{d=R})}).next(()=>s.ts.getDocumentsMatchingQuery(g,e,r?l:lt.min(),r?d:mr())).next(b=>(tp(s,Tf(e),b),{documents:b,hs:d})))}function DI(i,e){const r=gn(i),s=gn(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(g=>g?g.target:null))}function ep(i,e){const r=gn(i),s=r.ss.get(e)||lt.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,C(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(tp(r,e,l),l))}function tp(i,e,r){let s=i.ss.get(e)||lt.min();r.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.ss.set(e,s)}function T_(){return T_=(0,W.Z)(function*(i,e,r,s){const l=gn(i);let d=mr(),g=so();for(const U of r){const Z=e.Ps(U.metadata.name);U.document&&(d=d.add(Z));const ye=e.Is(U);ye.setReadTime(e.Ts(U.metadata.readTime)),g=g.insert(Z,ye)}const b=l.os.newChangeBuffer({trackRemovals:!0}),R=yield Sc(l,(Z=s,$o(ou(hr.fromString(`__bundle__/docs/${Z}`)))));var Z;return l.persistence.runTransaction("Apply bundle documents","readwrite",U=>_d(U,b,g).next(Z=>(b.apply(U),Z)).next(Z=>l.Qr.removeMatchingKeysForTargetId(U,R.targetId).next(()=>l.Qr.addMatchingKeys(U,d,R.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(U,Z.cs,Z.ls)).next(()=>Z.cs)))}),T_.apply(this,arguments)}function w_(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,W.Z)(function*(i,e,r=mr()){const s=yield Sc(i,$o(Yg(e.bundledQuery))),l=gn(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=Li(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.$r.saveNamedQuery(d,e);const b=s.withResumeToken(xi.EMPTY_BYTE_STRING,g);return l.ns=l.ns.insert(b.targetId,b),l.Qr.updateTargetData(d,b).next(()=>l.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>l.$r.saveNamedQuery(d,e))})}),hm.apply(this,arguments)}function b_(i,e){return`firestore_clients_${i}_${e}`}function A_(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function fm(i,e){return`firestore_targets_${i}_${e}`}class kh{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new Ft(l.error.code,l.error.message))),g?new kh(e,r,l.state,d):(pi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cu{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Ft(s.error.code,s.error.message))),d?new Cu(e,s.state,l):(pi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class np{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=hh();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=ca(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new np(e,d):(pi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Fh{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Fh(r.clientId,r.onlineState):(pi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pm{constructor(){this.activeTargetIds=hh()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Du{constructor(e,r,s,l,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new mi(Xn),this.started=!1,this.ys=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=b_(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new pm),this.bs=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,W.Z)(function*(){const r=yield e.syncEngine.Li();for(const l of r){if(l===e.Vs)continue;const d=e.getItem(b_(e.persistenceKey,l));if(d){const g=np.Es(l,d);g&&(e.ps=e.ps.insert(g.clientId,g))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,r,s){this.Bs(e,r,s),this.Ls(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(fm(this.persistenceKey,e));if(s){const l=Cu.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fm(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Ls(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Wt("SharedClientState","READ",e,r),r}setItem(e,r){Wt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Wt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Wt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,W.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(g){let b=Qi._e;if(null!=g)try{const R=JSON.parse(g);kn("number"==typeof R),b=R}catch(R){pi("SharedClientState","Failed to read sequence number from WebStorage",R)}return b}(s.newValue);l!==Qi._e&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,r,s){const l=new kh(this.currentUser,e,r,s),d=A_(this.persistenceKey,this.currentUser,e);this.setItem(d,l.ds())}Ls(e){const r=A_(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=fm(this.persistenceKey,e),d=new Cu(e,r,s);this.setItem(l,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return np.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return kh.Es(new kr(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return Cu.Es(l,r)}xs(e){return Fh.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,W.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Wt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),d=this.Ns(s),g=[],b=[];return d.forEach(R=>{l.has(R)||g.push(R)}),l.forEach(R=>{d.has(R)||b.push(R)}),this.syncEngine.eo(g,b).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=hh();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class S_{constructor(){this.no=new pm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new pm,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TI{io(e){}shutdown(){}}class gm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lh=null;function mm(){return null===Lh?Lh=268435456+Math.round(2147483648*Math.random()):Lh++,"0x"+Lh.toString(16)}const wI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const as="WebChannelConnection";class R_ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${l}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${d}`}get wo(){return!1}So(r,s,l,d,g){const b=mm(),R=this.bo(r,s.toUriEncodedString());Wt("RestConnection",`Sending RPC '${r}' ${b}:`,R,l);const U={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(U,d,g),this.Co(r,R,U,l).then(Z=>(Wt("RestConnection",`Received RPC '${r}' ${b}: `,Z),Z),Z=>{throw Ro("RestConnection",`RPC '${r}' ${b} failed with error: `,Z,"url: ",R,"request:",l),Z})}vo(r,s,l,d,g,b){return this.So(r,s,l,d,g)}Do(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Xa,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,g)=>r[g]=d),l&&l.headers.forEach((d,g)=>r[g]=d)}bo(r,s){return`${this.fo}/v1/${s}:${wI[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,l){const d=mm();return new Promise((g,b)=>{const R=new Hc;R.setWithCredentials(!0),R.listenOnce(Ks.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case Hu.NO_ERROR:const Z=R.getResponseJson();Wt(as,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(Z)),g(Z);break;case Hu.TIMEOUT:Wt(as,`RPC '${e}' ${d} timed out`),b(new Ft(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const ye=R.getStatus();if(Wt(as,`RPC '${e}' ${d} failed with status:`,ye,"response text:",R.getResponseText()),ye>0){let Ye=R.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const yt=null==Ye?void 0:Ye.error;if(yt&&yt.status&&yt.message){const Qt=function(ln){const Bn=ln.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(Bn)>=0?Bn:Tt.UNKNOWN}(yt.status);b(new Ft(Qt,yt.message))}else b(new Ft(Tt.UNKNOWN,"Server responded with status "+R.getStatus()))}else b(new Ft(Tt.UNAVAILABLE,"Connection failed."));break;default:bn()}}finally{Wt(as,`RPC '${e}' ${d} completed.`)}});const U=JSON.stringify(l);Wt(as,`RPC '${e}' ${d} sending request:`,l),R.send(r,"POST",U,s,15)})}Fo(e,r,s){const l=mm(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Zd(),b=Ma(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(R.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(R.useFetchStreams=!0),this.Do(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const Z=d.join("");Wt(as,`Creating RPC '${e}' stream ${l}: ${Z}`,R);const ye=g.createWebChannel(Z,R);let Ye=!1,yt=!1;const Qt=new bI({lo:ln=>{yt?Wt(as,`Not sending because RPC '${e}' stream ${l} is closed:`,ln):(Ye||(Wt(as,`Opening RPC '${e}' stream ${l} transport.`),ye.open(),Ye=!0),Wt(as,`RPC '${e}' stream ${l} sending:`,ln),ye.send(ln))},ho:()=>ye.close()}),mn=(ln,Bn,sr)=>{ln.listen(Bn,jn=>{try{sr(jn)}catch(rr){setTimeout(()=>{throw rr},0)}})};return mn(ye,zu.EventType.OPEN,()=>{yt||Wt(as,`RPC '${e}' stream ${l} transport opened.`)}),mn(ye,zu.EventType.CLOSE,()=>{yt||(yt=!0,Wt(as,`RPC '${e}' stream ${l} transport closed`),Qt.Vo())}),mn(ye,zu.EventType.ERROR,ln=>{yt||(yt=!0,Ro(as,`RPC '${e}' stream ${l} transport errored:`,ln),Qt.Vo(new Ft(Tt.UNAVAILABLE,"The operation could not be completed")))}),mn(ye,zu.EventType.MESSAGE,ln=>{var Bn;if(!yt){const sr=ln.data[0];kn(!!sr);const rr=sr.error||(null===(Bn=sr[0])||void 0===Bn?void 0:Bn.error);if(rr){Wt(as,`RPC '${e}' stream ${l} received error:`,rr);const ii=rr.status;let zr=function(U0){const $y=zi[U0];if(void 0!==$y)return sd($y)}(ii),go=rr.message;void 0===zr&&(zr=Tt.INTERNAL,go="Unknown error status: "+ii+" with message "+rr.message),yt=!0,Qt.Vo(new Ft(zr,go)),ye.close()}else Wt(as,`RPC '${e}' stream ${l} received:`,sr),Qt.mo(sr)}}),mn(b,Qd.STAT_EVENT,ln=>{ln.stat===jc.PROXY?Wt(as,`RPC '${e}' stream ${l} detected buffering proxy`):ln.stat===jc.NOPROXY&&Wt(as,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Qt.Ro()},0),Qt}}function AI(){return typeof window<"u"?window:null}function vm(){return typeof document<"u"?document:null}function $l(i){return new _h(i,!0)}class rp{constructor(e,r,s=1e3,l=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=l,this.Oo=d,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),l=Math.max(0,r-s);l>0&&Wt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class SI{constructor(e,r,s,l,d,g,b,R){this.oi=e,this.$o=s,this.Uo=l,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=R,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new rp(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,W.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,W.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,W.Z)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===Tt.RESOURCE_EXHAUSTED?(pi(r.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===Tt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Wo===r&&this.o_(s,l)},s=>{e(()=>{const l=new Ft(Tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(l)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{s(()=>this.__(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,W.Z)(function*(){e.state=0,e.start()}))}__(e){return Wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(Wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KE extends SI{constructor(e,r,s,l,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function zE(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:bn(),l=e.targetChange.targetIds||[],d=function(U,Z){return U.useProto3Json?(kn(void 0===Z||"string"==typeof Z),xi.fromBase64String(Z||"")):(kn(void 0===Z||Z instanceof Uint8Array),xi.fromUint8Array(Z||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(U){const Z=void 0===U.code?Tt.UNKNOWN:sd(U.code);return new Ft(Z,U.message||"")}(g);r=new ft(s,l,d,b||null)}else if("documentChange"in e){const s=e.documentChange,l=Js(i,s.document.name),d=Li(s.document.updateTime),g=s.document.createTime?Li(s.document.createTime):lt.min(),b=new Bo({mapValue:{fields:s.document.fields}}),R=Oi.newFoundDocument(l,d,g,b);r=new X(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,l=Js(i,s.document),d=s.readTime?Li(s.readTime):lt.min(),g=Oi.newNoDocument(l,d);r=new X([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=Js(i,s.document);r=new X([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return bn();{const s=e.filter,{count:l=0,unchangedNames:d}=s,g=new rl(l,d);r=new $e(s.targetId,g)}}var U;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return lt.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?lt.min():g.readTime?Li(g.readTime):lt.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=yh(this.serializer),r.addTarget=function(d,g){let b;const R=g.target;if(b=Nl(R)?{documents:Qv(d,R)}:{query:ld(d,R).ut},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=Nf(d,g.resumeToken);const U=$s(d,g.expectedCount);null!==U&&(b.expectedCount=U)}else if(g.snapshotVersion.compareTo(lt.min())>0){b.readTime=Xs(d,g.snapshotVersion.toTimestamp());const U=$s(d,g.expectedCount);null!==U&&(b.expectedCount=U)}return b}(this.serializer,e);const s=function Gg(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=yh(this.serializer),r.removeTarget=e,this.t_(r)}}class ip extends SI{constructor(e,r,s,l,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(kn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function GE(i,e){return i&&i.length>0?(kn(void 0!==e),i.map(r=>function(l,d){let g=Li(l.updateTime?l.updateTime:d);return g.isEqual(lt.min())&&(g=Li(d)),new Is(g,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.T_(s,r)}return kn(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=yh(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Vf(this.serializer,s))};this.t_(r)}}class RI extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new Ft(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.So(e,mu(r,s),l,d,g)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ft(Tt.UNKNOWN,d.toString())})}vo(e,r,s,l,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.connection.vo(e,mu(r,s),l,g,b,d)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Ft(Tt.UNKNOWN,g.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class yd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(pi(r),this.g_=!1):Wt("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class op{constructor(e,r,s,l,d){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(b=>{s.enqueueAndForget((0,W.Z)(function*(){var R;Su(g)&&(Wt("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,W.Z)(function*(Z){const ye=gn(Z);ye.v_.add(4),yield al(ye),ye.x_.set("Unknown"),ye.v_.delete(4),yield Tu(ye)}),function U(Z){return R.apply(this,arguments)})(g))}))}),this.x_=new yd(s,l)}}function Tu(i){return wu.apply(this,arguments)}function wu(){return wu=(0,W.Z)(function*(i){if(Su(i))for(const e of i.F_)yield e(!0)}),wu.apply(this,arguments)}function al(i){return bu.apply(this,arguments)}function bu(){return bu=(0,W.Z)(function*(i){for(const e of i.F_)yield e(!1)}),bu.apply(this,arguments)}function Id(i,e){const r=gn(i);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),Pc(r)?Bh(r):Cd(r).Jo()&&Mc(r,e))}function Au(i,e){const r=gn(i),s=Cd(r);r.C_.delete(e),s.Jo()&&MI(r,e),0===r.C_.size&&(s.Jo()?s.Xo():Su(r)&&r.x_.set("Unknown"))}function Mc(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cd(i).c_(e)}function MI(i,e){i.O_.Oe(e),Cd(i).l_(e)}function Bh(i){i.O_=new _n({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Cd(i).start(),i.x_.p_()}function Pc(i){return Su(i)&&!Cd(i).Ho()&&i.C_.size>0}function Su(i){return 0===gn(i).v_.size}function ym(i){i.O_=void 0}function PI(i){return Im.apply(this,arguments)}function Im(){return Im=(0,W.Z)(function*(i){i.C_.forEach((e,r)=>{Mc(i,e)})}),Im.apply(this,arguments)}function Em(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,W.Z)(function*(i,e){ym(i),Pc(i)?(i.x_.S_(e),Bh(i)):i.x_.set("Unknown")}),sp.apply(this,arguments)}function xI(i,e,r){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,W.Z)(function*(i,e,r){if(i.x_.set("Online"),e instanceof ft&&2===e.state&&e.cause)try{yield(s=(0,W.Z)(function*(d,g){const b=g.cause;for(const R of g.targetIds)d.C_.has(R)&&(yield d.remoteSyncer.rejectListen(R,b),d.C_.delete(R),d.O_.removeTarget(R))}),function l(d,g){return s.apply(this,arguments)})(i,e)}catch(s){Wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ul(i,s)}else if(e instanceof X?i.O_.$e(e):e instanceof $e?i.O_.Je(e):i.O_.Ge(e),!r.isEqual(lt.min()))try{const s=yield Jf(i.localStore);r.compareTo(s)>=0&&(yield function(d,g){const b=d.O_.it(g);return b.targetChanges.forEach((R,U)=>{if(R.resumeToken.approximateByteSize()>0){const Z=d.C_.get(U);Z&&d.C_.set(U,Z.withResumeToken(R.resumeToken,g))}}),b.targetMismatches.forEach((R,U)=>{const Z=d.C_.get(R);if(!Z)return;d.C_.set(R,Z.withResumeToken(xi.EMPTY_BYTE_STRING,Z.snapshotVersion)),MI(d,R);const ye=new Vl(Z.target,R,U,Z.sequenceNumber);Mc(d,ye)}),d.remoteSyncer.applyRemoteEvent(b)}(i,r))}catch(s){Wt("RemoteStore","Failed to raise snapshot:",s),yield Ul(i,s)}var s}),Cm.apply(this,arguments)}function Ul(i,e,r){return ap.apply(this,arguments)}function ap(){return ap=(0,W.Z)(function*(i,e,r){if(!wi(e))throw e;i.v_.add(1),yield al(i),i.x_.set("Offline"),r||(r=()=>Jf(i.localStore)),i.asyncQueue.enqueueRetryable((0,W.Z)(function*(){Wt("RemoteStore","Retrying IndexedDB access"),yield r(),i.v_.delete(1),yield Tu(i)}))}),ap.apply(this,arguments)}function lp(i,e){return e().catch(r=>Ul(i,r,e))}function xc(i){return M_.apply(this,arguments)}function M_(){return M_=(0,W.Z)(function*(i){const e=gn(i),r=ea(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;ZE(e);)try{const l=yield C_(e.localStore,s);if(null===l){0===e.D_.length&&r.Xo();break}s=l.batchId,$h(e,l)}catch(l){yield Ul(e,l)}P_(e)&&Uh(e)}),M_.apply(this,arguments)}function ZE(i){return Su(i)&&i.D_.length<10}function $h(i,e){i.D_.push(e);const r=ea(i);r.Jo()&&r.P_&&r.I_(e.mutations)}function P_(i){return Su(i)&&!ea(i).Ho()&&i.D_.length>0}function Uh(i){ea(i).start()}function Dm(i){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,W.Z)(function*(i){ea(i).d_()}),Tm.apply(this,arguments)}function x_(i){return jh.apply(this,arguments)}function jh(){return jh=(0,W.Z)(function*(i){const e=ea(i);for(const r of i.D_)e.I_(r.mutations)}),jh.apply(this,arguments)}function up(i,e,r){return wm.apply(this,arguments)}function wm(){return wm=(0,W.Z)(function*(i,e,r){const s=i.D_.shift(),l=Uo.from(s,e,r);yield lp(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield xc(i)}),wm.apply(this,arguments)}function O_(i,e){return bm.apply(this,arguments)}function bm(){return bm=(0,W.Z)(function*(i,e){var r;e&&ea(i).P_&&(yield(r=(0,W.Z)(function*(l,d){if(xf(b=d.code)&&b!==Tt.ABORTED){const g=l.D_.shift();ea(l).Zo(),yield lp(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,d)),yield xc(l)}var b}),function s(l,d){return r.apply(this,arguments)})(i,e)),P_(i)&&Uh(i)}),bm.apply(this,arguments)}function Am(i,e){return N_.apply(this,arguments)}function N_(){return N_=(0,W.Z)(function*(i,e){const r=gn(i);r.asyncQueue.verifyOperationInProgress(),Wt("RemoteStore","RemoteStore received new credentials");const s=Su(r);r.v_.add(3),yield al(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield Tu(r)}),N_.apply(this,arguments)}function Sm(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,W.Z)(function*(i,e){const r=gn(i);e?(r.v_.delete(2),yield Tu(r)):e||(r.v_.add(2),yield al(r),r.x_.set("Unknown"))}),Ed.apply(this,arguments)}function Cd(i){return i.N_||(i.N_=function(r,s,l){const d=gn(r);return d.R_(),new KE(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{Po:PI.bind(null,i),To:Em.bind(null,i),u_:xI.bind(null,i)}),i.F_.push(function(){var e=(0,W.Z)(function*(r){r?(i.N_.Zo(),Pc(i)?Bh(i):i.x_.set("Unknown")):(yield i.N_.stop(),ym(i))});return function(r){return e.apply(this,arguments)}}())),i.N_}function ea(i){return i.B_||(i.B_=function(r,s,l){const d=gn(r);return d.R_(),new ip(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{Po:Dm.bind(null,i),To:O_.bind(null,i),E_:x_.bind(null,i),T_:up.bind(null,i)}),i.F_.push(function(){var e=(0,W.Z)(function*(r){r?(i.B_.Zo(),yield xc(i)):(yield i.B_.stop(),i.D_.length>0&&(Wt("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(r){return e.apply(this,arguments)}}())),i.B_}class Oc{constructor(e,r,s,l,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,d){const g=Date.now()+s,b=new Oc(e,r,g,l,d);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ft(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(i,e){if(pi("AsyncQueue",`${e}: ${i}`),wi(i))return new Ft(Tt.UNAVAILABLE,`${e}: ${i}`);throw i}class Nc{constructor(e){this.comparator=e?(r,s)=>e(r,s)||fn.comparator(r.key,s.key):(r,s)=>fn.comparator(r.key,s.key),this.keyedMap=Ua(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new Nc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Nc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Nc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class k_{constructor(){this.L_=new mi(fn.comparator)}track(e){const r=e.doc.key,s=this.L_.get(r);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(r,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(r):1===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):bn():this.L_=this.L_.insert(r,e)}k_(){const e=[];return this.L_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Td{constructor(e,r,s,l,d,g,b,R,U){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=R,this.hasCachedResults=U}static fromInitialDocuments(e,r,s,l,d){const g=[];return r.forEach(b=>{g.push({type:0,doc:b})}),new Td(e,r,Nc.emptySet(r),g,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class OI{constructor(){this.q_=void 0,this.Q_=[]}}class Rm{constructor(){this.queries=new va(e=>ed(e),$a),this.onlineState="Unknown",this.K_=new Set}}function Mm(i,e){return F_.apply(this,arguments)}function F_(){return F_=(0,W.Z)(function*(i,e){const r=gn(i),s=e.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new OI),l)try{d.q_=yield r.onListen(s)}catch(g){const b=Dd(g,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(b)}r.queries.set(s,d),d.Q_.push(e),e.U_(r.onlineState),d.q_&&e.W_(d.q_)&&wd(r)}),F_.apply(this,arguments)}function L_(i,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,W.Z)(function*(i,e){const r=gn(i),s=e.query;let l=!1;const d=r.queries.get(s);if(d){const g=d.Q_.indexOf(e);g>=0&&(d.Q_.splice(g,1),l=0===d.Q_.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)}),Pm.apply(this,arguments)}function NI(i,e){const r=gn(i);let s=!1;for(const l of e){const g=r.queries.get(l.query);if(g){for(const b of g.Q_)b.W_(l)&&(s=!0);g.q_=l}}s&&wd(r)}function QE(i,e,r){const s=gn(i),l=s.queries.get(e);if(l)for(const d of l.Q_)d.onError(r);s.queries.delete(e)}function wd(i){i.K_.forEach(e=>{e.next()})}class xm{constructor(e,r,s){this.query=e,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Td(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.z_?this.H_(e)&&(this.G_.next(e),r=!0):this.J_(e,this.onlineState)&&(this.Y_(e),r=!0),this.j_=e,r}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),r=!0),r}J_(e,r){return!e.fromCache||(!this.options.Z_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class kI{constructor(e,r){this.X_=e,this.byteLength=r}ea(){return"metadata"in this.X_}}class cp{constructor(e){this.serializer=e}Ps(e){return Js(this.serializer,e)}Is(e){return e.metadata.exists?Lf(this.serializer,e.document,!1):Oi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Li(e)}}class V_{constructor(e,r,s){this.ta=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=B_(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++r;const s=hr.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ra(e){const r=new Map,s=new cp(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.Ps(l.metadata.name);for(const g of l.metadata.queries){const b=(r.get(g)||mr()).add(d);r.set(g,b)}}return r}complete(){var e=this;return(0,W.Z)(function*(){const r=yield function YE(i,e,r,s){return T_.apply(this,arguments)}(e.localStore,new cp(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const l of e.queries)yield w_(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:r}})()}}function B_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class $_{constructor(e){this.key=e}}class U_{constructor(e){this.key=e}}class j_{constructor(e,r){this.query=e,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=mr(),this.mutatedKeys=mr(),this.ua=jg(e),this.ca=new Nc(this.ua)}get la(){return this.oa}ha(e,r){const s=r?r.Pa:new k_,l=r?r.ca:this.ca;let d=r?r.mutatedKeys:this.mutatedKeys,g=l,b=!1;const R="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,U="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Z,ye)=>{const Ye=l.get(Z),yt=su(this.query,ye)?ye:null,Qt=!!Ye&&this.mutatedKeys.has(Ye.key),mn=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let ln=!1;Ye&&yt?Ye.data.isEqual(yt.data)?Qt!==mn&&(s.track({type:3,doc:yt}),ln=!0):this.Ia(Ye,yt)||(s.track({type:2,doc:yt}),ln=!0,(R&&this.ua(yt,R)>0||U&&this.ua(yt,U)<0)&&(b=!0)):!Ye&&yt?(s.track({type:0,doc:yt}),ln=!0):Ye&&!yt&&(s.track({type:1,doc:Ye}),ln=!0,(R||U)&&(b=!0)),ln&&(yt?(g=g.add(yt),d=mn?d.add(Z):d.delete(Z)):(g=g.delete(Z),d=d.delete(Z)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const Z="F"===this.query.limitType?g.last():g.first();g=g.delete(Z.key),d=d.delete(Z.key),s.track({type:1,doc:Z})}return{ca:g,Pa:s,Xi:b,mutatedKeys:d}}Ia(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const d=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const g=e.Pa.k_();g.sort((Z,ye)=>function(yt,Qt){const mn=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bn()}};return mn(yt)-mn(Qt)}(Z.type,ye.type)||this.ua(Z.doc,ye.doc)),this.Ta(s),l=null!=l&&l;const b=r&&!l?this.Ea():[],R=0===this.aa.size&&this.current&&!l?1:0,U=R!==this._a;return this._a=R,0!==g.length||U?{snapshot:new Td(this.query,e.ca,d,g,e.mutatedKeys,0===R,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:b}:{da:b}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new k_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=mr(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const r=[];return e.forEach(s=>{this.aa.has(s)||r.push(new U_(s))}),this.aa.forEach(s=>{e.has(s)||r.push(new $_(s))}),r}Ra(e){this.oa=e.hs,this.aa=mr();const r=this.ha(e.documents);return this.applyChanges(r,!0)}Va(){return Td.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class H_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class z_{constructor(e){this.key=e,this.ma=!1}}class G_{constructor(e,r,s,l,d,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.fa={},this.ga=new va(b=>ed(b),$a),this.pa=new Map,this.ya=new Set,this.wa=new mi(fn.comparator),this.Sa=new Map,this.ba=new am,this.Da={},this.Ca=new Map,this.va=yu.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function FI(i,e){return Om.apply(this,arguments)}function Om(){return Om=(0,W.Z)(function*(i,e){const r=Rd(i);let s,l;const d=r.ga.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Va();else{const g=yield Sc(r.localStore,$o(e)),b=r.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield dp(r,e,s,"current"===b,g.resumeToken),r.isPrimaryClient&&Id(r.remoteStore,g)}return l}),Om.apply(this,arguments)}function dp(i,e,r,s,l){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,W.Z)(function*(i,e,r,s,l){i.Ma=(ye,Ye,yt)=>{return(Qt=(0,W.Z)(function*(ln,Bn,sr,jn){let rr=Bn.view.ha(sr);rr.Xi&&(rr=yield dm(ln.localStore,Bn.query,!1).then(({documents:Hs})=>Bn.view.ha(Hs,rr)));const ii=jn&&jn.targetChanges.get(Bn.targetId),zr=jn&&null!=jn.targetMismatches.get(Bn.targetId),go=Bn.view.applyChanges(rr,ln.isPrimaryClient,ii,zr);return ll(ln,Bn.targetId,go.da),go.snapshot}),function mn(ln,Bn,sr,jn){return Qt.apply(this,arguments)})(i,ye,Ye,yt);var Qt};const d=yield dm(i.localStore,e,!0),g=new j_(e,d.hs),b=g.ha(d.documents),R=V.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState,l),U=g.applyChanges(b,i.isPrimaryClient,R);ll(i,r,U.da);const Z=new H_(e,r,g);return i.ga.set(e,Z),i.pa.has(r)?i.pa.get(r).push(e):i.pa.set(r,[e]),U.snapshot}),Hh.apply(this,arguments)}function XE(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,W.Z)(function*(i,e){const r=gn(i),s=r.ga.get(e),l=r.pa.get(s.targetId);if(l.length>1)return r.pa.set(s.targetId,l.filter(d=>!$a(d,e))),void r.ga.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Rc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Au(r.remoteStore,s.targetId),zh(r,s.targetId)}).catch(st))):(zh(r,s.targetId),yield Rc(r.localStore,s.targetId,!0))}),hp.apply(this,arguments)}function km(){return km=(0,W.Z)(function*(i,e,r){const s=Ru(i);try{const l=yield function(g,b){const R=gn(g),U=ni.now(),Z=b.reduce((yt,Qt)=>yt.add(Qt.key),mr());let ye,Ye;return R.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let Qt=so(),mn=mr();return R.os.getEntries(yt,Z).next(ln=>{Qt=ln,Qt.forEach((Bn,sr)=>{sr.isValidDocument()||(mn=mn.add(Bn))})}).next(()=>R.localDocuments.getOverlayedDocuments(yt,Qt)).next(ln=>{ye=ln;const Bn=[];for(const sr of b){const jn=Sf(sr,ye.get(sr.key).overlayedDocument);null!=jn&&Bn.push(new ya(sr.key,jn,Lg(jn.value.mapValue),di.exists(!0)))}return R.mutationQueue.addMutationBatch(yt,U,Bn,b)}).next(ln=>{Ye=ln;const Bn=ln.applyToLocalDocumentSet(ye,mn);return R.documentOverlayCache.saveOverlays(yt,ln.batchId,Bn)})}).then(()=>({batchId:Ye.batchId,changes:Fl(ye)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(g,b,R){let U=g.Da[g.currentUser.toKey()];U||(U=new mi(Xn)),U=U.insert(b,R),g.Da[g.currentUser.toKey()]=U}(s,l.batchId,r),yield ul(s,l.changes),yield xc(s.remoteStore)}catch(l){const d=Dd(l,"Failed to persist write");r.reject(d)}}),km.apply(this,arguments)}function bd(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,W.Z)(function*(i,e){const r=gn(i);try{const s=yield function Bl(i,e){const r=gn(i),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const b=[];e.targetChanges.forEach((Z,ye)=>{const Ye=l.get(ye);if(!Ye)return;b.push(r.Qr.removeMatchingKeys(d,Z.removedDocuments,ye).next(()=>r.Qr.addMatchingKeys(d,Z.addedDocuments,ye)));let yt=Ye.withSequenceNumber(d.currentSequenceNumber);var mn,ln,Bn;null!==e.targetMismatches.get(ye)?yt=yt.withResumeToken(xi.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):Z.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(Z.resumeToken,s)),l=l.insert(ye,yt),ln=yt,Bn=Z,(0===(mn=Ye).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-mn.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&b.push(r.Qr.updateTargetData(d,yt))});let R=so(),U=mr();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(d,Z))}),b.push(_d(d,g,e.documentUpdates).next(Z=>{R=Z.cs,U=Z.ls})),!s.isEqual(lt.min())){const Z=r.Qr.getLastRemoteSnapshotVersion(d).next(ye=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));b.push(Z)}return ce.waitFor(b).next(()=>g.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,R,U)).next(()=>R)}).then(d=>(r.ns=l,d))}(r.localStore,e);e.targetChanges.forEach((l,d)=>{const g=r.Sa.get(d);g&&(kn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.ma=!0:l.modifiedDocuments.size>0?kn(g.ma):l.removedDocuments.size>0&&(kn(g.ma),g.ma=!1))}),yield ul(r,s,e)}catch(s){yield st(s)}}),fp.apply(this,arguments)}function Fm(i,e,r){const s=gn(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ga.forEach((d,g)=>{const b=g.view.U_(e);b.snapshot&&l.push(b.snapshot)}),function(g,b){const R=gn(g);R.onlineState=b;let U=!1;R.queries.forEach((Z,ye)=>{for(const Ye of ye.Q_)Ye.U_(b)&&(U=!0)}),U&&wd(R)}(s.eventManager,e),l.length&&s.fa.u_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function LI(i,e,r){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,W.Z)(function*(i,e,r){const s=gn(i);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Sa.get(e),d=l&&l.key;if(d){let g=new mi(fn.comparator);g=g.insert(d,Oi.newNoDocument(d,lt.min()));const b=mr().add(d),R=new I(lt.min(),new Map,new mi(Xn),g,b);yield bd(s,R),s.wa=s.wa.remove(d),s.Sa.delete(e),Ad(s)}else yield Rc(s.localStore,e,!1).then(()=>zh(s,e,r)).catch(st)}),Lm.apply(this,arguments)}function VI(i,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,W.Z)(function*(i,e){const r=gn(i),s=e.batch.batchId;try{const l=yield function CI(i,e){const r=gn(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(b,R,U,Z){const ye=U.batch,Ye=ye.keys();let yt=ce.resolve();return Ye.forEach(Qt=>{yt=yt.next(()=>Z.getEntry(R,Qt)).next(mn=>{const ln=U.docVersions.get(Qt);kn(null!==ln),mn.version.compareTo(ln)<0&&(ye.applyToRemoteDocument(mn,U),mn.isValidDocument()&&(mn.setReadTime(U.commitVersion),Z.addEntry(mn)))})}),yt.next(()=>b.mutationQueue.removeMutationBatch(R,ye))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let R=mr();for(let U=0;U<b.mutationResults.length;++U)b.mutationResults[U].transformResults.length>0&&(R=R.add(b.batch.mutations[U].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);mp(r,s,null),gp(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield ul(r,l)}catch(l){yield st(l)}}),Vm.apply(this,arguments)}function BI(i,e,r){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,W.Z)(function*(i,e,r){const s=gn(i);try{const l=yield function(g,b){const R=gn(g);return R.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let Z;return R.mutationQueue.lookupMutationBatch(U,b).next(ye=>(kn(null!==ye),Z=ye.keys(),R.mutationQueue.removeMutationBatch(U,ye))).next(()=>R.mutationQueue.performConsistencyCheck(U)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(U,Z,b)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,Z)).next(()=>R.localDocuments.getDocuments(U,Z))})}(s.localStore,e);mp(s,e,r),gp(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield ul(s,l)}catch(l){yield st(l)}}),Bm.apply(this,arguments)}function pp(){return pp=(0,W.Z)(function*(i,e){const r=gn(i);Su(r.remoteStore)||Wt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const b=gn(g);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>b.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Ca.get(s)||[];l.push(e),r.Ca.set(s,l)}catch(s){const l=Dd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),pp.apply(this,arguments)}function gp(i,e){(i.Ca.get(e)||[]).forEach(r=>{r.resolve()}),i.Ca.delete(e)}function mp(i,e,r){const s=gn(i);let l=s.Da[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(r?d.reject(r):d.resolve(),l=l.remove(e)),s.Da[s.currentUser.toKey()]=l}}function zh(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.pa.get(e))i.ga.delete(s),r&&i.fa.xa(s,r);i.pa.delete(e),i.isPrimaryClient&&i.ba.Vr(e).forEach(s=>{i.ba.containsKey(s)||vp(i,s)})}function vp(i,e){i.ya.delete(e.path.canonicalString());const r=i.wa.get(e);null!==r&&(Au(i.remoteStore,r),i.wa=i.wa.remove(e),i.Sa.delete(r),Ad(i))}function ll(i,e,r){for(const s of r)s instanceof $_?(i.ba.addReference(s.key,e),q_(i,s)):s instanceof U_?(Wt("SyncEngine","Document no longer in limbo: "+s.key),i.ba.removeReference(s.key,e),i.ba.containsKey(s.key)||vp(i,s.key)):bn()}function q_(i,e){const r=e.key,s=r.path.canonicalString();i.wa.get(r)||i.ya.has(s)||(Wt("SyncEngine","New document in limbo: "+r),i.ya.add(s),Ad(i))}function Ad(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const e=i.ya.values().next().value;i.ya.delete(e);const r=new fn(hr.fromString(e)),s=i.va.next();i.Sa.set(s,new z_(r)),i.wa=i.wa.insert(r,s),Id(i.remoteStore,new Vl($o(ou(r.path)),s,"TargetPurposeLimboResolution",Qi._e))}}function ul(i,e,r){return _p.apply(this,arguments)}function _p(){return _p=(0,W.Z)(function*(i,e,r){const s=gn(i),l=[],d=[],g=[];var b;s.ga.isEmpty()||(s.ga.forEach((b,R)=>{g.push(s.Ma(R,e,r).then(U=>{if((U||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,null!=U&&U.fromCache?"not-current":"current"),U){l.push(U);const Z=__.Ki(R.targetId,U);d.push(Z)}}))}),yield Promise.all(g),s.fa.u_(l),yield(b=(0,W.Z)(function*(U,Z){const ye=gn(U);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ye=>ce.forEach(Z,yt=>ce.forEach(yt.qi,Qt=>ye.persistence.referenceDelegate.addReference(Ye,yt.targetId,Qt)).next(()=>ce.forEach(yt.Qi,Qt=>ye.persistence.referenceDelegate.removeReference(Ye,yt.targetId,Qt)))))}catch(Ye){if(!wi(Ye))throw Ye;Wt("LocalStore","Failed to update sequence numbers: "+Ye)}for(const Ye of Z){const yt=Ye.targetId;if(!Ye.fromCache){const Qt=ye.ns.get(yt),ln=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);ye.ns=ye.ns.insert(yt,ln)}}}),function R(U,Z){return b.apply(this,arguments)})(s.localStore,d))}),_p.apply(this,arguments)}function $I(i,e){return $m.apply(this,arguments)}function $m(){return $m=(0,W.Z)(function*(i,e){const r=gn(i);if(!r.currentUser.isEqual(e)){Wt("SyncEngine","User change. New user:",e.toKey());const s=yield E_(r.localStore,e);r.currentUser=e,(d=r).Ca.forEach(b=>{b.forEach(R=>{R.reject(new Ft(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ca.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ul(r,s.us)}var d}),$m.apply(this,arguments)}function UI(i,e){const r=gn(i),s=r.Sa.get(e);if(s&&s.ma)return mr().add(s.key);{let l=mr();const d=r.pa.get(e);if(!d)return l;for(const g of d){const b=r.ga.get(g);l=l.unionWith(b.view.la)}return l}}function jI(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,W.Z)(function*(i,e){const r=gn(i),s=yield dm(r.localStore,e.query,!0),l=e.view.Ra(s);return r.isPrimaryClient&&ll(r,e.targetId,l.da),l}),yp.apply(this,arguments)}function JE(i,e){return Um.apply(this,arguments)}function Um(){return Um=(0,W.Z)(function*(i,e){const r=gn(i);return ep(r.localStore,e).then(s=>ul(r,s))}),Um.apply(this,arguments)}function eC(i,e,r,s){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,W.Z)(function*(i,e,r,s){const l=gn(i),d=yield function(b,R){const U=gn(b),Z=gn(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ye=>Z.vn(ye,R).next(Ye=>Ye?U.localDocuments.getDocuments(ye,Ye):ce.resolve(null)))}(l.localStore,e);var R;null!==d?("pending"===r?yield xc(l.remoteStore):"acknowledged"===r||"rejected"===r?(mp(l,e,s||null),gp(l,e),R=e,gn(gn(l.localStore).mutationQueue).Mn(R)):bn(),yield ul(l,d)):Wt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Y_.apply(this,arguments)}function Ip(){return Ip=(0,W.Z)(function*(i,e){const r=gn(i);if(Rd(r),Ru(r),!0===e&&!0!==r.Fa){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield HI(r,s.toArray());r.Fa=!0,yield Sm(r.remoteStore,!0);for(const d of l)Id(r.remoteStore,d)}else if(!1===e&&!1!==r.Fa){const s=[];let l=Promise.resolve();r.pa.forEach((d,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(zh(r,g),Rc(r.localStore,g,!0))),Au(r.remoteStore,g)}),yield l,yield HI(r,s),function(g){const b=gn(g);b.Sa.forEach((R,U)=>{Au(b.remoteStore,U)}),b.ba.mr(),b.Sa=new Map,b.wa=new mi(fn.comparator)}(r),r.Fa=!1,yield Sm(r.remoteStore,!1)}}),Ip.apply(this,arguments)}function HI(i,e,r){return ur.apply(this,arguments)}function ur(){return ur=(0,W.Z)(function*(i,e,r){const s=gn(i),l=[],d=[];for(const g of e){let b;const R=s.pa.get(g);if(R&&0!==R.length){b=yield Sc(s.localStore,$o(R[0]));for(const U of R){const Z=s.ga.get(U),ye=yield jI(s,Z);ye.snapshot&&d.push(ye.snapshot)}}else{const U=yield DI(s.localStore,g);b=yield Sc(s.localStore,U),yield dp(s,jm(U),g,!1,b.resumeToken)}l.push(b)}return s.fa.u_(d),l}),ur.apply(this,arguments)}function jm(i){return uc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Z_(i){return r=gn(i).localStore,gn(gn(r).persistence).Li();var r}function Sd(i,e,r,s){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,W.Z)(function*(i,e,r,s){const l=gn(i);if(l.Fa)return void Wt("SyncEngine","Ignoring unexpected query state notification.");const d=l.pa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const g=yield ep(l.localStore,Tf(d[0])),b=I.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,xi.EMPTY_BYTE_STRING);yield ul(l,g,b);break}case"rejected":yield Rc(l.localStore,e,!0),zh(l,e,s);break;default:bn()}}),Ep.apply(this,arguments)}function Q_(i,e,r){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,W.Z)(function*(i,e,r){const s=Rd(i);if(s.Fa){for(const l of e){if(s.pa.has(l)){Wt("SyncEngine","Adding an already active target "+l);continue}const d=yield DI(s.localStore,l),g=yield Sc(s.localStore,d);yield dp(s,jm(d),g.targetId,!1,g.resumeToken),Id(s.remoteStore,g)}for(const l of r)s.pa.has(l)&&(yield Rc(s.localStore,l,!1).then(()=>{Au(s.remoteStore,l),zh(s,l)}).catch(st))}}),Hm.apply(this,arguments)}function Rd(i){const e=gn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=bd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LI.bind(null,e),e.fa.u_=NI.bind(null,e.eventManager),e.fa.xa=QE.bind(null,e.eventManager),e}function Ru(i){const e=gn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BI.bind(null,e),e}class jl{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,W.Z)(function*(){r.serializer=$l(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return I_(this.persistence,new EI,e.initialUser,this.serializer)}createPersistence(e){return new Zf(Qf.Hr,this.serializer)}createSharedClientState(e){return new S_}terminate(){var e=this;return(0,W.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gh extends jl{constructor(e,r,s){super(),this.Na=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,W.Z)(function*(){yield r().call(s,e),yield s.Na.initialize(s,e),yield Ru(s.Na.syncEngine),yield xc(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return I_(this.persistence,new EI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new qf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Ql(r,this.persistence);return new el(e.asyncQueue,s)}createPersistence(e){const r=v_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new Ac(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,AI(),vm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new S_}}class Cp extends Gh{constructor(e,r){super(e,r,!1),this.Na=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,W.Z)(function*(){yield r().call(s,e);const l=s.Na.syncEngine;s.sharedClientState instanceof Du&&(s.sharedClientState.syncEngine={Zs:eC.bind(null,l),Xs:Sd.bind(null,l),eo:Q_.bind(null,l),Li:Z_.bind(null,l),Ys:JE.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,W.Z)(function*(g){yield function K_(i,e){return Ip.apply(this,arguments)}(s.Na.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=AI();if(!Du.D(r))throw new Ft(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=v_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Du(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Mu{initialize(e,r){var s=this;return(0,W.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Fm(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=$I.bind(null,s.syncEngine),yield Sm(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rm}createDatastore(e){const r=$l(e.databaseInfo.databaseId),s=new R_(e.databaseInfo);return new RI(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,d=e.asyncQueue,g=r=>Fm(this.syncEngine,r,0),b=gm.D()?new gm:new TI,new op(s,l,d,g,b);var s,l,d,g,b}createSyncEngine(e,r){return function(l,d,g,b,R,U,Z){const ye=new G_(l,d,g,b,R,U);return Z&&(ye.Fa=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,W.Z)(function*(){var r,s;yield(s=(0,W.Z)(function*(d){const g=gn(d);Wt("RemoteStore","RemoteStore shutting down."),g.v_.add(5),yield al(g),g.M_.shutdown(),g.x_.set("Unknown")}),function l(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Gm(i,e=10240){let r=0;return{read:()=>(0,W.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,W.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Md{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class zI{constructor(e,r){this.ka=e,this.serializer=r,this.metadata=new Ti,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,W.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,W.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,W.Z)(function*(){const r=yield e.Ka();if(null===r)return null;const s=e.qa.decode(r),l=Number(s);isNaN(l)&&e.$a(`length string (${s}) is not valid number`);const d=yield e.Ua(l);return new kI(JSON.parse(d),r.length+l)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,W.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const r=e.Wa();r<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ua(e){var r=this;return(0,W.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ga())&&r.$a("Reached the end of bundle when more is expected.");const s=r.qa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,W.Z)(function*(){const r=yield e.ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class GI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,W.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ft(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,W.Z)(function*(g,b){const R=gn(g),U={documents:b.map(yt=>vu(R.serializer,yt))},Z=yield R.vo("BatchGetDocuments",R.serializer.databaseId,hr.emptyPath(),U,b.length),ye=new Map;Z.forEach(yt=>{const Qt=function HE(i,e){return"found"in e?function(s,l){kn(!!l.found);const d=Js(s,l.found.name),g=Li(l.found.updateTime),b=l.found.createTime?Li(l.found.createTime):lt.min(),R=new Bo({mapValue:{fields:l.found.fields}});return Oi.newFoundDocument(d,g,b,R)}(i,e):"missing"in e?function(s,l){kn(!!l.missing),kn(!!l.readTime);const d=Js(s,l.missing),g=Li(l.readTime);return Oi.newNoDocument(d,g)}(i,e):bn()}(R.serializer,yt);ye.set(Qt.key.toString(),Qt)});const Ye=[];return b.forEach(yt=>{const Qt=ye.get(yt.toString());kn(!!Qt),Ye.push(Qt)}),Ye}),function d(g,b){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new du(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,W.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=fn.fromPath(l);e.mutations.push(new xo(d,e.precondition(d)))}),yield(s=(0,W.Z)(function*(d,g){const b=gn(d),R={writes:g.map(U=>Vf(b.serializer,U))};yield b.So("Commit",b.serializer.databaseId,hr.emptyPath(),R)}),function l(d,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw bn();r=lt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Ft(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(lt.min())?di.exists(!1):di.updateTime(r):di.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(lt.min()))throw new Ft(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(r)}return di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WI{constructor(e,r,s,l,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=d,this.za=s.maxAttempts,this.jo=new rp(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,W.Z)(function*(){const r=new GI(e.datastore),s=e.Ja(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Ya(d)}))}).catch(l=>{e.Ya(l)})}))}Ja(e){try{const r=this.updateFunction(e);return!El(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!xf(r)}return!1}}class J_{constructor(e,r,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=kr.UNAUTHENTICATED,this.clientId=th.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,W.Z)(function*(b){Wt("FirestoreClient","Received user=",b.uid),yield d.authCredentialListener(b),d.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Wt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ft(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=Dd(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Dp(i,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,W.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Wt("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,W.Z)(function*(d){s.isEqual(d)||(yield E_(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Wm.apply(this,arguments)}function qm(i,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,W.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Tp(i);Wt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>Am(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>Am(e.remoteStore,l)),i._onlineComponents=e}),Ym.apply(this,arguments)}function Km(i){return"FirebaseError"===i.name?i.code===Tt.FAILED_PRECONDITION||i.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Tp(i){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,W.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Wt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dp(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Km(r))throw r;Ro("Error using user provided cache. Falling back to memory cache: "+r),yield Dp(i,new jl)}}else Wt("FirestoreClient","Using default OfflineComponentProvider"),yield Dp(i,new jl);return i._offlineComponents}),Zm.apply(this,arguments)}function wp(i){return Es.apply(this,arguments)}function Es(){return Es=(0,W.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Wt("FirestoreClient","Using user provided OnlineComponentProvider"),yield qm(i,i._uninitializedComponentsProvider._online)):(Wt("FirestoreClient","Using default OnlineComponentProvider"),yield qm(i,new Mu))),i._onlineComponents}),Es.apply(this,arguments)}function ey(i){return Tp(i).then(e=>e.persistence)}function Pd(i){return Tp(i).then(e=>e.localStore)}function qI(i){return wp(i).then(e=>e.remoteStore)}function Wh(i){return wp(i).then(e=>e.syncEngine)}function xd(i){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,W.Z)(function*(i){const e=yield wp(i),r=e.eventManager;return r.onListen=FI.bind(null,e.syncEngine),r.onUnlisten=XE.bind(null,e.syncEngine),r}),Xm.apply(this,arguments)}function ny(i,e,r={}){const s=new Ti;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(d,g,b,R,U){const Z=new Md({next:Ye=>{g.enqueueAndForget(()=>L_(d,ye));const yt=Ye.docs.has(b);!yt&&Ye.fromCache?U.reject(new Ft(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&Ye.fromCache&&R&&"server"===R.source?U.reject(new Ft(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ye)},error:Ye=>U.reject(Ye)}),ye=new xm(ou(b.path),Z,{includeMetadataChanges:!0,Z_:!0});return Mm(d,ye)}(yield xd(i),i.asyncQueue,e,r,s)})),s.promise}function ry(i,e,r={}){const s=new Ti;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(d,g,b,R,U){const Z=new Md({next:Ye=>{g.enqueueAndForget(()=>L_(d,ye)),Ye.fromCache&&"server"===R.source?U.reject(new Ft(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ye)},error:Ye=>U.reject(Ye)}),ye=new xm(b,Z,{includeMetadataChanges:!0,Z_:!0});return Mm(d,ye)}(yield xd(i),i.asyncQueue,e,r,s)})),s.promise}function iy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const oy=new Map;function bp(i,e,r){if(!r)throw new Ft(Tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tv(i,e,r,s){if(!0===e&&!0===s)throw new Ft(Tt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function qh(i){if(!fn.isDocumentKey(i))throw new Ft(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ap(i){if(fn.isDocumentKey(i))throw new Ft(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nv(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":bn()}function Pr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ft(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nv(i);throw new Ft(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function rv(i,e){if(e<=0)throw new Ft(Tt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class iv{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Ft(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ft(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Ft(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Ft(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Ft(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pu{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ft(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ft(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Pa;switch(s.type){case"firstParty":return new Zi(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ft(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=oy.get(r);s&&(Wt("ComponentProvider","Removing Datastore"),oy.delete(r),s.terminate())}(this),Promise.resolve()}}class Vi{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class Bi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class Ia extends Vi{constructor(e,r,s){super(e,r,ou(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new fn(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function sy(i,e,...r){if(i=(0,Et.m9)(i),bp("collection","path",e),i instanceof Pu){const s=hr.fromString(e,...r);return Ap(s),new Ia(i,null,s)}{if(!(i instanceof Bi||i instanceof Ia))throw new Ft(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(hr.fromString(e,...r));return Ap(s),new Ia(i.firestore,null,s)}}function Rp(i,e,...r){if(i=(0,Et.m9)(i),1===arguments.length&&(e=th.newId()),bp("doc","path",e),i instanceof Pu){const s=hr.fromString(e,...r);return qh(s),new Bi(i,null,new fn(s))}{if(!(i instanceof Bi||i instanceof Ia))throw new Ft(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(hr.fromString(e,...r));return qh(s),new Bi(i.firestore,i instanceof Ia?i.converter:null,new fn(s))}}function ay(i,e){return i=(0,Et.m9)(i),e=(0,Et.m9)(e),(i instanceof Bi||i instanceof Ia)&&(e instanceof Bi||e instanceof Ia)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Mp(i,e){return i=(0,Et.m9)(i),e=(0,Et.m9)(e),i instanceof Vi&&e instanceof Vi&&i.firestore===e.firestore&&$a(i._query,e._query)&&i.converter===e.converter}class e0{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new rp(this,"async_queue_retry"),this._u=()=>{const r=vm();r&&Wt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=vm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const r=vm();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const r=new Ti;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,W.Z)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(r){if(!wi(r))throw r;Wt("AsyncQueue","Operation failed with retryable error: "+r)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const r=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,pi("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=r,r}enqueueAfterDelay(e,r,s){this.au(),this.ou.indexOf(e)>-1&&(r=0);const l=Oc.createAndSchedule(this,e,r,s,d=>this.lu(d));return this.nu.push(l),l}au(){this.ru&&bn()}verifyOperationInProgress(){}hu(){var e=this;return(0,W.Z)(function*(){let r;do{r=e.Xa,yield r}while(r!==e.Xa)})()}Pu(e){for(const r of this.nu)if(r.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.nu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const r=this.nu.indexOf(e);this.nu.splice(r,1)}}function ov(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(i)}class ly{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ti,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class bi extends Pu{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new e0,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uy(this),this._firestoreClient.terminate()}}function Ji(i){return i._firestoreClient||uy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function uy(i){var e,r,s;const l=i._freezeSettings(),d=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Xu(i._databaseId,R,i._persistenceKey,(Z=l).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,iy(Z.experimentalLongPollingOptions),Z.useFetchStreams));var R,Z;i._firestoreClient=new J_(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function cy(i,e,r){const s=new Ti;return i.asyncQueue.enqueue((0,W.Z)(function*(){try{yield Dp(i,r),yield qm(i,e),s.resolve()}catch(l){const d=l;if(!Km(d))throw d;Ro("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function dy(i){if(i._initialized||i._terminated)throw new Ft(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(xi.fromBase64String(e))}catch(r){throw new Ft(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new dl(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ft(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kc{constructor(e){this._methodName=e}}class Nd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ft(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ft(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xn(this._lat,e._lat)||Xn(this._long,e._long)}}const fl=/^__.*__$/;class hy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new ya(e,this.data,this.fieldMask,r,this.fieldTransforms):new os(e,this.data,r,this.fieldTransforms)}}class fy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new ya(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function a0(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bn()}}class Gi{constructor(e,r,s,l,d,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Eu(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Gi(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Au({path:s,Vu:!1});return l.mu(e),l}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Au({path:s,Vu:!1});return l.Eu(),l}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Up(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(a0(this.du)&&fl.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class l0{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||$l(e)}Su(e,r,s,l=!1){return new Gi({du:e,methodName:r,wu:s,path:$n.emptyPath(),Vu:!1,yu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hl(i){const e=i._freezeSettings(),r=$l(i._databaseId);return new l0(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Np(i,e,r,s,l,d={}){const g=i.Su(d.merge||d.mergeFields?2:0,e,r,l);Bp("Data must be an object, but it was:",g,s);const b=py(s,g);let R,U;if(d.merge)R=new ho(g.fieldMask),U=g.fieldTransforms;else if(d.mergeFields){const Z=[];for(const ye of d.mergeFields){const Ye=kd(e,ye,r);if(!g.contains(Ye))throw new Ft(Tt.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);jp(Z,Ye)||Z.push(Ye)}R=new ho(Z),U=g.fieldTransforms.filter(ye=>R.covers(ye.field))}else R=null,U=g.fieldTransforms;return new hy(new Bo(b),R,U)}class Kh extends kc{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function kp(i,e,r){return new Gi({du:3,wu:e.settings.wu,methodName:i._methodName,Vu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fp extends kc{_toFieldTransform(e){return new nl(e.path,new au)}isEqual(e){return e instanceof Fp}}class Lp extends kc{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=kp(this,e,!0),s=this.bu.map(d=>xu(d,r)),l=new Ha(s);return new nl(e.path,l)}isEqual(e){return e instanceof Lp&&(0,Et.vZ)(this.bu,e.bu)}}class Vp extends kc{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=kp(this,e,!0),s=this.bu.map(d=>xu(d,r)),l=new Po(s);return new nl(e.path,l)}isEqual(e){return e instanceof Vp&&(0,Et.vZ)(this.bu,e.bu)}}class av extends kc{constructor(e,r){super(e),this.Du=r}_toFieldTransform(e){const r=new _a(e.serializer,ph(e.serializer,this.Du));return new nl(e.path,r)}isEqual(e){return e instanceof av&&this.Du===e.Du}}function lv(i,e,r,s){const l=i.Su(1,e,r);Bp("Data must be an object, but it was:",l,s);const d=[],g=Bo.empty();Fs(s,(R,U)=>{const Z=$p(e,R,r);U=(0,Et.m9)(U);const ye=l.fu(Z);if(U instanceof Kh)d.push(Z);else{const Ye=xu(U,ye);null!=Ye&&(d.push(Z),g.set(Z,Ye))}});const b=new ho(d);return new fy(g,b,l.fieldTransforms)}function zl(i,e,r,s,l,d){const g=i.Su(1,e,r),b=[kd(e,s,r)],R=[l];if(d.length%2!=0)throw new Ft(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<d.length;Ye+=2)b.push(kd(e,d[Ye])),R.push(d[Ye+1]);const U=[],Z=Bo.empty();for(let Ye=b.length-1;Ye>=0;--Ye)if(!jp(U,b[Ye])){const yt=b[Ye];let Qt=R[Ye];Qt=(0,Et.m9)(Qt);const mn=g.fu(yt);if(Qt instanceof Kh)U.push(yt);else{const ln=xu(Qt,mn);null!=ln&&(U.push(yt),Z.set(yt,ln))}}const ye=new ho(U);return new fy(Z,ye,g.fieldTransforms)}function uv(i,e,r,s=!1){return xu(r,i.Su(s?4:3,e))}function xu(i,e){if(cv(i=(0,Et.m9)(i)))return Bp("Unsupported field value:",e,i),py(i,e);if(i instanceof kc)return function(s,l){if(!a0(l.du))throw l.pu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.pu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,l){const d=[];let g=0;for(const b of s){let R=xu(b,l.gu(g));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),g++}return{arrayValue:{values:d}}}(i,e)}return function(s,l){if(null===(s=(0,Et.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ph(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=ni.fromDate(s);return{timestampValue:Xs(l.serializer,d)}}if(s instanceof ni){const d=new ni(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xs(l.serializer,d)}}if(s instanceof Nd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof dl)return{bytesValue:Nf(l.serializer,s._byteString)};if(s instanceof Bi){const d=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(d))throw l.pu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:ad(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.pu(`Unsupported field value: ${nv(s)}`)}(i,e)}function py(i,e){const r={};return tu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(i,(s,l)=>{const d=xu(l,e.Ru(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function cv(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ni||i instanceof Nd||i instanceof dl||i instanceof Bi||i instanceof kc)}function Bp(i,e,r){if(!cv(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=nv(r);throw e.pu("an object"===s?i+" a custom object":i+" "+s)}var l}function kd(i,e,r){if((e=(0,Et.m9)(e))instanceof hl)return e._internalPath;if("string"==typeof e)return $p(i,e);throw Up("Field path arguments must be of type string or ",i,!1,void 0,r)}const Zh=new RegExp("[~\\*/\\[\\]]");function $p(i,e,r){if(e.search(Zh)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new hl(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Up(i,e,r,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let R="";return(d||g)&&(R+=" (found",d&&(R+=` in field ${s}`),g&&(R+=` in document ${l}`),R+=")"),new Ft(Tt.INVALID_ARGUMENT,b+i+R)}function jp(i,e){return i.some(r=>r.isEqual(e))}class Qh{constructor(e,r,s,l,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Hp extends Qh{data(){return super.data()}}function Xh(i,e){return"string"==typeof e?$p(i,e):e instanceof hl?e._internalPath:e._delegate._internalPath}function dv(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ft(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class Jh extends hv{}function Ea(i,e,...r){let s=[];e instanceof hv&&s.push(e),s=s.concat(r),function(d){const g=d.filter(R=>R instanceof Fd).length,b=d.filter(R=>R instanceof ef).length;if(g>1||g>0&&b>0)throw new Ft(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class ef extends Jh{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new ef(e,r,s)}_apply(e){const r=this._parse(e);return yy(e._query,r),new Vi(e.firestore,e.converter,hc(e._query,r))}_parse(e){const r=Hl(e.firestore);return function(d,g,b,R,U,Z,ye){let Ye;if(U.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new Ft(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){_y(ye,Z);const yt=[];for(const Qt of ye)yt.push(vy(R,d,Qt));Ye={arrayValue:{values:yt}}}else Ye=vy(R,d,ye)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||_y(ye,Z),Ye=uv(b,"where",ye,"in"===Z||"not-in"===Z);return Er.create(U,Z,Ye)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Fd extends hv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Fd(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:ri.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,d){let g=l;const b=d.getFlattenedFilters();for(const R of b)yy(g,R),g=hc(g,R)}(e._query,r),new Vi(e.firestore,e.converter,hc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fv extends Jh{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new fv(e,r)}_apply(e){const r=function(l,d,g){if(null!==l.startAt)throw new Ft(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Ft(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(d,g)}(e._query,this._field,this._direction);return new Vi(e.firestore,e.converter,function(l,d){const g=l.explicitOrderBy.concat([d]);return new qo(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class zp extends Jh{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new zp(e,r,s)}_apply(e){return new Vi(e.firestore,e.converter,Ba(e._query,this._limit,this._limitType))}}class Gp extends Jh{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Gp(e,r,s)}_apply(e){const r=my(e,this.type,this._docOrFields,this._inclusive);return new Vi(e.firestore,e.converter,(d=r,new qo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}class qp extends Jh{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new qp(e,r,s)}_apply(e){const r=my(e,this.type,this._docOrFields,this._inclusive);return new Vi(e.firestore,e.converter,(d=r,new qo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function my(i,e,r,s){if(r[0]=(0,Et.m9)(r[0]),r[0]instanceof Qh)return function(d,g,b,R,U){if(!R)throw new Ft(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Z=[];for(const ye of Qs(d))if(ye.field.isKeyField())Z.push(Va(g,R.key));else{const Ye=R.data.field(ye.field);if(ru(Ye))throw new Ft(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ye){const yt=ye.field.canonicalString();throw new Ft(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}Z.push(Ye)}return new Ml(Z,U)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const l=Hl(i.firestore);return function(g,b,R,U,Z,ye){const Ye=g.explicitOrderBy;if(Z.length>Ye.length)throw new Ft(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let Qt=0;Qt<Z.length;Qt++){const mn=Z[Qt];if(Ye[Qt].field.isKeyField()){if("string"!=typeof mn)throw new Ft(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof mn}`);if(!dc(g)&&-1!==mn.indexOf("/"))throw new Ft(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${mn}' contains a slash.`);const ln=g.path.child(hr.fromString(mn));if(!fn.isDocumentKey(ln))throw new Ft(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const Bn=new fn(ln);yt.push(Va(b,Bn))}else{const ln=uv(R,U,mn);yt.push(ln)}}return new Ml(yt,ye)}(i._query,i.firestore._databaseId,l,e,r,s)}}function vy(i,e,r){if("string"==typeof(r=(0,Et.m9)(r))){if(""===r)throw new Ft(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dc(e)&&-1!==r.indexOf("/"))throw new Ft(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(hr.fromString(r));if(!fn.isDocumentKey(s))throw new Ft(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Va(i,new fn(s))}if(r instanceof Bi)return Va(i,r._key);throw new Ft(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nv(r)}.`)}function _y(i,e){if(!Array.isArray(i)||0===i.length)throw new Ft(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yy(i,e){const r=function(l,d){for(const g of l)for(const b of g.getFlattenedFilters())if(d.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ft(Tt.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Yp{convertValue(e,r="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw bn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Fs(e,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new Nd(vi(e.latitude),vi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=wl(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const r=fa(e);return new ni(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=hr.fromString(e);kn(Dh(s));const l=new Wo(s.get(1),s.get(3)),d=new fn(s.popFirst(5));return l.isEqual(r)||pi(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function Kp(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class lC extends Yp{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,r)}}class Ld{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gl extends Qh{constructor(e,r,s,l,d,g){super(e,r,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class tf extends Gl{data(e={}){return super.data(e)}}class Fc{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Ld(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new tf(this._firestore,this._userDataWriter,s.key,s,new Ld(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ft(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(b=>({type:"added",doc:new tf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Ld(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(b=>d||3!==b.type).map(b=>{const R=new tf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Ld(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let U=-1,Z=-1;return 0!==b.type&&(U=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),Z=g.indexOf(b.doc.key)),{type:m0(b.type),doc:R,oldIndex:U,newIndex:Z}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function m0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bn()}}function v0(i,e){return i instanceof Gl&&e instanceof Gl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Fc&&e instanceof Fc&&i._firestore===e._firestore&&Mp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Ou extends Yp{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,r)}}function yv(i,e,r){i=Pr(i,Bi);const s=Pr(i.firestore,bi),l=Kp(i.converter,e,r);return $d(s,[Np(Hl(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,di.none())])}function Vd(i,e,r,...s){i=Pr(i,Bi);const l=Pr(i.firestore,bi),d=Hl(l);let g;return g="string"==typeof(e=(0,Et.m9)(e))||e instanceof hl?zl(d,"updateDoc",i._key,e,r,s):lv(d,"updateDoc",i._key,e),$d(l,[g.toMutation(i._key,di.exists(!0))])}function Bd(i,...e){var r,s,l;i=(0,Et.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||ov(e[g])||(d=e[g],g++);const b={includeMetadataChanges:d.includeMetadataChanges};if(ov(e[g])){const ye=e[g];e[g]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[g+1]=null===(s=ye.error)||void 0===s?void 0:s.bind(ye),e[g+2]=null===(l=ye.complete)||void 0===l?void 0:l.bind(ye)}let R,U,Z;if(i instanceof Bi)U=Pr(i.firestore,bi),Z=ou(i._key.path),R={next:ye=>{e[g]&&e[g](Qp(U,i,ye))},error:e[g+1],complete:e[g+2]};else{const ye=Pr(i,Vi);U=Pr(ye.firestore,bi),Z=ye._query;const Ye=new Ou(U);R={next:yt=>{e[g]&&e[g](new Fc(U,Ye,ye,yt))},error:e[g+1],complete:e[g+2]},dv(i._query)}return function(Ye,yt,Qt,mn){const ln=new Md(mn),Bn=new xm(yt,ln,Qt);return Ye.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return Mm(yield xd(Ye),Bn)})),()=>{ln.La(),Ye.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return L_(yield xd(Ye),Bn)}))}}(Ji(U),Z,b,R)}function $d(i,e){return function(s,l){const d=new Ti;return s.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function Nm(i,e,r){return km.apply(this,arguments)}(yield Wh(s),l,d)})),d.promise}(Ji(i),e)}function Qp(i,e,r){const s=r.docs.get(e._key),l=new Ou(i);return new Gl(i,l,e._key,s,new Ld(r.hasPendingWrites,r.fromCache),e.converter)}const S0={maxAttempts:5};class Dv{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Hl(e)}set(e,r,s){this._verifyNotCommitted();const l=Nu(e,this._firestore),d=Kp(l.converter,r,s),g=Np(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,di.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const d=Nu(e,this._firestore);let g;return g="string"==typeof(r=(0,Et.m9)(r))||r instanceof hl?zl(this._dataReader,"WriteBatch.update",d._key,r,s,l):lv(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(g.toMutation(d._key,di.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Nu(e,this._firestore);return this._mutations=this._mutations.concat(new du(r._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ft(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nu(i,e){if((i=(0,Et.m9)(i)).firestore!==e)throw new Ft(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class R0 extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Hl(r)}get(r){const s=Nu(r,this._firestore),l=new lC(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return bn();const g=d[0];if(g.isFoundDocument())return new Qh(this._firestore,l,g.key,g,s.converter);if(g.isNoDocument())return new Qh(this._firestore,l,s._key,null,s.converter);throw bn()})}set(r,s,l){const d=Nu(r,this._firestore),g=Kp(d.converter,s,l),b=Np(this._dataReader,"Transaction.set",d._key,g,null!==d.converter,l);return this._transaction.set(d._key,b),this}update(r,s,l,...d){const g=Nu(r,this._firestore);let b;return b="string"==typeof(s=(0,Et.m9)(s))||s instanceof hl?zl(this._dataReader,"Transaction.update",g._key,s,l,d):lv(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,b),this}delete(r){const s=Nu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Nu(e,this._firestore),s=new Ou(this._firestore);return super.get(e).then(l=>new Gl(this._firestore,s,r._key,l._document,new Ld(!1,!1),r.converter))}}function wv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ft("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Sy(){if(typeof Uint8Array>"u")throw new Ft("unimplemented","Uint8Arrays are not available in this environment.")}function Ry(){if(!function yf(){return typeof atob<"u"}())throw new Ft("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){Xa=Qe.SDK_VERSION,(0,Qe._registerComponent)(new nt.wA("firestore",(s,{instanceIdentifier:l,options:d})=>{const g=s.getProvider("app").getImmediate(),b=new bi(new xa(s.getProvider("auth-internal")),new zc(s.getProvider("app-check-internal")),function(U,Z){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Ft(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(U.options.projectId,Z)}(g,l),g);return d=Object.assign({useFetchStreams:r},d),b._setSettings(d),b},"PUBLIC").setMultipleInstances(!0)),(0,Qe.registerVersion)(Qa,"4.4.2",e),(0,Qe.registerVersion)(Qa,"4.4.2","esm2017")}();class Us{constructor(e){this._delegate=e}static fromBase64String(e){return Ry(),new Us(dl.fromBase64String(e))}static fromUint8Array(e){return Sy(),new Us(dl.fromUint8Array(e))}toBase64(){return Ry(),this._delegate.toBase64()}toUint8Array(){return Sy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Lc(i){return function Io(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(i,["next","error","complete"])}class Vc{enableIndexedDbPersistence(e,r){return function t0(i,e){dy(i=Pr(i,bi));const r=Ji(i);if(r._uninitializedComponentsProvider)throw new Ft(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");Ro("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new Mu;return cy(r,l,new Gh(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function n0(i){dy(i=Pr(i,bi));const e=Ji(i);if(e._uninitializedComponentsProvider)throw new Ft(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");Ro("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),s=new Mu;return cy(e,s,new Cp(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function nC(i){if(i._initialized&&!i._terminated)throw new Ft(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ti;return i._queue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{yield(r=(0,W.Z)(function*(l){if(!On.D())return Promise.resolve();const d=l+"main";yield On.delete(d)}),function s(l){return r.apply(this,arguments)})(v_(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class af{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Ro("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){!function Sp(i,e,r,s={}){var l;const d=(i=Pr(i,Pu))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),s.mockUserToken){let b,R;if("string"==typeof s.mockUserToken)b=s.mockUserToken,R=kr.MOCK_USER;else{b=(0,Et.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Ft(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new kr(U)}i._authCredentials=new Qn(new ms(b,R))}}(this._delegate,e,r,s)}enableNetwork(){return function Op(i){return function YI(i){return i.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield ey(i),r=yield qI(i);return e.setNetworkEnabled(!0),function(l){const d=gn(l);return d.v_.delete(0),Tu(d)}(r)}))}(Ji(i=Pr(i,bi)))}(this._delegate)}disableNetwork(){return function r0(i){return function ty(i){return i.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield ey(i),r=yield qI(i);return e.setNetworkEnabled(!1),(s=(0,W.Z)(function*(d){const g=gn(d);g.v_.add(0),yield al(g),g.x_.set("Offline")}),function l(d){return s.apply(this,arguments)})(r);var s}))}(Ji(i=Pr(i,bi)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,tv("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rC(i){return function(r){const s=new Ti;return r.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function W_(i,e){return pp.apply(this,arguments)}(yield Wh(r),s)})),s.promise}(Ji(i=Pr(i,bi)))}(this._delegate)}onSnapshotsInSync(e){return function Ey(i,e){return function ZI(i,e){const r=new Md(e);return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return l=yield xd(i),d=r,gn(l).K_.add(d),void d.next();var l,d})),()=>{r.La(),i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return l=yield xd(i),d=r,void gn(l).K_.delete(d);var l,d}))}}(Ji(i=Pr(i,bi)),ov(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ft("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pl(this,sy(this._delegate,e))}catch(r){throw Ds(r,"collection()","Firestore.collection()")}}doc(e){try{return new Ca(this,Rp(this._delegate,e))}catch(r){throw Ds(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Oo(this,function tC(i,e){if(i=Pr(i,Pu),bp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ft(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vi(i,null,(s=e,new qo(hr.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw Ds(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ty(i,e,r){i=Pr(i,bi);const s=Object.assign(Object.assign({},S0),r);return function(d){if(d.maxAttempts<1)throw new Ft(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,g,b){const R=new Ti;return d.asyncQueue.enqueueAndForget((0,W.Z)(function*(){const U=yield function Qm(i){return wp(i).then(e=>e.datastore)}(d);new WI(d.asyncQueue,U,b,g,R).ja()})),R.promise}(Ji(i),l=>e(new R0(i,l)),s)}(this._delegate,r=>e(new Bc(this,r)))}batch(){return Ji(this._delegate),new bv(new Dv(this._delegate,e=>$d(this._delegate,e)))}loadBundle(e){return function oC(i,e){const r=Ji(i=Pr(i,bi)),s=new ly;return function QI(i,e,r,s){const l=function(g,b){let R;return R="string"==typeof g?Of().encode(g):g,Z=function(Z,ye){if(Z instanceof Uint8Array)return Gm(Z,void 0);if(Z instanceof ArrayBuffer)return Gm(new Uint8Array(Z),void 0);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new zI(Z,b);var Z}(r,$l(e));i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){!function zm(i,e,r){const s=gn(i);var l;(l=(0,W.Z)(function*(g,b,R){try{const U=yield b.getMetadata();if(yield function(Qt,mn){const ln=gn(Qt),Bn=Li(mn.createTime);return ln.persistence.runTransaction("hasNewerBundle","readonly",sr=>ln.$r.getBundleMetadata(sr,mn.id)).then(sr=>!!sr&&sr.createTime.compareTo(Bn)>=0)}(g.localStore,U))return yield b.close(),R._completeWith({taskState:"Success",documentsLoaded:(Qt=U).totalDocuments,bytesLoaded:Qt.totalBytes,totalDocuments:Qt.totalDocuments,totalBytes:Qt.totalBytes}),Promise.resolve(new Set);R._updateProgress(B_(U));const Z=new V_(U,g.localStore,b.serializer);let ye=yield b.Oa();for(;ye;){const yt=yield Z.na(ye);yt&&R._updateProgress(yt),ye=yield b.Oa()}const Ye=yield Z.complete();return yield ul(g,Ye.sa,void 0),yield function(Qt,mn){const ln=gn(Qt);return ln.persistence.runTransaction("Save bundle","readwrite",Bn=>ln.$r.saveBundleMetadata(Bn,mn))}(g.localStore,U),R._completeWith(Ye.progress),Promise.resolve(Ye.ia)}catch(U){return Ro("SyncEngine",`Loading bundle failed with ${U}`),R._failWith(U),Promise.resolve(new Set)}var Qt}),function d(g,b,R){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Wh(i),l,s)}))}(r,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function o0(i,e){return function XI(i,e){return i.asyncQueue.enqueue((0,W.Z)(function*(){return function(s,l){const d=gn(s);return d.persistence.runTransaction("Get named query","readonly",g=>d.$r.getNamedQuery(g,l))}(yield Pd(i),e)}))}(Ji(i=Pr(i,bi)),e).then(r=>r?new Vi(i,null,r.query):null)}(this._delegate,e).then(r=>r?new Oo(this,r):null)}}class Cs extends Yp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(new dl(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Ca.forKey(r,this.firestore,null)}}class Bc{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Cs(e)}get(e){const r=gl(e);return this._delegate.get(r).then(s=>new lf(this._firestore,new Gl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const l=gl(e);return s?(wv("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=gl(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=gl(e);return this._delegate.delete(r),this}}class bv{constructor(e){this._delegate=e}set(e,r,s){const l=gl(e);return s?(wv("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=gl(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=gl(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class ku{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new tf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wi(this._firestore,s),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=ku.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(r);return d||(d=new ku(e,new Cs(e),r),l.set(r,d)),d}}ku.INSTANCES=new WeakMap;class Ca{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Cs(e)}static forPath(e,r,s){if(e.length%2!=0)throw new Ft("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ca(r,new Bi(r._delegate,s,new fn(e)))}static forKey(e,r,s){return new Ca(r,new Bi(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new pl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pl(this.firestore,sy(this._delegate,e))}catch(r){throw Ds(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Et.m9)(e))instanceof Bi&&ay(this._delegate,e)}set(e,r){r=wv("DocumentReference.set",r);try{return r?yv(this._delegate,e,r):yv(this._delegate,e)}catch(s){throw Ds(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?Vd(this._delegate,e):Vd(this._delegate,e,r,...s)}catch(l){throw Ds(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Iy(i){return $d(Pr(i.firestore,bi),[new du(i._key,di.none())])}(this._delegate)}onSnapshot(...e){const r=lo(e),s=Av(e,l=>new lf(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Bd(this._delegate,r,s)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function y0(i){i=Pr(i,Bi);const e=Pr(i.firestore,bi),r=Ji(e),s=new Ou(e);return function KI(i,e){const r=new Ti;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(s=(0,W.Z)(function*(d,g,b){try{const R=yield function(Z,ye){const Ye=gn(Z);return Ye.persistence.runTransaction("read document","readonly",yt=>Ye.localDocuments.getDocument(yt,ye))}(d,g);R.isFoundDocument()?b.resolve(R):R.isNoDocument()?b.resolve(null):b.reject(new Ft(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const U=Dd(R,`Failed to get document '${g} from cache`);b.reject(U)}}),function l(d,g,b){return s.apply(this,arguments)})(yield Pd(i),e,r);var s})),r.promise}(r,i._key).then(l=>new Gl(e,s,i._key,l,new Ld(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function vv(i){i=Pr(i,Bi);const e=Pr(i.firestore,bi);return ny(Ji(e),i._key,{source:"server"}).then(r=>Qp(e,i,r))}(this._delegate):function _0(i){i=Pr(i,Bi);const e=Pr(i.firestore,bi);return ny(Ji(e),i._key).then(r=>Qp(e,i,r))}(this._delegate),r.then(s=>new lf(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ca(this.firestore,this._delegate.withConverter(e?ku.getInstance(this.firestore,e):null))}}function Ds(i,e,r){return i.message=i.message.replace(e,r),i}function lo(i){for(const e of i)if("object"==typeof e&&!Lc(e))return e;return{}}function Av(i,e){var r,s;let l;return l=Lc(i[0])?i[0]:Lc(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class lf{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return v0(this._delegate,e._delegate)}}class Wi extends lf{data(e){const r=this._delegate.data(e);return this._delegate._converter||function Xd(i,e){i||bn()}(void 0!==r),r}}class Oo{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Cs(e)}where(e,r,s){try{return new Oo(this.firestore,Ea(this._delegate,function u0(i,e,r){const s=e,l=Xh("where",i);return ef._create(l,s,r)}(e,r,s)))}catch(l){throw Ds(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Oo(this.firestore,Ea(this._delegate,function c0(i,e="asc"){const r=e,s=Xh("orderBy",i);return fv._create(s,r)}(e,r)))}catch(s){throw Ds(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Oo(this.firestore,Ea(this._delegate,function gy(i){return rv("limit",i),zp._create("limit",i,"F")}(e)))}catch(r){throw Ds(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Oo(this.firestore,Ea(this._delegate,function pv(i){return rv("limitToLast",i),zp._create("limitToLast",i,"L")}(e)))}catch(r){throw Ds(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Oo(this.firestore,Ea(this._delegate,function d0(...i){return Gp._create("startAt",i,!0)}(...e)))}catch(r){throw Ds(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Oo(this.firestore,Ea(this._delegate,function Wp(...i){return Gp._create("startAfter",i,!1)}(...e)))}catch(r){throw Ds(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Oo(this.firestore,Ea(this._delegate,function h0(...i){return qp._create("endBefore",i,!1)}(...e)))}catch(r){throw Ds(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Oo(this.firestore,Ea(this._delegate,function f0(...i){return qp._create("endAt",i,!0)}(...e)))}catch(r){throw Ds(r,"endAt()","Query.endAt()")}}isEqual(e){return Mp(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function _v(i){i=Pr(i,Vi);const e=Pr(i.firestore,bi),r=Ji(e),s=new Ou(e);return function Jm(i,e){const r=new Ti;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(s=(0,W.Z)(function*(d,g,b){try{const R=yield dm(d,g,!0),U=new j_(g,R.hs),Z=U.ha(R.documents),ye=U.applyChanges(Z,!1);b.resolve(ye.snapshot)}catch(R){const U=Dd(R,`Failed to execute query '${g} against cache`);b.reject(U)}}),function l(d,g,b){return s.apply(this,arguments)})(yield Pd(i),e,r);var s})),r.promise}(r,i._query).then(l=>new Fc(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function Zp(i){i=Pr(i,Vi);const e=Pr(i.firestore,bi),r=Ji(e),s=new Ou(e);return ry(r,i._query,{source:"server"}).then(l=>new Fc(e,s,i,l))}(this._delegate):function nf(i){i=Pr(i,Vi);const e=Pr(i.firestore,bi),r=Ji(e),s=new Ou(e);return dv(i._query),ry(r,i._query).then(l=>new Fc(e,s,i,l))}(this._delegate),r.then(s=>new zd(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=lo(e),s=Av(e,l=>new zd(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Bd(this._delegate,r,s)}withConverter(e){return new Oo(this.firestore,this._delegate.withConverter(e?ku.getInstance(this.firestore,e):null))}}class Hd{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Wi(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zd{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wi(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new Hd(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new Wi(this._firestore,s))})}isEqual(e){return v0(this._delegate,e._delegate)}}class pl extends Oo{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ca(this.firestore,e):null}doc(e){try{return new Ca(this.firestore,void 0===e?Rp(this._delegate):Rp(this._delegate,e))}catch(r){throw Ds(r,"doc()","CollectionReference.doc()")}}add(e){return function I0(i,e){const r=Pr(i.firestore,bi),s=Rp(i),l=Kp(i.converter,e);return $d(r,[Np(Hl(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,di.exists(!1))]).then(()=>s)}(this._delegate,e).then(r=>new Ca(this.firestore,r))}isEqual(e){return ay(this._delegate,e._delegate)}withConverter(e){return new pl(this.firestore,this._delegate.withConverter(e?ku.getInstance(this.firestore,e):null))}}function gl(i){return Pr(i,Bi)}class ig{constructor(...e){this._delegate=new hl(...e)}static documentId(){return new ig($n.keyField().canonicalString())}isEqual(e){return(e=(0,Et.m9)(e))instanceof hl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function P0(){return new Fp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fu(e)}static delete(){const e=function M0(){return new Kh("deleteField")}();return e._methodName="FieldValue.delete",new Fu(e)}static arrayUnion(...e){const r=function Ud(...i){return new Lp("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new Fu(r)}static arrayRemove(...e){const r=function rf(...i){return new Vp("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new Fu(r)}static increment(e){const r=function wy(i){return new av("increment",i)}(e);return r._methodName="FieldValue.increment",new Fu(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const My={Firestore:af,GeoPoint:Nd,Timestamp:ni,Blob:Us,Transaction:Bc,WriteBatch:bv,DocumentReference:Ca,DocumentSnapshot:lf,Query:Oo,QueryDocumentSnapshot:Wi,QuerySnapshot:zd,CollectionReference:pl,FieldPath:ig,FieldValue:Fu,setLogLevel:function N0(i){!function So(i){Os.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Lu(i,e){return function sg(i,e=ke.z){return new Ne.y(r=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,e)}function js(i,e){return Lu(i,e).pipe((0,Re.U)(r=>({payload:r,type:"query"})))}!function Sv(i){(function og(i,e){i.INTERNAL.registerComponent(new nt.wA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),l=r.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},My)))})(i,(e,r)=>new af(e,r,new Vc)),i.registerVersion("@firebase/firestore-compat","0.3.25")}(ae.Z),N(7142);class Py{constructor(e,r){(0,se.Z)(this,"ref",void 0),(0,se.Z)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const s=this.ref.collection(e),{ref:l,query:d}=Pv(s,r);return new Oy(l,d,this.afs)}snapshotChanges(){return function F0(i,e){return Lu(i,e).pipe((0,Pe.O)(void 0),ze(),(0,Re.U)(r=>{const[s,l]=r;return l.exists?null!=s&&s.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Re.U)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,it.D)(this.ref.get(e)).pipe(Oe.iC)}}function ag(i,e){return js(i,e).pipe((0,Pe.O)(void 0),ze(),(0,Re.U)(r=>{const[s,l]=r,d=l.payload.docChanges(),g=d.map(b=>({type:b.type,payload:b}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((b,R)=>{const U=d.find(ye=>ye.doc.ref.isEqual(b.ref)),Z=null==s?void 0:s.payload.docs.find(ye=>ye.ref.isEqual(b.ref));U&&JSON.stringify(U.doc.metadata)===JSON.stringify(b.metadata)||!U&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(b.metadata)||g.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:b}})}),g}))}function lg(i,e,r){return ag(i,r).pipe((0,Ae.R)((s,l)=>function xy(i,e,r){return e.forEach(s=>{r.indexOf(s.type)>-1&&(i=function L0(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return ug(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return ug(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ug(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),(0,Je.x)(),(0,Re.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function ug(i,e,r,...s){const l=i.slice();return l.splice(e,r,...s),l}function V0(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Oy{constructor(e,r,s){(0,se.Z)(this,"ref",void 0),(0,se.Z)(this,"query",void 0),(0,se.Z)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=s}stateChanges(e){let r=ag(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Re.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,Pe.O)(void 0),ze(),(0,z.h)(([s,l])=>l.length>0||!s),(0,Re.U)(([,s])=>s),Oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ae.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=V0(e);return lg(this.query,r,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}valueChanges(e={}){return js(this.query,this.afs.schedulers.outsideAngular).pipe((0,Re.U)(r=>r.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),Oe.iC)}get(e){return(0,it.D)(this.query.get(e)).pipe(Oe.iC)}add(e){return this.ref.add(e)}doc(e){return new Py(this.ref.doc(e),this.afs)}}class cg{constructor(e,r){(0,se.Z)(this,"query",void 0),(0,se.Z)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?ag(this.query,this.afs.schedulers.outsideAngular).pipe((0,Re.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)),(0,z.h)(r=>r.length>0),Oe.iC):ag(this.query,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ae.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=V0(e);return lg(this.query,r,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}valueChanges(e={}){return js(this.query,this.afs.schedulers.outsideAngular).pipe((0,Re.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),Oe.iC)}get(e){return(0,it.D)(this.query.get(e)).pipe(Oe.iC)}}const Rv=new k.OlP("angularfire2.enableFirestorePersistence"),Mv=new k.OlP("angularfire2.firestore.persistenceSettings"),Gd=new k.OlP("angularfire2.firestore.settings"),Ny=new k.OlP("angularfire2.firestore.use-emulator");function Pv(i,e=(r=>r)){return{query:e(i),ref:i}}let Wd=(()=>{var i;class e{constructor(s,l,d,g,b,R,U,Z,ye,Ye,yt,Qt,mn,ln,Bn,sr,jn){(0,se.Z)(this,"schedulers",void 0),(0,se.Z)(this,"firestore",void 0),(0,se.Z)(this,"persistenceEnabled$",void 0),this.schedulers=U;const rr=(0,ne.on)(s,R,l),ii=ye;Ye&&(0,Te.nw)(rr,R,yt,mn,ln,Bn,Qt,sr),[this.firestore,this.persistenceEnabled$]=(0,ne.cc)(`${rr.name}.firestore`,"AngularFirestore",rr.name,()=>{const zr=R.runOutsideAngular(()=>rr.firestore());if(g&&zr.settings(g),ii&&zr.useEmulator(...ii),d&&!(0,Me.PM)(b)){const go=()=>{try{return(0,it.D)(zr.enablePersistence(Z||void 0).then(()=>!0,()=>!1))}catch(Hs){return typeof console<"u"&&console.warn(Hs),(0,xe.of)(!1)}};return[zr,R.runOutsideAngular(go)]}return[zr,(0,xe.of)(!1)]},[g,ii,d])}collection(s,l){let d;d="string"==typeof s?this.firestore.collection(s):s;const{ref:g,query:b}=Pv(d,l),R=this.schedulers.ngZone.run(()=>g);return new Oy(R,b,this)}collectionGroup(s,l){const d=l||(b=>b),g=this.firestore.collectionGroup(s);return new cg(d(g),this)}doc(s){let l;l="string"==typeof s?this.firestore.doc(s):s;const d=this.schedulers.ngZone.run(()=>l);return new Py(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,se.Z)(e,"\u0275fac",function(s){return new(s||i)(k.LFG(ne.Dh),k.LFG(ne.xv,8),k.LFG(Rv,8),k.LFG(Gd,8),k.LFG(k.Lbi),k.LFG(k.R0b),k.LFG(Oe.HU),k.LFG(Mv,8),k.LFG(Ny,8),k.LFG(Te.zQ,8),k.LFG(Te.Qv,8),k.LFG(Te.L6,8),k.LFG(Te._Q,8),k.LFG(Te.rT,8),k.LFG(Te.lh,8),k.LFG(Te.f7,8),k.LFG(Oe.Rf,8))}),(0,se.Z)(e,"\u0275prov",k.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})();const Ly=[{path:"home",loadChildren:()=>N.e(6260).then(N.bind(N,6260)).then(i=>i.HomePageModule)},{path:"login",component:_e},{path:"register",component:(()=>{var i;class e{constructor(s,l,d){this.authService=s,this.router=l,this.firestore=d}ngOnInit(){this.authService.isLoggedIn().subscribe(s=>{s&&this.router.navigate(["/home"])})}toLogin(){this.router.navigate(["/login"])}register(s,l){document.getElementById("password1").value===document.getElementById("password2").value?this.authService.register(s,l).then(U=>{const Z=U.user;if(Z){const ye=Z.uid,Ye=this.firestore.collection("users_data"),Qt=document.getElementById("name_input1").value,ln=document.getElementById("username_input1").value,sr=document.getElementById("phone_input1").value;Ye.add({uid:ye,mail:s,name:Qt,username:ln,phone:sr}).then(rr=>{console.log("Account registrato con successo"),this.router.navigate(["/home"])}).catch(rr=>{alert("Non \xe8 stato possibile aggiungere i dati al tuo account: "+rr.message),this.router.navigate(["/home"])})}else console.error("L'utente \xe8 null")}).catch(U=>{alert("Errore durante la registrazione: "+U.message)}):alert("Le password inserite non corrispondono")}}return(i=e).\u0275fac=function(s){return new(s||i)(k.Y36(je.e),k.Y36(Y.F0),k.Y36(Wd))},i.\u0275cmp=k.Xpm({type:i,selectors:[["app-register"]],decls:39,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"height","18rem","object-fit","contain"],[1,"card1",2,"width","90%","margin-bottom","1.5rem"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\octicon_person-24 (1).png",1,"input1_img1"],["id","name_input1","type","text","placeholder","Nome",1,"field1"],["id","username_input1","type","text","placeholder","Username",1,"field1"],["src","assets\\img\\mdi_password-outline.png",1,"input1_img1"],["type","email","placeholder","Email",1,"field1"],["email",""],["id","phone_input1","type","number","placeholder","Cellulare",1,"field1"],["id","password1","type","password","placeholder","Password",1,"field1"],["password",""],["id","password2","type","password","placeholder","Conferma Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center","margin-top","0rem","margin-bottom","0rem"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","white"],[1,"div1"],["src","assets/img/Vector (1).png"],[1,"general_paragraph1",2,"margin-left","0.5rem","color","black"],[2,"width","100%","text-align","center"],[3,"click"]],template:function(s,l){if(1&s){const d=k.EpF();k.TgZ(0,"body"),k._UZ(1,"img",0),k.TgZ(2,"div",1)(3,"div",2),k._UZ(4,"img",3)(5,"input",4),k.qZA(),k.TgZ(6,"div",2),k._UZ(7,"img",3)(8,"input",5),k.qZA(),k.TgZ(9,"div",2),k._UZ(10,"img",6)(11,"input",7,8),k.qZA(),k.TgZ(13,"div",2),k._UZ(14,"img",3)(15,"input",9),k.qZA(),k.TgZ(16,"div",2),k._UZ(17,"img",6)(18,"input",10,11),k.qZA(),k.TgZ(20,"div",2),k._UZ(21,"img",6)(22,"input",12),k.qZA(),k.TgZ(23,"button",13),k.NdJ("click",function(){k.CHM(d);const b=k.MAs(12),R=k.MAs(19);return k.KtG(l.register(b.value,R.value))}),k.TgZ(24,"div",14),k._UZ(25,"img",15),k.TgZ(26,"p",16),k._uU(27,"Registrati"),k.qZA()()(),k.TgZ(28,"p",17),k._uU(29,"Oppure:"),k.qZA(),k.TgZ(30,"button",18)(31,"div",19),k._UZ(32,"img",20),k.TgZ(33,"p",21),k._uU(34,"Registrati come organizzatore"),k.qZA()()()(),k.TgZ(35,"p",22),k._uU(36,"Hai gi\xe0 un account?"),k.TgZ(37,"strong",23),k.NdJ("click",function(){return l.toLogin()}),k._uU(38,"Accedi"),k.qZA()()()}}}),e})()},{path:"log",component:(()=>{var i;class e{constructor(s,l){this.router=s,this.authService=l}ngOnInit(){this.authService.isLoggedIn().subscribe(s=>{s&&this.router.navigate(["/home"])})}toLogin(){this.router.navigate(["/login"])}toRegister(){this.router.navigate(["/register"])}}return(i=e).\u0275fac=function(s){return new(s||i)(k.Y36(Y.F0),k.Y36(je.e))},i.\u0275cmp=k.Xpm({type:i,selectors:[["app-log"]],decls:18,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"width","90%","height","20rem","object-fit","contain"],[1,"card1",2,"width","90%"],[1,"button1",2,"width","90%","margin-top","1rem",3,"click"],[1,"div1"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","white",3,"click"],["src","assets/img/Vector (1).png"],[1,"general_paragraph1",2,"margin-left","0.5rem","color","black"]],template:function(s,l){1&s&&(k.TgZ(0,"body"),k._UZ(1,"img",0),k.TgZ(2,"div",1)(3,"button",2),k.NdJ("click",function(){return l.toLogin()}),k.TgZ(4,"div",3),k._UZ(5,"img",4),k.TgZ(6,"p",5),k._uU(7,"Accedi al tuo account"),k.qZA()()(),k.TgZ(8,"button",2),k.NdJ("click",function(){return l.toRegister()}),k.TgZ(9,"div",3),k._UZ(10,"img",4),k.TgZ(11,"p",5),k._uU(12,"Iscriviti come utente"),k.qZA()()(),k.TgZ(13,"button",6),k.NdJ("click",function(){return l.toRegister()}),k.TgZ(14,"div",3),k._UZ(15,"img",7),k.TgZ(16,"p",8),k._uU(17,"Iscriviti come organizzatore"),k.qZA()()()()())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:start;font-family:Public Sans;background:#000;overflow-x:hidden;overflow-y:auto}.button1[_ngcontent-%COMP%]{font-family:Public Sans;background:#000;padding:.5rem;border-radius:.5rem;display:flex;flex-direction:row;align-items:center;justify-content:start}.div1[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-items:start;margin-left:2rem;height:100%}.card1[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#474747;border-radius:1rem}"]}),e})()},{path:"",redirectTo:"log",pathMatch:"full"}];let Vy=(()=>{var i;class e{}return(i=e).\u0275fac=function(s){return new(s||i)},i.\u0275mod=k.oAB({type:i}),i.\u0275inj=k.cJS({imports:[Y.Bz.forRoot(Ly,{preloadingStrategy:Y.wm}),Y.Bz]}),e})();const By_firebaseConfig={apiKey:"AIzaSyBK8aB1PhRlX3ls_AAMqxElVLmK5hK9SoA",authDomain:"buildable-4e170.firebaseapp.com",databaseURL:"https://buildable-4e170-default-rtdb.firebaseio.com",projectId:"buildable-4e170",storageBucket:"buildable-4e170.appspot.com",messagingSenderId:"905693761163",appId:"1:905693761163:web:2b9cdad166817b548f8e8e",measurementId:"G-8D1HGCRG4B"};let $0=(()=>{var i;class e{}return(i=e).\u0275fac=function(s){return new(s||i)},i.\u0275mod=k.oAB({type:i,bootstrap:[Ue]}),i.\u0275inj=k.cJS({providers:[{provide:Y.wN,useClass:fe.r4}],imports:[u.b2,ue.Pc.forRoot(),Vy,ne.hO.initializeApp(By_firebaseConfig),Te.ww]}),e})();(0,k.G48)(),u.q6().bootstrapModule($0).catch(i=>console.log(i))},5619:(Yt,et,N)=>{"use strict";N.d(et,{X:()=>k});var u=N(8645);class k extends u.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const Te=super._subscribe(ne);return!Te.closed&&ne.next(this._value),Te}getValue(){const{hasError:ne,thrownError:Te,_value:fe}=this;if(ne)throw Te;return this._throwIfClosed(),fe}next(ne){super.next(this._value=ne)}}},5592:(Yt,et,N)=>{"use strict";N.d(et,{y:()=>Ue});var u=N(305),k=N(7394),Y=N(4850),ne=N(8407),Te=N(2653),fe=N(4674),ue=N(1441);let Ue=(()=>{class Me{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ne=new Me;return Ne.source=this,Ne.operator=ke,Ne}subscribe(ke,Ne,it){const xe=function se(Me){return Me&&Me instanceof u.Lv||function _e(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,k.Nn)(Me)}(ke)?ke:new u.Hp(ke,Ne,it);return(0,ue.x)(()=>{const{operator:Pe,source:Ve}=this;xe.add(Pe?Pe.call(xe,Ve):Ve?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ne){ke.error(Ne)}}forEach(ke,Ne){return new(Ne=je(Ne))((it,xe)=>{const Pe=new u.Hp({next:Ve=>{try{ke(Ve)}catch(pt){xe(pt),Pe.unsubscribe()}},error:xe,complete:it});this.subscribe(Pe)})}_subscribe(ke){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(ke)}[Y.L](){return this}pipe(...ke){return(0,ne.U)(ke)(this)}toPromise(ke){return new(ke=je(ke))((Ne,it)=>{let xe;this.subscribe(Pe=>xe=Pe,Pe=>it(Pe),()=>Ne(xe))})}}return Me.create=Oe=>new Me(Oe),Me})();function je(Me){var Oe;return null!==(Oe=null!=Me?Me:Te.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(Yt,et,N)=>{"use strict";N.d(et,{x:()=>ue});var u=N(5592),k=N(7394);const ne=(0,N(2306).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=N(9039),fe=N(1441);let ue=(()=>{class je extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Me=new Ue(this,this);return Me.operator=se,Me}_throwIfClosed(){if(this.closed)throw new ne}next(se){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(se)}})}error(se){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Me}=this;for(;Me.length;)Me.shift().error(se)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Me,isStopped:Oe,observers:ke}=this;return Me||Oe?k.Lc:(this.currentObservers=null,ke.push(se),new k.w0(()=>{this.currentObservers=null,(0,Te.P)(ke,se)}))}_checkFinalizedStatuses(se){const{hasError:Me,thrownError:Oe,isStopped:ke}=this;Me?se.error(Oe):ke&&se.complete()}asObservable(){const se=new u.y;return se.source=this,se}}return je.create=(_e,se)=>new Ue(_e,se),je})();class Ue extends ue{constructor(_e,se){super(),this.destination=_e,this.source=se}next(_e){var se,Me;null===(Me=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Me||Me.call(se,_e)}error(_e){var se,Me;null===(Me=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Me||Me.call(se,_e)}complete(){var _e,se;null===(se=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===se||se.call(_e)}_subscribe(_e){var se,Me;return null!==(Me=null===(se=this.source)||void 0===se?void 0:se.subscribe(_e))&&void 0!==Me?Me:k.Lc}}},305:(Yt,et,N)=>{"use strict";N.d(et,{Hp:()=>it,Lv:()=>Me});var u=N(4674),k=N(7394),Y=N(2653),ne=N(3894),Te=N(2420);const fe=je("C",void 0,void 0);function je(ze,Re,Ae){return{kind:ze,value:Re,error:Ae}}var _e=N(7599),se=N(1441);class Me extends k.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,k.Nn)(Re)&&Re.add(this)):this.destination=pt}static create(Re,Ae,Je){return new it(Re,Ae,Je)}next(Re){this.isStopped?Ve(function Ue(ze){return je("N",ze,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ve(function ue(ze){return je("E",void 0,ze)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ve(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ke(ze,Re){return Oe.call(ze,Re)}class Ne{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Re)}catch(Je){xe(Je)}}error(Re){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Re)}catch(Je){xe(Je)}else xe(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Ae){xe(Ae)}}}class it extends Me{constructor(Re,Ae,Je){let z;if(super(),(0,u.m)(Re)||!Re)z={next:null!=Re?Re:void 0,error:null!=Ae?Ae:void 0,complete:null!=Je?Je:void 0};else{let pe;this&&Y.config.useDeprecatedNextContext?(pe=Object.create(Re),pe.unsubscribe=()=>this.unsubscribe(),z={next:Re.next&&ke(Re.next,pe),error:Re.error&&ke(Re.error,pe),complete:Re.complete&&ke(Re.complete,pe)}):z=Re}this.destination=new Ne(z)}}function xe(ze){Y.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(ze):(0,ne.h)(ze)}function Ve(ze,Re){const{onStoppedNotification:Ae}=Y.config;Ae&&_e.z.setTimeout(()=>Ae(ze,Re))}const pt={closed:!0,next:Te.Z,error:function Pe(ze){throw ze},complete:Te.Z}},7394:(Yt,et,N)=>{"use strict";N.d(et,{Lc:()=>fe,w0:()=>Te,Nn:()=>ue});var u=N(4674);const Y=(0,N(2306).d)(je=>function(se){je(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Me,Oe)=>`${Oe+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var ne=N(9039);class Te{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ke of se)ke.remove(this);else se.remove(this);const{initialTeardown:Me}=this;if((0,u.m)(Me))try{Me()}catch(ke){_e=ke instanceof Y?ke.errors:[ke]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ke of Oe)try{Ue(ke)}catch(Ne){_e=null!=_e?_e:[],Ne instanceof Y?_e=[..._e,...Ne.errors]:_e.push(Ne)}}if(_e)throw new Y(_e)}}add(_e){var se;if(_e&&_e!==this)if(this.closed)Ue(_e);else{if(_e instanceof Te){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(_e)}}_hasParent(_e){const{_parentage:se}=this;return se===_e||Array.isArray(se)&&se.includes(_e)}_addParent(_e){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(_e),se):se?[se,_e]:_e}_removeParent(_e){const{_parentage:se}=this;se===_e?this._parentage=null:Array.isArray(se)&&(0,ne.P)(se,_e)}remove(_e){const{_finalizers:se}=this;se&&(0,ne.P)(se,_e),_e instanceof Te&&_e._removeParent(this)}}Te.EMPTY=(()=>{const je=new Te;return je.closed=!0,je})();const fe=Te.EMPTY;function ue(je){return je instanceof Te||je&&"closed"in je&&(0,u.m)(je.remove)&&(0,u.m)(je.add)&&(0,u.m)(je.unsubscribe)}function Ue(je){(0,u.m)(je)?je():je.unsubscribe()}},2653:(Yt,et,N)=>{"use strict";N.d(et,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Yt,et,N)=>{"use strict";N.d(et,{a:()=>_e});var u=N(5592),k=N(7453),Y=N(2459),ne=N(2737),Te=N(7400),fe=N(4564),ue=N(2714),Ue=N(8251),je=N(7103);function _e(...Oe){const ke=(0,fe.yG)(Oe),Ne=(0,fe.jO)(Oe),{args:it,keys:xe}=(0,k.D)(Oe);if(0===it.length)return(0,Y.D)([],ke);const Pe=new u.y(function se(Oe,ke,Ne=ne.y){return it=>{Me(ke,()=>{const{length:xe}=Oe,Pe=new Array(xe);let Ve=xe,pt=xe;for(let ze=0;ze<xe;ze++)Me(ke,()=>{const Re=(0,Y.D)(Oe[ze],ke);let Ae=!1;Re.subscribe((0,Ue.x)(it,Je=>{Pe[ze]=Je,Ae||(Ae=!0,pt--),pt||it.next(Ne(Pe.slice()))},()=>{--Ve||it.complete()}))},it)},it)}}(it,ke,xe?Ve=>(0,ue.n)(xe,Ve):ne.y));return Ne?Pe.pipe((0,Te.Z)(Ne)):Pe}function Me(Oe,ke,Ne){Oe?(0,je.f)(Ne,Oe,ke):ke()}},5211:(Yt,et,N)=>{"use strict";N.d(et,{z:()=>Te});var u=N(7537),Y=N(4564),ne=N(2459);function Te(...fe){return function k(){return(0,u.J)(1)}()((0,ne.D)(fe,(0,Y.yG)(fe)))}},6232:(Yt,et,N)=>{"use strict";N.d(et,{E:()=>k});const k=new(N(5592).y)(Te=>Te.complete())},2459:(Yt,et,N)=>{"use strict";N.d(et,{D:()=>Re});var u=N(4829),k=N(3093),Y=N(5137),fe=N(5592),Ue=N(4971),je=N(4674),_e=N(7103);function Me(Ae,Je){if(!Ae)throw new Error("Iterable cannot be null");return new fe.y(z=>{(0,_e.f)(z,Je,()=>{const pe=Ae[Symbol.asyncIterator]();(0,_e.f)(z,Je,()=>{pe.next().then(ae=>{ae.done?z.complete():z.next(ae.value)})},0,!0)})})}var Oe=N(8382),ke=N(4026),Ne=N(4266),it=N(3664),xe=N(5726),Pe=N(9853),Ve=N(541);function Re(Ae,Je){return Je?function ze(Ae,Je){if(null!=Ae){if((0,Oe.c)(Ae))return function ne(Ae,Je){return(0,u.Xf)(Ae).pipe((0,Y.R)(Je),(0,k.Q)(Je))}(Ae,Je);if((0,Ne.z)(Ae))return function ue(Ae,Je){return new fe.y(z=>{let pe=0;return Je.schedule(function(){pe===Ae.length?z.complete():(z.next(Ae[pe++]),z.closed||this.schedule())})})}(Ae,Je);if((0,ke.t)(Ae))return function Te(Ae,Je){return(0,u.Xf)(Ae).pipe((0,Y.R)(Je),(0,k.Q)(Je))}(Ae,Je);if((0,xe.D)(Ae))return Me(Ae,Je);if((0,it.T)(Ae))return function se(Ae,Je){return new fe.y(z=>{let pe;return(0,_e.f)(z,Je,()=>{pe=Ae[Ue.h](),(0,_e.f)(z,Je,()=>{let ae,W;try{({value:ae,done:W}=pe.next())}catch(Qe){return void z.error(Qe)}W?z.complete():z.next(ae)},0,!0)}),()=>(0,je.m)(null==pe?void 0:pe.return)&&pe.return()})}(Ae,Je);if((0,Ve.L)(Ae))return function pt(Ae,Je){return Me((0,Ve.Q)(Ae),Je)}(Ae,Je)}throw(0,Pe.z)(Ae)}(Ae,Je):(0,u.Xf)(Ae)}},2438:(Yt,et,N)=>{"use strict";N.d(et,{R:()=>_e});var u=N(4829),k=N(5592),Y=N(1631),ne=N(4266),Te=N(4674),fe=N(7400);const ue=["addListener","removeListener"],Ue=["addEventListener","removeEventListener"],je=["on","off"];function _e(Ne,it,xe,Pe){if((0,Te.m)(xe)&&(Pe=xe,xe=void 0),Pe)return _e(Ne,it,xe).pipe((0,fe.Z)(Pe));const[Ve,pt]=function ke(Ne){return(0,Te.m)(Ne.addEventListener)&&(0,Te.m)(Ne.removeEventListener)}(Ne)?Ue.map(ze=>Re=>Ne[ze](it,Re,xe)):function Me(Ne){return(0,Te.m)(Ne.addListener)&&(0,Te.m)(Ne.removeListener)}(Ne)?ue.map(se(Ne,it)):function Oe(Ne){return(0,Te.m)(Ne.on)&&(0,Te.m)(Ne.off)}(Ne)?je.map(se(Ne,it)):[];if(!Ve&&(0,ne.z)(Ne))return(0,Y.z)(ze=>_e(ze,it,xe))((0,u.Xf)(Ne));if(!Ve)throw new TypeError("Invalid event target");return new k.y(ze=>{const Re=(...Ae)=>ze.next(1<Ae.length?Ae:Ae[0]);return Ve(Re),()=>pt(Re)})}function se(Ne,it){return xe=>Pe=>Ne[xe](it,Pe)}},4829:(Yt,et,N)=>{"use strict";N.d(et,{Xf:()=>Oe});var u=N(7582),k=N(4266),Y=N(4026),ne=N(5592),Te=N(8382),fe=N(5726),ue=N(9853),Ue=N(3664),je=N(541),_e=N(4674),se=N(3894),Me=N(4850);function Oe(ze){if(ze instanceof ne.y)return ze;if(null!=ze){if((0,Te.c)(ze))return function ke(ze){return new ne.y(Re=>{const Ae=ze[Me.L]();if((0,_e.m)(Ae.subscribe))return Ae.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,k.z)(ze))return function Ne(ze){return new ne.y(Re=>{for(let Ae=0;Ae<ze.length&&!Re.closed;Ae++)Re.next(ze[Ae]);Re.complete()})}(ze);if((0,Y.t)(ze))return function it(ze){return new ne.y(Re=>{ze.then(Ae=>{Re.closed||(Re.next(Ae),Re.complete())},Ae=>Re.error(Ae)).then(null,se.h)})}(ze);if((0,fe.D)(ze))return Pe(ze);if((0,Ue.T)(ze))return function xe(ze){return new ne.y(Re=>{for(const Ae of ze)if(Re.next(Ae),Re.closed)return;Re.complete()})}(ze);if((0,je.L)(ze))return function Ve(ze){return Pe((0,je.Q)(ze))}(ze)}throw(0,ue.z)(ze)}function Pe(ze){return new ne.y(Re=>{(function pt(ze,Re){var Ae,Je,z,pe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,u.KL)(ze);!(Je=yield Ae.next()).done;)if(Re.next(Je.value),Re.closed)return}catch(ae){z={error:ae}}finally{try{Je&&!Je.done&&(pe=Ae.return)&&(yield pe.call(Ae))}finally{if(z)throw z.error}}Re.complete()})})(ze,Re).catch(Ae=>Re.error(Ae))})}},2096:(Yt,et,N)=>{"use strict";N.d(et,{of:()=>Y});var u=N(4564),k=N(2459);function Y(...ne){const Te=(0,u.yG)(ne);return(0,k.D)(ne,Te)}},8251:(Yt,et,N)=>{"use strict";N.d(et,{x:()=>k});var u=N(305);function k(ne,Te,fe,ue,Ue){return new Y(ne,Te,fe,ue,Ue)}class Y extends u.Lv{constructor(Te,fe,ue,Ue,je,_e){super(Te),this.onFinalize=je,this.shouldUnsubscribe=_e,this._next=fe?function(se){try{fe(se)}catch(Me){Te.error(Me)}}:super._next,this._error=Ue?function(se){try{Ue(se)}catch(Me){Te.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(se){Te.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},3572:(Yt,et,N)=>{"use strict";N.d(et,{d:()=>Y});var u=N(9360),k=N(8251);function Y(ne){return(0,u.e)((Te,fe)=>{let ue=!1;Te.subscribe((0,k.x)(fe,Ue=>{ue=!0,fe.next(Ue)},()=>{ue||fe.next(ne),fe.complete()}))})}},3997:(Yt,et,N)=>{"use strict";N.d(et,{x:()=>ne});var u=N(2737),k=N(9360),Y=N(8251);function ne(fe,ue=u.y){return fe=null!=fe?fe:Te,(0,k.e)((Ue,je)=>{let _e,se=!0;Ue.subscribe((0,Y.x)(je,Me=>{const Oe=ue(Me);(se||!fe(_e,Oe))&&(se=!1,_e=Oe,je.next(Me))}))})}function Te(fe,ue){return fe===ue}},2181:(Yt,et,N)=>{"use strict";N.d(et,{h:()=>Y});var u=N(9360),k=N(8251);function Y(ne,Te){return(0,u.e)((fe,ue)=>{let Ue=0;fe.subscribe((0,k.x)(ue,je=>ne.call(Te,je,Ue++)&&ue.next(je)))})}},1374:(Yt,et,N)=>{"use strict";N.d(et,{P:()=>ue});var u=N(6973),k=N(2181),Y=N(8180),ne=N(3572),Te=N(3026),fe=N(2737);function ue(Ue,je){const _e=arguments.length>=2;return se=>se.pipe(Ue?(0,k.h)((Me,Oe)=>Ue(Me,Oe,se)):fe.y,(0,Y.q)(1),_e?(0,ne.d)(je):(0,Te.T)(()=>new u.K))}},7398:(Yt,et,N)=>{"use strict";N.d(et,{U:()=>Y});var u=N(9360),k=N(8251);function Y(ne,Te){return(0,u.e)((fe,ue)=>{let Ue=0;fe.subscribe((0,k.x)(ue,je=>{ue.next(ne.call(Te,je,Ue++))}))})}},7537:(Yt,et,N)=>{"use strict";N.d(et,{J:()=>Y});var u=N(1631),k=N(2737);function Y(ne=1/0){return(0,u.z)(k.y,ne)}},1631:(Yt,et,N)=>{"use strict";N.d(et,{z:()=>Ue});var u=N(7398),k=N(4829),Y=N(9360),ne=N(7103),Te=N(8251),ue=N(4674);function Ue(je,_e,se=1/0){return(0,ue.m)(_e)?Ue((Me,Oe)=>(0,u.U)((ke,Ne)=>_e(Me,ke,Oe,Ne))((0,k.Xf)(je(Me,Oe))),se):("number"==typeof _e&&(se=_e),(0,Y.e)((Me,Oe)=>function fe(je,_e,se,Me,Oe,ke,Ne,it){const xe=[];let Pe=0,Ve=0,pt=!1;const ze=()=>{pt&&!xe.length&&!Pe&&_e.complete()},Re=Je=>Pe<Me?Ae(Je):xe.push(Je),Ae=Je=>{ke&&_e.next(Je),Pe++;let z=!1;(0,k.Xf)(se(Je,Ve++)).subscribe((0,Te.x)(_e,pe=>{null==Oe||Oe(pe),ke?Re(pe):_e.next(pe)},()=>{z=!0},void 0,()=>{if(z)try{for(Pe--;xe.length&&Pe<Me;){const pe=xe.shift();Ne?(0,ne.f)(_e,Ne,()=>Ae(pe)):Ae(pe)}ze()}catch(pe){_e.error(pe)}}))};return je.subscribe((0,Te.x)(_e,Re,()=>{pt=!0,ze()})),()=>{null==it||it()}}(Me,Oe,je,se)))}},3093:(Yt,et,N)=>{"use strict";N.d(et,{Q:()=>ne});var u=N(7103),k=N(9360),Y=N(8251);function ne(Te,fe=0){return(0,k.e)((ue,Ue)=>{ue.subscribe((0,Y.x)(Ue,je=>(0,u.f)(Ue,Te,()=>Ue.next(je),fe),()=>(0,u.f)(Ue,Te,()=>Ue.complete(),fe),je=>(0,u.f)(Ue,Te,()=>Ue.error(je),fe)))})}},6699:(Yt,et,N)=>{"use strict";N.d(et,{R:()=>ne});var u=N(9360),k=N(8251);function ne(Te,fe){return(0,u.e)(function Y(Te,fe,ue,Ue,je){return(_e,se)=>{let Me=ue,Oe=fe,ke=0;_e.subscribe((0,k.x)(se,Ne=>{const it=ke++;Oe=Me?Te(Oe,Ne,it):(Me=!0,Ne),Ue&&se.next(Oe)},je&&(()=>{Me&&se.next(Oe),se.complete()})))}}(Te,fe,arguments.length>=2,!0))}},7921:(Yt,et,N)=>{"use strict";N.d(et,{O:()=>ne});var u=N(5211),k=N(4564),Y=N(9360);function ne(...Te){const fe=(0,k.yG)(Te);return(0,Y.e)((ue,Ue)=>{(fe?(0,u.z)(Te,ue,fe):(0,u.z)(Te,ue)).subscribe(Ue)})}},5137:(Yt,et,N)=>{"use strict";N.d(et,{R:()=>k});var u=N(9360);function k(Y,ne=0){return(0,u.e)((Te,fe)=>{fe.add(Y.schedule(()=>Te.subscribe(fe),ne))})}},4664:(Yt,et,N)=>{"use strict";N.d(et,{w:()=>ne});var u=N(4829),k=N(9360),Y=N(8251);function ne(Te,fe){return(0,k.e)((ue,Ue)=>{let je=null,_e=0,se=!1;const Me=()=>se&&!je&&Ue.complete();ue.subscribe((0,Y.x)(Ue,Oe=>{null==je||je.unsubscribe();let ke=0;const Ne=_e++;(0,u.Xf)(Te(Oe,Ne)).subscribe(je=(0,Y.x)(Ue,it=>Ue.next(fe?fe(Oe,it,Ne,ke++):it),()=>{je=null,Me()}))},()=>{se=!0,Me()}))})}},8180:(Yt,et,N)=>{"use strict";N.d(et,{q:()=>ne});var u=N(6232),k=N(9360),Y=N(8251);function ne(Te){return Te<=0?()=>u.E:(0,k.e)((fe,ue)=>{let Ue=0;fe.subscribe((0,Y.x)(ue,je=>{++Ue<=Te&&(ue.next(je),Te<=Ue&&ue.complete())}))})}},9397:(Yt,et,N)=>{"use strict";N.d(et,{b:()=>Te});var u=N(4674),k=N(9360),Y=N(8251),ne=N(2737);function Te(fe,ue,Ue){const je=(0,u.m)(fe)||ue||Ue?{next:fe,error:ue,complete:Ue}:fe;return je?(0,k.e)((_e,se)=>{var Me;null===(Me=je.subscribe)||void 0===Me||Me.call(je);let Oe=!0;_e.subscribe((0,Y.x)(se,ke=>{var Ne;null===(Ne=je.next)||void 0===Ne||Ne.call(je,ke),se.next(ke)},()=>{var ke;Oe=!1,null===(ke=je.complete)||void 0===ke||ke.call(je),se.complete()},ke=>{var Ne;Oe=!1,null===(Ne=je.error)||void 0===Ne||Ne.call(je,ke),se.error(ke)},()=>{var ke,Ne;Oe&&(null===(ke=je.unsubscribe)||void 0===ke||ke.call(je)),null===(Ne=je.finalize)||void 0===Ne||Ne.call(je)}))}):ne.y}},3026:(Yt,et,N)=>{"use strict";N.d(et,{T:()=>ne});var u=N(6973),k=N(9360),Y=N(8251);function ne(fe=Te){return(0,k.e)((ue,Ue)=>{let je=!1;ue.subscribe((0,Y.x)(Ue,_e=>{je=!0,Ue.next(_e)},()=>je?Ue.complete():Ue.error(fe())))})}function Te(){return new u.K}},1954:(Yt,et,N)=>{"use strict";N.d(et,{o:()=>Te});var u=N(7394);class k extends u.w0{constructor(ue,Ue){super()}schedule(ue,Ue=0){return this}}const Y={setInterval(fe,ue,...Ue){const{delegate:je}=Y;return null!=je&&je.setInterval?je.setInterval(fe,ue,...Ue):setInterval(fe,ue,...Ue)},clearInterval(fe){const{delegate:ue}=Y;return((null==ue?void 0:ue.clearInterval)||clearInterval)(fe)},delegate:void 0};var ne=N(9039);class Te extends k{constructor(ue,Ue){super(ue,Ue),this.scheduler=ue,this.work=Ue,this.pending=!1}schedule(ue,Ue=0){var je;if(this.closed)return this;this.state=ue;const _e=this.id,se=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(se,_e,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(se,this.id,Ue),this}requestAsyncId(ue,Ue,je=0){return Y.setInterval(ue.flush.bind(ue,this),je)}recycleAsyncId(ue,Ue,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Ue;null!=Ue&&Y.clearInterval(Ue)}execute(ue,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(ue,Ue);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Ue){let _e,je=!1;try{this.work(ue)}catch(se){je=!0,_e=se||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:ue,scheduler:Ue}=this,{actions:je}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(je,this),null!=ue&&(this.id=this.recycleAsyncId(Ue,ue,null)),this.delay=null,super.unsubscribe()}}}},2631:(Yt,et,N)=>{"use strict";N.d(et,{v:()=>Y});var u=N(4552);class k{constructor(Te,fe=k.now){this.schedulerActionCtor=Te,this.now=fe}schedule(Te,fe=0,ue){return new this.schedulerActionCtor(this,Te).schedule(ue,fe)}}k.now=u.l.now;class Y extends k{constructor(Te,fe=k.now){super(Te,fe),this.actions=[],this._active=!1}flush(Te){const{actions:fe}=this;if(this._active)return void fe.push(Te);let ue;this._active=!0;do{if(ue=Te.execute(Te.state,Te.delay))break}while(Te=fe.shift());if(this._active=!1,ue){for(;Te=fe.shift();)Te.unsubscribe();throw ue}}}},6321:(Yt,et,N)=>{"use strict";N.d(et,{z:()=>Y});var u=N(1954);const Y=new(N(2631).v)(u.o)},4552:(Yt,et,N)=>{"use strict";N.d(et,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(Yt,et,N)=>{"use strict";N.d(et,{z:()=>u});const u={setTimeout(k,Y,...ne){const{delegate:Te}=u;return null!=Te&&Te.setTimeout?Te.setTimeout(k,Y,...ne):setTimeout(k,Y,...ne)},clearTimeout(k){const{delegate:Y}=u;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(k)},delegate:void 0}},4971:(Yt,et,N)=>{"use strict";N.d(et,{h:()=>k});const k=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Yt,et,N)=>{"use strict";N.d(et,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Yt,et,N)=>{"use strict";N.d(et,{K:()=>k});const k=(0,N(2306).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Yt,et,N)=>{"use strict";N.d(et,{_6:()=>fe,jO:()=>ne,yG:()=>Te});var u=N(4674);function Y(ue){return ue[ue.length-1]}function ne(ue){return(0,u.m)(Y(ue))?ue.pop():void 0}function Te(ue){return function k(ue){return ue&&(0,u.m)(ue.schedule)}(Y(ue))?ue.pop():void 0}function fe(ue,Ue){return"number"==typeof Y(ue)?ue.pop():Ue}},7453:(Yt,et,N)=>{"use strict";N.d(et,{D:()=>Te});const{isArray:u}=Array,{getPrototypeOf:k,prototype:Y,keys:ne}=Object;function Te(ue){if(1===ue.length){const Ue=ue[0];if(u(Ue))return{args:Ue,keys:null};if(function fe(ue){return ue&&"object"==typeof ue&&k(ue)===Y}(Ue)){const je=ne(Ue);return{args:je.map(_e=>Ue[_e]),keys:je}}}return{args:ue,keys:null}}},9039:(Yt,et,N)=>{"use strict";function u(k,Y){if(k){const ne=k.indexOf(Y);0<=ne&&k.splice(ne,1)}}N.d(et,{P:()=>u})},2306:(Yt,et,N)=>{"use strict";function u(k){const ne=k(Te=>{Error.call(Te),Te.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}N.d(et,{d:()=>u})},2714:(Yt,et,N)=>{"use strict";function u(k,Y){return k.reduce((ne,Te,fe)=>(ne[Te]=Y[fe],ne),{})}N.d(et,{n:()=>u})},1441:(Yt,et,N)=>{"use strict";N.d(et,{O:()=>ne,x:()=>Y});var u=N(2653);let k=null;function Y(Te){if(u.config.useDeprecatedSynchronousErrorHandling){const fe=!k;if(fe&&(k={errorThrown:!1,error:null}),Te(),fe){const{errorThrown:ue,error:Ue}=k;if(k=null,ue)throw Ue}}else Te()}function ne(Te){u.config.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=Te)}},7103:(Yt,et,N)=>{"use strict";function u(k,Y,ne,Te=0,fe=!1){const ue=Y.schedule(function(){ne(),fe?k.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(k.add(ue),!fe)return ue}N.d(et,{f:()=>u})},2737:(Yt,et,N)=>{"use strict";function u(k){return k}N.d(et,{y:()=>u})},4266:(Yt,et,N)=>{"use strict";N.d(et,{z:()=>u});const u=k=>k&&"number"==typeof k.length&&"function"!=typeof k},5726:(Yt,et,N)=>{"use strict";N.d(et,{D:()=>k});var u=N(4674);function k(Y){return Symbol.asyncIterator&&(0,u.m)(null==Y?void 0:Y[Symbol.asyncIterator])}},4674:(Yt,et,N)=>{"use strict";function u(k){return"function"==typeof k}N.d(et,{m:()=>u})},8382:(Yt,et,N)=>{"use strict";N.d(et,{c:()=>Y});var u=N(4850),k=N(4674);function Y(ne){return(0,k.m)(ne[u.L])}},3664:(Yt,et,N)=>{"use strict";N.d(et,{T:()=>Y});var u=N(4971),k=N(4674);function Y(ne){return(0,k.m)(null==ne?void 0:ne[u.h])}},4026:(Yt,et,N)=>{"use strict";N.d(et,{t:()=>k});var u=N(4674);function k(Y){return(0,u.m)(null==Y?void 0:Y.then)}},541:(Yt,et,N)=>{"use strict";N.d(et,{L:()=>ne,Q:()=>Y});var u=N(7582),k=N(4674);function Y(Te){return(0,u.FC)(this,arguments,function*(){const ue=Te.getReader();try{for(;;){const{value:Ue,done:je}=yield(0,u.qq)(ue.read());if(je)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ue)}}finally{ue.releaseLock()}})}function ne(Te){return(0,k.m)(null==Te?void 0:Te.getReader)}},9360:(Yt,et,N)=>{"use strict";N.d(et,{A:()=>k,e:()=>Y});var u=N(4674);function k(ne){return(0,u.m)(null==ne?void 0:ne.lift)}function Y(ne){return Te=>{if(k(Te))return Te.lift(function(fe){try{return ne(fe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Yt,et,N)=>{"use strict";N.d(et,{Z:()=>ne});var u=N(7398);const{isArray:k}=Array;function ne(Te){return(0,u.U)(fe=>function Y(Te,fe){return k(fe)?Te(...fe):Te(fe)}(Te,fe))}},2420:(Yt,et,N)=>{"use strict";function u(){}N.d(et,{Z:()=>u})},8407:(Yt,et,N)=>{"use strict";N.d(et,{U:()=>Y,z:()=>k});var u=N(2737);function k(...ne){return Y(ne)}function Y(ne){return 0===ne.length?u.y:1===ne.length?ne[0]:function(fe){return ne.reduce((ue,Ue)=>Ue(ue),fe)}}},3894:(Yt,et,N)=>{"use strict";N.d(et,{h:()=>Y});var u=N(2653),k=N(7599);function Y(ne){k.z.setTimeout(()=>{const{onUnhandledError:Te}=u.config;if(!Te)throw ne;Te(ne)})}},9853:(Yt,et,N)=>{"use strict";function u(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(et,{z:()=>u})},863:(Yt,et,N)=>{var u={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,4411,433],"./ion-datetime_3.entry.js":[7059,4411,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function k(Y){if(!N.o(u,Y))return Promise.resolve().then(()=>{var fe=new Error("Cannot find module '"+Y+"'");throw fe.code="MODULE_NOT_FOUND",fe});var ne=u[Y],Te=ne[0];return Promise.all(ne.slice(1).map(N.e)).then(()=>N(Te))}k.keys=()=>Object.keys(u),k.id=863,Yt.exports=k},6814:(Yt,et,N)=>{"use strict";N.d(et,{Do:()=>it,EM:()=>Co,HT:()=>ne,JF:()=>na,K0:()=>fe,Mx:()=>Ri,O5:()=>H,PM:()=>ws,S$:()=>Oe,V_:()=>Ue,Ye:()=>xe,b0:()=>Ne,bD:()=>qi,ez:()=>Ts,q:()=>Y,tP:()=>Ge,w_:()=>Te});var u=N(9212);let k=null;function Y(){return k}function ne(w){var F;null!==(F=k)&&void 0!==F||(k=w)}class Te{}const fe=new u.OlP("");let ue=(()=>{var w;class F{historyGo(O){throw new Error("")}}return(w=F).\u0275fac=function(O){return new(O||w)},w.\u0275prov=u.Yz7({token:w,factory:()=>(0,u.f3M)(je),providedIn:"platform"}),F})();const Ue=new u.OlP("");let je=(()=>{var w;class F extends ue{constructor(){super(),this._doc=(0,u.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(O){const re=Y().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",O,!1),()=>re.removeEventListener("popstate",O)}onHashChange(O){const re=Y().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",O,!1),()=>re.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,re,Se){this._history.pushState(O,re,Se)}replaceState(O,re,Se){this._history.replaceState(O,re,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return(w=F).\u0275fac=function(O){return new(O||w)},w.\u0275prov=u.Yz7({token:w,factory:()=>new w,providedIn:"platform"}),F})();function _e(w,F){if(0==w.length)return F;if(0==F.length)return w;let Ee=0;return w.endsWith("/")&&Ee++,F.startsWith("/")&&Ee++,2==Ee?w+F.substring(1):1==Ee?w+F:w+"/"+F}function se(w){const F=w.match(/#|\?|$/),Ee=F&&F.index||w.length;return w.slice(0,Ee-("/"===w[Ee-1]?1:0))+w.slice(Ee)}function Me(w){return w&&"?"!==w[0]?"?"+w:w}let Oe=(()=>{var w;class F{historyGo(O){throw new Error("")}}return(w=F).\u0275fac=function(O){return new(O||w)},w.\u0275prov=u.Yz7({token:w,factory:()=>(0,u.f3M)(Ne),providedIn:"root"}),F})();const ke=new u.OlP("");let Ne=(()=>{var w;class F extends Oe{constructor(O,re){var Se,Dt,qt;super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=null!==(Se=null!==(Dt=null!=re?re:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Dt?Dt:null===(qt=(0,u.f3M)(fe).location)||void 0===qt?void 0:qt.origin)&&void 0!==Se?Se:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return _e(this._baseHref,O)}path(O=!1){const re=this._platformLocation.pathname+Me(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&O?`${re}${Se}`:re}pushState(O,re,Se,Dt){const qt=this.prepareExternalUrl(Se+Me(Dt));this._platformLocation.pushState(O,re,qt)}replaceState(O,re,Se,Dt){const qt=this.prepareExternalUrl(Se+Me(Dt));this._platformLocation.replaceState(O,re,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){var re,Se;null===(re=(Se=this._platformLocation).historyGo)||void 0===re||re.call(Se,O)}}return(w=F).\u0275fac=function(O){return new(O||w)(u.LFG(ue),u.LFG(ke,8))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),F})(),it=(()=>{var w;class F extends Oe{constructor(O,re){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){var re;const Se=null!==(re=this._platformLocation.hash)&&void 0!==re?re:"#";return Se.length>0?Se.substring(1):Se}prepareExternalUrl(O){const re=_e(this._baseHref,O);return re.length>0?"#"+re:re}pushState(O,re,Se,Dt){let qt=this.prepareExternalUrl(Se+Me(Dt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.pushState(O,re,qt)}replaceState(O,re,Se,Dt){let qt=this.prepareExternalUrl(Se+Me(Dt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.replaceState(O,re,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){var re,Se;null===(re=(Se=this._platformLocation).historyGo)||void 0===re||re.call(Se,O)}}return(w=F).\u0275fac=function(O){return new(O||w)(u.LFG(ue),u.LFG(ke,8))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac}),F})(),xe=(()=>{var w;class F{constructor(O){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const re=this._locationStrategy.getBaseHref();this._basePath=function ze(w){if(new RegExp("^(https?:)?//").test(w)){const[,Ee]=w.split(/\/\/[^\/]+/);return Ee}return w}(se(pt(re))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){var O;null===(O=this._urlChangeSubscription)||void 0===O||O.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,re=""){return this.path()==this.normalize(O+Me(re))}normalize(O){return F.stripTrailingSlash(function Ve(w,F){if(!w||!F.startsWith(w))return F;const Ee=F.substring(w.length);return""===Ee||["/",";","?","#"].includes(Ee[0])?Ee:F}(this._basePath,pt(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,re="",Se=null){this._locationStrategy.pushState(Se,"",O,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Me(re)),Se)}replaceState(O,re="",Se=null){this._locationStrategy.replaceState(Se,"",O,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Me(re)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){var re,Se;null===(re=(Se=this._locationStrategy).historyGo)||void 0===re||re.call(Se,O)}onUrlChange(O){var re;return this._urlChangeListeners.push(O),null!==(re=this._urlChangeSubscription)&&void 0!==re||(this._urlChangeSubscription=this.subscribe(Se=>{this._notifyUrlChangeListeners(Se.url,Se.state)})),()=>{const Se=this._urlChangeListeners.indexOf(O);var Dt;this._urlChangeListeners.splice(Se,1),0===this._urlChangeListeners.length&&(null===(Dt=this._urlChangeSubscription)||void 0===Dt||Dt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",re){this._urlChangeListeners.forEach(Se=>Se(O,re))}subscribe(O,re,Se){return this._subject.subscribe({next:O,error:re,complete:Se})}}return(w=F).normalizeQueryParams=Me,w.joinWithSlash=_e,w.stripTrailingSlash=se,w.\u0275fac=function(O){return new(O||w)(u.LFG(Oe))},w.\u0275prov=u.Yz7({token:w,factory:()=>function Pe(){return new xe((0,u.LFG)(Oe))}(),providedIn:"root"}),F})();function pt(w){return w.replace(/\/index.html$/,"")}function Ri(w,F){F=encodeURIComponent(F);for(const Ee of w.split(";")){const O=Ee.indexOf("="),[re,Se]=-1==O?[Ee,""]:[Ee.slice(0,O),Ee.slice(O+1)];if(re.trim()===F)return decodeURIComponent(Se)}return null}let H=(()=>{var w;class F{constructor(O,re){this._viewContainer=O,this._context=new ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){rt("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){rt("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,re){return!0}}return(w=F).\u0275fac=function(O){return new(O||w)(u.Y36(u.s_b),u.Y36(u.Rgc))},w.\u0275dir=u.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class ie{constructor(){this.$implicit=null,this.ngIf=null}}function rt(w,F){if(F&&!F.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,u.AaK)(F)}'.`)}let Ge=(()=>{var w;class F{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(this._shouldRecreateView(O)){var re;const Se=this._viewContainerRef;if(this._viewRef&&Se.remove(Se.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Dt=this._createContextForwardProxy();this._viewRef=Se.createEmbeddedView(this.ngTemplateOutlet,Dt,{injector:null!==(re=this.ngTemplateOutletInjector)&&void 0!==re?re:void 0})}}_shouldRecreateView(O){return!!O.ngTemplateOutlet||!!O.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(O,re,Se)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,re,Se),get:(O,re,Se)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,re,Se)}})}}return(w=F).\u0275fac=function(O){return new(O||w)(u.Y36(u.s_b))},w.\u0275dir=u.lG2({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),F})(),Ts=(()=>{var w;class F{}return(w=F).\u0275fac=function(O){return new(O||w)},w.\u0275mod=u.oAB({type:w}),w.\u0275inj=u.cJS({}),F})();const qi="browser",Ni="server";function ws(w){return w===Ni}let Co=(()=>{var w;class F{}return(w=F).\u0275prov=(0,u.Yz7)({token:w,providedIn:"root",factory:()=>function to(w){return w===qi}((0,u.f3M)(u.Lbi))?new Do((0,u.f3M)(fe),window):new mo}),F})();class Do{constructor(F,Ee){this.document=F,this.window=Ee,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(F){this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){const Ee=function Xo(w,F){const Ee=w.getElementById(F)||w.getElementsByName(F)[0];if(Ee)return Ee;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const O=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let re=O.currentNode;for(;re;){const Se=re.shadowRoot;if(Se){const Dt=Se.getElementById(F)||Se.querySelector(`[name="${F}"]`);if(Dt)return Dt}re=O.nextNode()}}return null}(this.document,F);Ee&&(this.scrollToElement(Ee),Ee.focus())}setHistoryScrollRestoration(F){this.window.history.scrollRestoration=F}scrollToElement(F){const Ee=F.getBoundingClientRect(),O=Ee.left+this.window.pageXOffset,re=Ee.top+this.window.pageYOffset,Se=this.offset();this.window.scrollTo(O-Se[0],re-Se[1])}}class mo{setOffset(F){}getScrollPosition(){return[0,0]}scrollToPosition(F){}scrollToAnchor(F){}setHistoryScrollRestoration(F){}}class na{}},9212:(Yt,et,N)=>{"use strict";N.d(et,{tb:()=>OE,AFp:()=>vh,ip1:()=>ow,hGG:()=>iM,z2F:()=>hf,Ojb:()=>X,sBO:()=>Ji,Sil:()=>uR,EJc:()=>WR,Xts:()=>so,SBq:()=>Oc,lqb:()=>Po,qLn:()=>ll,vpe:()=>fl,XFs:()=>ie,OlP:()=>$,zs3:()=>Uo,ZZ4:()=>Hh,aQg:()=>Nm,soG:()=>nI,YKP:()=>yT,h0i:()=>df,R0b:()=>Gi,FiY:()=>lc,Lbi:()=>p,g9A:()=>f,Qsj:()=>k_,FYo:()=>Nc,JOm:()=>Dh,tp0:()=>uc,Rgc:()=>Bv,dDg:()=>FR,eoX:()=>iw,q4F:()=>aR,GfV:()=>QT,s_b:()=>tg,ifc:()=>qi,T8G:()=>cv,VuI:()=>PM,LMc:()=>OM,MMx:()=>ET,Lck:()=>uS,eFA:()=>pw,G48:()=>XR,Gpc:()=>xn,f3M:()=>nr,X6Q:()=>QR,$WT:()=>Ii,_c5:()=>rM,qFp:()=>NM,r_H:()=>od,rg0:()=>NI,c2e:()=>XT,zSh:()=>id,wAp:()=>Tg,I6F:()=>Jy,vHH:()=>Pt,lri:()=>nw,rWj:()=>rw,cg1:()=>oE,kuF:()=>Xt,kL8:()=>QC,dqk:()=>on,Z0I:()=>yi,eJc:()=>jo,QGY:()=>lE,F4k:()=>TD,RDi:()=>Of,AaK:()=>dn,qOj:()=>pv,lbL:()=>eo,Xq5:()=>g0,TTD:()=>ro,_Bn:()=>_T,jDz:()=>CT,xp6:()=>jm,uIk:()=>H0,ekj:()=>K0,Suo:()=>WD,Xpm:()=>wa,lG2:()=>Kl,Yz7:()=>Vn,cJS:()=>Ui,oAB:()=>Jo,Yjl:()=>As,Y36:()=>Sd,_UZ:()=>tE,GkF:()=>iE,qZA:()=>zy,TgZ:()=>Hy,EpF:()=>YC,n5z:()=>La,LFG:()=>Hr,$8M:()=>tc,$Z:()=>Ep,NdJ:()=>uE,CRH:()=>KD,oxw:()=>RD,Hsn:()=>PD,F$t:()=>MD,Q6J:()=>q0,iGM:()=>YD,MAs:()=>ZD,KtG:()=>Wc,CHM:()=>hr,P3R:()=>R_,YNc:()=>Bc,_uU:()=>sT,Gf:()=>qD}),N(5861);let Y=null,Te=1;const fe=Symbol("SIGNAL");function ue(t){const n=Y;return Y=t,n}function ke(t){if((!Je(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Te)){if(!t.producerMustRecompute(t)&&!pt(t))return t.dirty=!1,void(t.lastCleanEpoch=Te);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Te}}function pt(t){z(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||(ke(o),a!==o.version))return!0}return!1}function Ae(t,n){if(function pe(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),z(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ae(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];z(c),c.producerIndexOfThis[a]=n}}function Je(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function z(t){var n,o,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let sn=null;var mt=N(8645),ht=N(7394),ct=N(5619),bt=N(7398);const rn="https://g.co/ng/security#xss";class Pt extends Error{constructor(n,o){super(Xt(n,o)),this.code=n}}function Xt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Tn(t){for(let n in t)if(t[n]===Tn)return n;throw Error("Could not find renamed property on target object.")}function Br(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function dn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(dn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Kr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const xr=Tn({__forward_ref__:Tn});function xn(t){return t.__forward_ref__=xn,t.toString=function(){return dn(this())},t}function en(t){return Zr(t)?t():t}function Zr(t){return"function"==typeof t&&t.hasOwnProperty(xr)&&t.__forward_ref__===xn}function $i(t){return t&&!!t.\u0275providers}const Lr=Tn({\u0275cmp:Tn}),Qr=Tn({\u0275dir:Tn}),Or=Tn({\u0275pipe:Tn}),Gr=Tn({\u0275mod:Tn}),$r=Tn({\u0275fac:Tn}),_t=Tn({__NG_ELEMENT_ID__:Tn}),Ze=Tn({__NG_ENV_ID__:Tn});function Xe(t){return"string"==typeof t?t:null==t?"":String(t)}function Bt(t,n){throw new Pt(-201,!1)}function $t(t,n){null==t&&function Ut(t,n,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Vn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ui(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cr(t){return hi(t,dr)||hi(t,ve)}function yi(t){return null!==Cr(t)}function hi(t,n){return t.hasOwnProperty(n)?t[n]:null}function er(t){return t&&(t.hasOwnProperty(me)||t.hasOwnProperty(H))?t[me]:null}const dr=Tn({\u0275prov:Tn}),me=Tn({\u0275inj:Tn}),ve=Tn({ngInjectableDef:Tn}),H=Tn({ngInjectorDef:Tn});var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{});let rt;function Rt(){return rt}function zt(t){const n=rt;return rt=t,n}function nn(t,n,o){const a=Cr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&ie.Optional?null:void 0!==n?n:void Bt()}const on=globalThis;class ${constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Vn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hn={},tr="__NG_DI_FLAG__",gr="ngTempTokenPath",ee=/\n/gm,le="__source";let We;function jr(t){const n=We;return We=t,n}function ti(t,n=ie.Default){if(void 0===We)throw new Pt(-203,!1);return null===We?nn(t,void 0,n):We.get(t,n&ie.Optional?null:void 0,n)}function Hr(t,n=ie.Default){return(Rt()||ti)(en(t),n)}function nr(t,n=ie.Default){return Hr(t,No(n))}function No(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qo(t){const n=[];for(let o=0;o<t.length;o++){const a=en(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Pt(900,!1);let c,h=ie.Default;for(let m=0;m<a.length;m++){const _=a[m],E=us(_);"number"==typeof E?-1===E?c=_.token:h|=E:c=_}n.push(Hr(c,h))}else n.push(Hr(a))}return n}function ko(t,n){return t[tr]=n,t.prototype[tr]=n,t}function us(t){return t[tr]}function ji(t){return{toString:t}.toString()}var Ts=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ts||{}),qi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qi||{});const Ni={},Kn=[];var eo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(eo||{});function to(t,n,o){let a=t.length;for(;;){const c=t.indexOf(n,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function ws(t,n,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],m=o[a++],_=o[a++];t.setAttribute(n,m,_,h)}else{const h=c,m=o[++a];Eo(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function Ya(t){return 3===t||4===t||6===t}function Eo(t){return 64===t.charCodeAt(0)}function cs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?o=c:0===o||Co(t,o,c,null,-1===o||2===o?n[++a]:null)}}return t}function Co(t,n,o,a,c){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const _=t[h++];if("number"==typeof _){if(_===n){m=-1;break}if(_>n){m=h-1;break}}}for(;h<t.length;){const _=t[h];if("number"==typeof _)break;if(_===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const Do="ng-template";function Xo(t,n,o){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const m=t[a++];if(o&&"class"===h&&-1!==to(m.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function mo(t){return 4===t.type&&t.value!==Do}function na(t,n,o){return n===(4!==t.type||o?t.value:Do)}function Yr(t,n,o){let a=4;const c=t.attrs||[],h=function Ta(t){for(let n=0;n<t.length;n++)if(Ya(t[n]))return n;return t.length}(c);let m=!1;for(let _=0;_<n.length;_++){const E=n[_];if("number"!=typeof E){if(!m)if(4&a){if(a=2|1&a,""!==E&&!na(t,E,o)||""===E&&1===n.length){if(Yi(a))return!1;m=!0}}else{const x=8&a?E:n[++_];if(8&a&&null!==t.attrs){if(!Xo(t.attrs,x,o)){if(Yi(a))return!1;m=!0}continue}const K=ds(8&a?"class":E,c,mo(t),o);if(-1===K){if(Yi(a))return!1;m=!0;continue}if(""!==x){let Ie;Ie=K>h?"":c[K+1].toLowerCase();const He=8&a?Ie:null;if(He&&-1!==to(He,x,0)||2&a&&x!==Ie){if(Yi(a))return!1;m=!0}}}}else{if(!m&&!Yi(a)&&!Yi(E))return!1;if(m&&Yi(E))continue;m=!1,a=E|1&a}}return Yi(a)||m}function Yi(t){return 0==(1&t)}function ds(t,n,o,a){if(null===n)return-1;let c=0;if(a||!o){let h=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=n[++c];for(;"string"==typeof _;)_=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function zo(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function To(t,n,o=!1){for(let a=0;a<n.length;a++)if(Yr(t,n[a],o))return!0;return!1}function Yl(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function bs(t,n){return t?":not("+n.trim()+")":n}function Mi(t){let n=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const _=t[++o];c+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Yi(m)&&(n+=bs(h,c),c=""),a=m,h=h||!Yi(a);o++}return""!==c&&(n+=bs(h,c)),n}function wa(t){return ji(()=>{var n;const o=Ss(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ts.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||qi.Emulated,styles:t.styles||Kn,_:null,schemas:t.schemas||null,tView:null,id:""};ia(a);const c=t.dependencies;return a.directiveDefs=zs(c,!1),a.pipeDefs=zs(c,!0),a.id=function ai(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function ba(t){return Yn(t)||Xr(t)}function ra(t){return null!==t}function Jo(t){return ji(()=>({type:t.type,bootstrap:t.bootstrap||Kn,declarations:t.declarations||Kn,imports:t.imports||Kn,exports:t.exports||Kn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function es(t,n){if(null==t)return Ni;const o={};for(const c in t)if(t.hasOwnProperty(c)){const h=t[c];let m,_,E=eo.None;var a;Array.isArray(h)?(E=h[0],m=h[1],_=null!==(a=h[2])&&void 0!==a?a:m):(m=h,_=h),n?(o[m]=E!==eo.None?[c,E]:c,n[m]=_):o[m]=c}return o}function Kl(t){return ji(()=>{const n=Ss(t);return ia(n),n})}function As(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yn(t){return t[Lr]||null}function Xr(t){return t[Qr]||null}function Pi(t){return t[Or]||null}function Ii(t){const n=Yn(t)||Xr(t)||Pi(t);return null!==n&&n.standalone}function si(t,n){const o=t[Gr]||null;if(!o&&!0===n)throw new Error(`Type ${dn(t)} does not have '\u0275mod' property.`);return o}function Ss(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ni,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Kn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:es(t.inputs,n),outputs:es(t.outputs),debugInfo:null}}function ia(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function zs(t,n){if(!t)return null;const o=n?Pi:ba;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(ra)}const B=0,A=1,G=2,L=3,de=4,Nt=5,wn=6,Dr=7,cr=8,Zn=9,Ei=10,Hn=11,Rs=12,Ka=13,Go=14,Vr=15,Gs=16,Fo=17,Ki=18,no=19,oa=20,hs=21,Ms=22,bo=23,Gn=25,Ws=1,co=7,ts=9,Ci=10;var Aa=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Aa||{});function li(t){return Array.isArray(t)&&"object"==typeof t[Ws]}function ki(t){return Array.isArray(t)&&!0===t[Ws]}function _l(t){return 0!=(4&t.flags)}function ns(t){return t.componentOffset>-1}function Sa(t){return 1==(1&t.flags)}function Ao(t){return!!t.template}function Ra(t){return 0!=(512&t[G])}function Di(t,n){return t.hasOwnProperty($r)?t[$r]:null}class Fi{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function ci(t,n,o,a){null!==n?n.applyValueToInputSignal(n,a):t[o]=a}function ro(){return rs}function rs(t){return t.type.prototype.ngOnChanges&&(t.setInput=ju),Ys}function Ys(){const t=Ps(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===Ni)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function ju(t,n,o,a,c){const h=this.declaredInputs[a],m=Ps(t)||function Zd(t,n){return t[Uc]=n}(t,{previous:Ni,current:null}),_=m.current||(m.current={}),E=m.previous,x=E[h];_[h]=new Fi(x&&x.currentValue,o,E===Ni),ci(t,n,c,o)}ro.ngInherit=!0;const Uc="__ngSimpleChanges__";function Ps(t){return t[Uc]||null}const Ks=function(t,n,o){};let ps=!1;function wr(t){for(;Array.isArray(t);)t=t[B];return t}function kr(t,n){return wr(n[t.index])}function Os(t,n){return t.data[n]}function So(t,n){const o=n[t];return li(o)?o:o[B]}function pi(t){return 128==(128&t[G])}function gi(t,n){return null==n?null:t[n]}function bn(t){t[Fo]=0}function kn(t){1024&t[G]||(t[G]|=1024,pi(t)&&Ft(t))}function gn(t){var n;return 9216&t[G]||(null===(n=t[bo])||void 0===n?void 0:n.dirty)}function Tt(t){if(gn(t))Ft(t);else if(64&t[G])if(function zu(){return ps}())t[G]|=1024,Ft(t);else{var n;null===(n=t[Ei].changeDetectionScheduler)||void 0===n||n.notify()}}function Ft(t){var n;null===(n=t[Ei].changeDetectionScheduler)||void 0===n||n.notify();let o=Pa(t);for(;null!==o&&!(8192&o[G])&&(o[G]|=8192,pi(o));)o=Pa(o)}function Ti(t,n){if(256==(256&t[G]))throw new Pt(911,!1);null===t[hs]&&(t[hs]=[]),t[hs].push(n)}function Pa(t){const n=t[L];return ki(n)?n[L]:n}const Qn={lFrame:ua(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eh(){return Qn.bindingsEnabled}function aa(){return null!==Qn.skipHydrationRootTNode}function lt(){return Qn.lFrame.lView}function ar(){return Qn.lFrame.tView}function hr(t){return Qn.lFrame.contextLView=t,t[cr]}function Wc(t){return Qn.lFrame.contextLView=null,t}function $n(){let t=fn();for(;null!==t&&64===t.type;)t=t.parent;return t}function fn(){return Qn.lFrame.currentTNode}function _s(t,n){const o=Qn.lFrame;o.currentTNode=t,o.isParent=n}function Ns(){return Qn.lFrame.isParent}function Gu(){Qn.lFrame.isParent=!1}function P(){return Qn.lFrame.bindingIndex++}function Ht(t,n){const o=Qn.lFrame;o.bindingIndex=o.bindingRootIndex=t,cn(n)}function cn(t){Qn.lFrame.currentDirectiveIndex=t}function fi(){return Qn.lFrame.currentQueryIndex}function br(t){Qn.lFrame.currentQueryIndex=t}function wi(t){const n=t[A];return 2===n.type?n.declTNode:1===n.type?t[Nt]:null}function la(t,n,o){if(o&ie.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||o&ie.Host||(c=wi(h),null===c||(h=h[Go],10&c.type))););if(null===c)return!1;n=c,t=h}const a=Qn.lFrame=Na();return a.currentTNode=n,a.lView=t,!0}function Vo(t){const n=Na(),o=t[A];Qn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Na(){const t=Qn.lFrame,n=null===t?null:t.child;return null===n?ua(t):n}function ua(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function el(){const t=Qn.lFrame;return Qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ql=el;function Qi(){const t=el();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function io(){return Qn.lFrame.selectedIndex}function ca(t){Qn.lFrame.selectedIndex=t}function Ir(){const t=Qn.lFrame;return Os(t.tView,t.selectedIndex)}let Dl=!0;function da(){return Dl}function ha(t){Dl=t}function qc(t,n){for(let x=n.directiveStart,j=n.directiveEnd;x<j;x++){const Ie=t.data[x].type.prototype,{ngAfterContentInit:He,ngAfterContentChecked:It,ngAfterViewInit:Lt,ngAfterViewChecked:Kt,ngOnDestroy:vn}=Ie;var o,a,c,h,m,_,E;He&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-x,He),It&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(x,It),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(x,It)),Lt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-x,Lt),Kt&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(x,Kt),(null!==(_=t.viewCheckHooks)&&void 0!==_?_:t.viewCheckHooks=[]).push(x,Kt)),null!=vn&&(null!==(E=t.destroyHooks)&&void 0!==E?E:t.destroyHooks=[]).push(x,vn)}}function Yc(t,n,o){mf(t,n,3,o)}function Xl(t,n,o,a){(3&t[G])===o&&mf(t,n,o,a)}function Kc(t,n){let o=t[G];(3&o)===n&&(o&=16383,o+=1,t[G]=o)}function mf(t,n,o,a){const h=null!=a?a:-1,m=n.length-1;let _=0;for(let E=void 0!==a?65535&t[Fo]:0;E<m;E++)if("number"==typeof n[E+1]){if(_=n[E],null!=a&&_>=a)break}else n[E]<0&&(t[Fo]+=65536),(_<h||-1==h)&&(rh(t,o,n,E),t[Fo]=(4294901760&t[Fo])+E+2),E++}function vf(t,n){Ks(4,t,n);const o=ue(null);try{n.call(t)}finally{ue(o),Ks(5,t,n)}}function rh(t,n,o,a){const c=o[a]<0,h=o[a+1],_=t[c?-o[a]:o[a]];c?t[G]>>14<t[Fo]>>16&&(3&t[G])===n&&(t[G]+=16384,vf(_,h)):vf(_,h)}const Jl=-1;class Tl{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Ku(t){return t!==Jl}function ka(t){return 32767&t}function eu(t,n){let o=function oo(t){return t>>16}(t),a=n;for(;o>0;)a=a[Go],o--;return a}let Fs=!0;function tu(t){const n=Fs;return Fs=t,n}const Zu=255,_o=5;let Jr=0;const Zs={};function ho(t,n){const o=yf(t,n);if(-1!==o)return o;const a=n[A];a.firstCreatePass&&(t.injectorIndex=n.length,Zc(a.data,t),Zc(n,null),Zc(a.blueprint,null));const c=xi(t,n),h=t.injectorIndex;if(Ku(c)){const m=ka(c),_=eu(c,n),E=_[A].data;for(let x=0;x<8;x++)n[h+x]=_[m+x]|E[m+x]}return n[h+8]=c,h}function Zc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function yf(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function xi(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=n;for(;null!==c;){if(a=Va(c),null===a)return Jl;if(o++,c=c[Go],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Jl}function oh(t,n,o){!function nu(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(_t)&&(a=o[_t]),null==a&&(a=o[_t]=Jr++);const c=a&Zu;n.data[t+(c>>_o)]|=1<<c}(t,n,o)}function vi(t,n,o){if(o&ie.Optional||void 0!==t)return t;Bt()}function Ls(t,n,o,a){if(o&ie.Optional&&void 0===a&&(a=null),!(o&(ie.Self|ie.Host))){const c=t[Zn],h=zt(void 0);try{return c?c.get(n,a,o&ie.Optional):nn(n,a,o&ie.Optional)}finally{zt(h)}}return vi(a,0,o)}function ru(t,n,o,a=ie.Default,c){if(null!==t){if(2048&n[G]&&!(a&ie.Self)){const m=function Qc(t,n,o,a,c){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[G]&&!(512&m[G]);){const _=wl(h,m,o,a|ie.Self,Zs);if(_!==Zs)return _;let E=h.parent;if(!E){const x=m[oa];if(x){const j=x.get(o,Zs,a);if(j!==Zs)return j}E=Va(m),m=m[Go]}h=E}return c}(t,n,o,a,Zs);if(m!==Zs)return m}const h=wl(t,n,o,a,Zs);if(h!==Zs)return h}return Ls(n,o,a,c)}function wl(t,n,o,a,c){const h=function Fa(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(_t)?t[_t]:void 0;return"number"==typeof n?n>=0?n&Zu:If:n}(o);if("function"==typeof h){if(!la(n,t,a))return a&ie.Host?vi(c,0,a):Ls(n,o,a,c);try{let m;if(m=h(a),null!=m||a&ie.Optional)return m;Bt()}finally{Ql()}}else if("number"==typeof h){let m=null,_=yf(t,n),E=Jl,x=a&ie.Host?n[Vr][Nt]:null;for((-1===_||a&ie.SkipSelf)&&(E=-1===_?xi(t,n):n[_+8],E!==Jl&&pa(a,!1)?(m=n[A],_=ka(E),n=eu(E,n)):_=-1);-1!==_;){const j=n[A];if(Ju(h,_,j.data)){const K=Qu(_,n,o,m,a,x);if(K!==Zs)return K}E=n[_+8],E!==Jl&&pa(a,n[A].data[_+8]===x)&&Ju(h,_,n)?(m=j,_=ka(E),n=eu(E,n)):_=-1}}return c}function Qu(t,n,o,a,c,h){const m=n[A],_=m.data[t+8],j=Xu(_,m,o,null==a?ns(_)&&Fs:a!=m&&0!=(3&_.type),c&ie.Host&&h===_);return null!==j?Wo(n,m,j,_):Zs}function Xu(t,n,o,a,c){const h=t.providerIndexes,m=n.data,_=1048575&h,E=t.directiveStart,j=h>>20,Ie=c?_+j:t.directiveEnd;for(let He=a?_:_+j;He<Ie;He++){const It=m[He];if(He<E&&o===It||He>=E&&It.type===o)return He}if(c){const He=m[E];if(He&&Ao(He)&&He.type===o)return E}return null}function Wo(t,n,o,a){let c=t[o];const h=n.data;if(function xg(t){return t instanceof Tl}(c)){const m=c;m.resolving&&function we(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Pt(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}(h[o]));const _=tu(m.canSeeViewProviders);m.resolving=!0;const x=m.injectImpl?zt(m.injectImpl):null;la(t,a,ie.Default);try{c=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function Pg(t,n,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){var m,_;const K=rs(n);(null!==(m=o.preOrderHooks)&&void 0!==m?m:o.preOrderHooks=[]).push(t,K),(null!==(_=o.preOrderCheckHooks)&&void 0!==_?_:o.preOrderCheckHooks=[]).push(t,K)}var E,x,j;c&&(null!==(E=o.preOrderHooks)&&void 0!==E?E:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(x=o.preOrderHooks)&&void 0!==x?x:o.preOrderHooks=[]).push(t,h),(null!==(j=o.preOrderCheckHooks)&&void 0!==j?j:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],n)}finally{null!==x&&zt(x),tu(_),m.resolving=!1,Ql()}}return c}function Ju(t,n,o){return!!(o[n+(t>>_o)]&1<<t)}function pa(t,n){return!(t&ie.Self||t&ie.Host&&n)}class _i{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return ru(this._tNode,this._lView,n,No(a),o)}}function If(){return new _i($n(),lt())}function La(t){return ji(()=>{const n=t.prototype.constructor,o=n[$r]||ec(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[$r]||ec(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ec(t){return Zr(t)?()=>{const n=ec(en(t));return n&&n()}:Di(t)}function Va(t){const n=t[A],o=n.type;return 2===o?n.declTNode:1===o?t[Nt]:null}function tc(t){return function fa(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(Ya(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===n)return o[c+1];c+=2}}}return null}($n(),t)}const bl="__parameters__";function Rl(t,n,o){return ji(()=>{const a=function Sl(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return _.annotation=m,_;function _(E,x,j){const K=E.hasOwnProperty(bl)?E[bl]:Object.defineProperty(E,bl,{value:[]})[bl];for(;K.length<=j;)K.push(null);return(K[j]=K[j]||[]).push(m),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function ma(t,n){t.forEach(o=>Array.isArray(o)?ma(o,n):n(o))}function Xc(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function xl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Vs(t,n,o){let a=tl(t,n);return a>=0?t[1|a]=o:(a=~a,function oc(t,n,o,a){let c=t.length;if(c==n)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function sc(t,n){const o=tl(t,n);if(o>=0)return t[1|o]}function tl(t,n){return function Jc(t,n,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?c=h:a=h+1}return~(c<<o)}(t,n,1)}const lc=ko(Rl("Optional"),8),uc=ko(Rl("SkipSelf"),4),so=new $(""),dh=new $("",-1),Ua=new $("");class Fl{get(n,o=hn){if(o===hn){const a=new Error(`NullInjectorError: No provider for ${dn(n)}!`);throw a.name="NullInjectorError",a}return o}}function wf(...t){return{\u0275providers:ja(0,t),\u0275fromNgModule:!0}}function ja(t,...n){const o=[],a=new Set;let c;const h=m=>{o.push(m)};return ma(n,m=>{const _=m;td(_,h,[],a)&&(c||(c=[]),c.push(_))}),void 0!==c&&bf(c,h),o}function bf(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];nd(c,h=>{n(h,a)})}}function td(t,n,o,a){if(!(t=en(t)))return!1;let c=null,h=er(t);const m=!h&&Yn(t);if(h||m){if(m&&!m.standalone)return!1;c=t}else{const E=t.ngModule;if(h=er(E),!h)return!1;c=E}const _=a.has(c);if(m){if(_)return!1;if(a.add(c),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const x of E)td(x,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let x;a.add(c);try{ma(h.imports,j=>{td(j,n,o,a)&&(x||(x=[]),x.push(j))})}finally{}void 0!==x&&bf(x,n)}if(!_){const x=Di(c)||(()=>new c);n({provide:c,useFactory:x,deps:Kn},c),n({provide:Ua,useValue:c,multi:!0},c),n({provide:so,useValue:()=>Hr(c),multi:!0},c)}const E=h.providers;if(null!=E&&!_){const x=t;nd(E,j=>{n(j,x)})}}}return c!==t&&void 0!==t.providers}function nd(t,n){for(let o of t)$i(o)&&(o=o.\u0275providers),Array.isArray(o)?nd(o,n):n(o)}const hh=Tn({provide:String,useValue:Tn});function rd(t){return null!==t&&"object"==typeof t&&hh in t}function is(t){return"function"==typeof t}const id=new $(""),pc={},au={};let Ha;function gc(){return void 0===Ha&&(Ha=new Fl),Ha}class Po{}class za extends Po{get destroyed(){return this._destroyed}constructor(n,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uu(n,m=>this.processProvider(m)),this.records.set(dh,lu(void 0,this)),c.has("environment")&&this.records.set(Po,lu(void 0,this));const h=this.records.get(id);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ua,Kn,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=jr(this),a=zt(void 0);try{return n()}finally{jr(o),zt(a)}}get(n,o=hn,a=ie.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ze))return n[Ze](this);a=No(a);const h=jr(this),m=zt(void 0);try{if(!(a&ie.SkipSelf)){let E=this.records.get(n);if(void 0===E){const x=function mc(t){return"function"==typeof t||"object"==typeof t&&t instanceof $}(n)&&Cr(n);E=x&&this.injectableDefInScope(x)?lu(_a(n),pc):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(a&ie.Self?gc():this.parent).get(n,o=a&ie.Optional&&o===hn?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[gr]=_[gr]||[]).unshift(dn(n)),h)throw _;return function Ho(t,n,o,a){const c=t[gr];throw n[le]&&c.unshift(n[le]),t.message=function qa(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=dn(n);if(Array.isArray(n))c=n.map(dn).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let _=n[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):dn(_)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(ee,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[gr]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{zt(m),jr(h)}}resolveInjectorInitializers(){const n=jr(this),o=zt(void 0);try{const c=this.get(so,Kn,ie.Self);for(const h of c)h()}finally{jr(n),zt(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(dn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pt(205,!1)}processProvider(n){let o=is(n=en(n))?n:en(n&&n.provide);const a=function Af(t){return rd(t)?lu(void 0,t.useValue):lu(nl(t),pc)}(n);if(!is(n)&&!0===n.multi){let c=this.records.get(o);c||(c=lu(void 0,pc,!0),c.factory=()=>Qo(c.multi),this.records.set(o,c)),o=n,c.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===pc&&(o.value=au,o.value=o.factory()),"object"==typeof o.value&&o.value&&function di(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=en(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function _a(t){const n=Cr(t),o=null!==n?n.factory:Di(t);if(null!==o)return o;if(t instanceof $)throw new Pt(204,!1);if(t instanceof Function)return function gh(t){if(t.length>0)throw new Pt(204,!1);const o=function yr(t){return t&&(t[dr]||t[ve])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Pt(204,!1)}function nl(t,n,o){let a;if(is(t)){const c=en(t);return Di(c)||_a(c)}if(rd(t))a=()=>en(t.useValue);else if(function ph(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Qo(t.deps||[]));else if(function fh(t){return!(!t||!t.useExisting)}(t))a=()=>Hr(en(t.useExisting));else{const c=en(t&&(t.useClass||t.provide));if(!function Is(t){return!!t.deps}(t))return Di(c)||_a(c);a=()=>new c(...Qo(t.deps))}return a}function lu(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function uu(t,n){for(const o of t)Array.isArray(o)?uu(o,n):o&&$i(o)?uu(o.\u0275providers,n):n(o)}function od(t,n){t instanceof za&&t.assertNotDestroyed();const a=jr(t),c=zt(void 0);try{return n()}finally{jr(a),zt(c)}}function xo(t,n=null,o=null,a){const c=hu(t,n,o,a);return c.resolveInjectorInitializers(),c}function hu(t,n=null,o=null,a,c=new Set){const h=[o||Kn,wf(t)];return a=a||("object"==typeof t?void 0:dn(t)),new za(h,n||gc(),a||null,c)}let fu,Uo=(()=>{var t;class n{static create(a,c){if(Array.isArray(a))return xo({name:""},c,a,"");{var h;const m=null!==(h=a.name)&&void 0!==h?h:"";return xo({name:m},a.parent,a.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=hn,t.NULL=new Fl,t.\u0275prov=Vn({token:t,providedIn:"any",factory:()=>Hr(dh)}),t.__NG_ELEMENT_ID__=-1,n})();function jo(t){return!!si(t)}function Of(t){fu=t}const vh=new $("",{providedIn:"root",factory:()=>v}),v="ng",f=new $(""),p=new $("",{providedIn:"platform",factory:()=>"unknown"}),X=new $("",{providedIn:"root",factory:()=>{var t;return(null===(t=function il(){if(void 0!==fu)return fu;if(typeof document<"u")return document;throw new Pt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});function Fr(t){return t instanceof Function?t():t}function Ch(t){return 128==(128&t.flags)}var Dh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dh||{});const Vl=/^>|^->|<!--|-->|--!>|<!-$/g,Jv=/(<|>)/g,fI="\u200b$1\u200b";const ud=new Map;let Ic=0;const Zg="__ngContext__";function Yo(t,n){li(n)?(t[Zg]=n[no],function Cc(t){ud.set(t[no],t)}(n)):t[Zg]=n}let ol;function Uf(t,n){return ol(t,n)}function wc(t,n,o,a,c){if(null!=a){let h,m=!1;ki(a)?h=a:li(a)&&(m=!0,a=a[B]);const _=wr(a);0===t&&null!==o?null==c?nm(n,o,_):ao(n,o,_,c||null,!0):1===t&&null!==o?ao(n,o,_,c||null,!0):2===t?function Yf(t,n,o){const a=Ga(t,n);a&&function Wf(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,_,m):3===t&&n.destroyNode(_),null!=h&&function c_(t,n,o,a,c){const h=o[co];h!==wr(o)&&wc(n,t,a,h,c);for(let _=Ci;_<o.length;_++){const E=o[_];bc(E[A],E,t,n,a,h)}}(n,t,h,o,c)}}function bh(t,n){return t.createComment(function qg(t){return t.replace(Vl,n=>n.replace(Jv,fI))}(n))}function Ah(t,n,o){return t.createElement(n,o)}function Jg(t,n){bc(t,n,n[Hn],2,null,null)}function Sh(t,n){const o=t[ts],a=o.indexOf(n);o.splice(a,1)}function Rh(t,n){if(t.length<=Ci)return;const o=Ci+n,a=t[o];if(a){const c=a[Gs];null!==c&&c!==t&&Sh(c,a),n>0&&(t[o-1][de]=a[de]);const h=xl(t,Ci+n);!function Qg(t,n){Jg(t,n),n[B]=null,n[Nt]=null}(a[A],a);const m=h[Ki];null!==m&&m.detachView(h[A]),a[L]=null,a[de]=null,a[G]&=-129}return a}function Mh(t,n){if(!(256&n[G])){const o=n[Hn];o.destroyNode&&bc(t,n,o,3,null,null),function zf(t){let n=t[Rs];if(!n)return _u(t[A],t);for(;n;){let o=null;if(li(n))o=n[Rs];else{const a=n[Ci];a&&(o=a)}if(!o){for(;n&&!n[de]&&n!==t;)li(n)&&_u(n[A],n),n=n[L];null===n&&(n=t),li(n)&&_u(n[A],n),o=n&&n[de]}n=o}}(n)}}function _u(t,n){if(!(256&n[G])){n[G]&=-129,n[G]|=256,n[bo]&&function ze(t){if(z(t),Je(t))for(let n=0;n<t.producerNode.length;n++)Ae(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[bo]),function fd(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=n[o[a]];if(!(c instanceof Tl)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=c[h[m]],E=h[m+1];Ks(4,_,E);try{E.call(_)}finally{Ks(5,_,E)}}else{Ks(4,c,h);try{h.call(c)}finally{Ks(5,c,h)}}}}}(t,n),function Ph(t,n){const o=t.cleanup,a=n[Dr];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[Dr]=null);const c=n[hs];if(null!==c){n[hs]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[A].type&&n[Hn].destroy();const o=n[Gs];if(null!==o&&ki(n[L])){o!==n[L]&&Sh(o,n);const a=n[Ki];null!==a&&a.detachView(t)}!function e_(t){ud.delete(t[no])}(n)}}function Gf(t,n,o){return function tm(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[B];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===qi.None||h===qi.Emulated)return null}return kr(a,o)}}(t,n.parent,o)}function ao(t,n,o,a,c){t.insertBefore(n,o,a,c)}function nm(t,n,o){t.appendChild(n,o)}function xh(t,n,o,a,c){null!==a?ao(t,n,o,a,c):nm(t,n,o)}function Ga(t,n){return t.parentNode(n)}function rm(t,n,o){return s_(t,n,o)}let Iu,po,s_=function yu(t,n,o){return 40&t.type?kr(t,o):null};function Wa(t,n,o,a){const c=Gf(t,a,n),h=n[Hn],_=rm(a.parent||n[Nt],a,n);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)xh(h,c,o[E],_,!1);else xh(h,c,o,_,!1);void 0!==Iu&&Iu(h,a,n,o,c)}function gd(t,n){if(null!==n){const o=n.type;if(3&o)return kr(n,t);if(4&o)return qf(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return gd(t,a);{const c=t[n.index];return ki(c)?qf(-1,c):wr(c)}}if(32&o)return Uf(n,t)()||wr(t[n.index]);{const a=a_(t,n);return null!==a?Array.isArray(a)?a[0]:gd(Pa(t[Vr]),a):gd(t,n.next)}}return null}function a_(t,n){return null!==n?t[Vr][Nt].projection[n.projection]:null}function qf(t,n){const o=Ci+t+1;if(o<n.length){const a=n[o],c=a[A].firstChild;if(null!==c)return gd(a,c)}return n[co]}function sm(t,n,o,a,c,h,m){for(;null!=o;){const _=a[o.index],E=o.type;if(m&&0===n&&(_&&Yo(wr(_),a),o.flags|=2),32!=(32&o.flags))if(8&E)sm(t,n,o.child,a,c,h,!1),wc(n,t,c,_,h);else if(32&E){const x=Uf(o,a);let j;for(;j=x();)wc(n,t,c,j,h);wc(n,t,c,_,h)}else 16&E?u_(t,n,a,o,c,h):wc(n,t,c,_,h);o=m?o.projectionNext:o.next}}function bc(t,n,o,a,c,h){sm(o,a,t.firstChild,n,c,h,!1)}function u_(t,n,o,a,c,h){const m=o[Vr],E=m[Nt].projection[a.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)wc(n,t,c,E[x],h);else{let x=E;const j=m[L];Ch(a)&&(x.flags|=128),sm(t,n,x,j,c,h,!0)}}function Eu(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function md(t,n,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&ws(t,n,a),null!==c&&Eu(t,n,c),null!==h&&function d_(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}function g_(t){var n;return(null===(n=function lm(){if(void 0===po&&(po=null,on.trustedTypes))try{po=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return po}())||void 0===n?void 0:n.createScriptURL(t))||t}class Zf{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rn})`}}function sl(t){return t instanceof Zf?t.changingThisBreaksApplicationSecurity:t}function Ac(t,n){const o=function Nh(t){return t instanceof Zf&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${rn})`)}return o===n}const CI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Du=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Du||{});function gm(t){const n=$l();return n?n.sanitize(Du.URL,t)||"":Ac(t,"URL")?sl(t):function Jf(t){return(t=String(t)).match(CI)?t:"unsafe:"+t}(Xe(t))}function Lh(t){const n=$l();if(n)return g_(n.sanitize(Du.RESOURCE_URL,t)||"");if(Ac(t,"ResourceURL"))return g_(sl(t));throw new Pt(904,!1)}function R_(t,n,o){return function as(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Lh:gm}(n,o)(t)}function $l(){const t=lt();return t&&t[Ei].sanitizer}class rp{}let ym=()=>null;function Em(t,n,o=!1){return ym(t,n,o)}class wm{}class O_{}class Sm{resolveComponentFactory(n){throw function bm(t){const n=Error(`No component factory found for ${dn(t)}.`);return n.ngComponent=t,n}(n)}}let Ed=(()=>{class n{}return n.NULL=new Sm,n})();function Cd(){return ea($n(),lt())}function ea(t,n){return new Oc(kr(t,n))}let Oc=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Cd,n})();function Dd(t){return t instanceof Oc?t.nativeElement:t}class Nc{}let k_=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Td(){const t=lt(),o=So($n().index,t);return(li(o)?o:t)[Hn]}(),n})(),OI=(()=>{var t;class n{}return(t=n).\u0275prov=Vn({token:t,providedIn:"root",factory:()=>null}),n})();const Rm={};function NI(t){const n=ue(null);try{return t()}finally{ue(n)}}function wd(t){return!!cp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function cp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class V_{constructor(){}supports(n){return wd(n)}create(n){return new $_(n)}}const B_=(t,n)=>n;class $_{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||B_}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<z_(a,c,h)?o:a,_=z_(m,c,h),E=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const x=_-c,j=E-c;if(x!=j){for(let Ie=0;Ie<x;Ie++){const He=Ie<h.length?h[Ie]:h[Ie]=0,It=He+Ie;j<=It&&It<x&&(h[Ie]=He+1)}h[m.previousIndex]=j-x}}_!==E&&n(m,_,E)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!wd(n))throw new Pt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)h=n[_],m=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,_),a=!0),o=o._next}else c=0,function kI(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,_=>{m=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,_,m,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,c)):n=this._addAfter(new U_(o,a),h,c),n}_verifyReinsertion(n,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const c=null===o?this._itHead:o._next;return n._next=c,n._prev=o,null===c?this._itTail=n:c._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new H_),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new H_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class U_{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j_{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class H_{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new j_,this.map.set(o,a)),a.add(n)}get(n,o){const c=this.map.get(n);return c?c.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function z_(t,n,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+n+c}class G_{constructor(){}supports(n){return n instanceof Map||cp(n)}create(){return new FI}}class FI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||cp(n)))throw new Pt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new Om(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class Om{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dp(){return new Hh([new V_])}let Hh=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||dp()),deps:[[n,new uc,new lc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Pt(901,!1)}}return(t=n).\u0275prov=Vn({token:t,providedIn:"root",factory:dp}),n})();function hp(){return new Nm([new G_])}let Nm=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||hp()),deps:[[n,new uc,new lc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Pt(901,!1)}}return(t=n).\u0275prov=Vn({token:t,providedIn:"root",factory:hp}),n})();function bd(t,n,o,a,c=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(wr(h)),ki(h)&&fp(h,a);const m=o.type;if(8&m)bd(t,n,o.child,a);else if(32&m){const _=Uf(o,n);let E;for(;E=_();)a.push(E)}else if(16&m){const _=a_(n,o);if(Array.isArray(_))a.push(..._);else{const E=Pa(n[Vr]);bd(E[A],E,_,a,!0)}}o=c?o.projectionNext:o.next}return a}function fp(t,n){for(let o=Ci;o<t.length;o++){const a=t[o],c=a[A].firstChild;null!==c&&bd(a[A],a,c,n)}t[co]!==t[B]&&n.push(t[co])}let Fm=[];const Vm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ft(t.lView)},consumerOnSignalRead(){this.lView[bo]=this}};function W_(t){return gp(t[Rs])}function pp(t){return gp(t[de])}function gp(t){for(;null!==t&&!ki(t);)t=t[de];return t}function vp(t){return t.ngOriginalError}class ll{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&vp(n);for(;o&&vp(o);)o=vp(o);return o||null}}const q_=new $("",{providedIn:"root",factory:()=>nr(ll).handleError.bind(void 0)}),_p=new $("",{providedIn:"root",factory:()=>!1}),ur={};function jm(t=1){Z_(ar(),lt(),io()+t,!1)}function Z_(t,n,o,a){if(!a)if(3==(3&n[G])){const h=t.preOrderCheckHooks;null!==h&&Yc(n,h,o)}else{const h=t.preOrderHooks;null!==h&&Xl(n,h,0,o)}ca(o)}function Sd(t,n=ie.Default){const o=lt();return null===o?Hr(t,n):ru($n(),o,en(t),n)}function Ep(){throw new Error("invalid")}function Q_(t,n,o,a,c,h){const m=ue(null);try{let _=null;c&eo.SignalBased&&(_=n[a][fe]),null!==_&&void 0!==_.transformFn&&(h=_.transformFn(h)),c&eo.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,_,h,o,a):ci(n,_,a,h)}finally{ue(m)}}function Rd(t,n,o,a,c,h,m,_,E,x,j){const K=n.blueprint.slice();return K[B]=c,K[G]=204|a,(null!==x||t&&2048&t[G])&&(K[G]|=2048),bn(K),K[L]=K[Go]=t,K[cr]=o,K[Ei]=m||t&&t[Ei],K[Hn]=_||t&&t[Hn],K[Zn]=E||t&&t[Zn]||null,K[Nt]=h,K[no]=function Ec(){return Ic++}(),K[wn]=j,K[oa]=x,K[Vr]=2==n.type?t[Vr]:K,K}function Ru(t,n,o,a,c){let h=t.data[n];if(null===h)h=function zm(t,n,o,a,c){const h=fn(),m=Ns(),E=t.data[n]=function Ym(t,n,o,a,c,h){let m=n?n.injectorIndex:-1,_=0;return aa()&&(_|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,c);return null===t.firstChild&&(t.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(t,n,o,a,c),function he(){return Qn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const m=function vs(){const t=Qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return _s(h,!0),h}function jl(t,n,o,a){if(0===o)return-1;const c=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function X_(t,n,o,a,c){const h=io(),m=2&a;try{ca(-1),m&&n.length>Gn&&Z_(t,n,Gn,!1),Ks(m?2:0,c),o(a,c)}finally{ca(h),Ks(m?3:1,c)}}function Gh(t,n,o){if(_l(n)){const a=ue(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const _=t.data[m];_.contentQueries&&_.contentQueries(1,o[m],m)}}finally{ue(a)}}}function Cp(t,n,o){eh()&&(function YI(t,n,o,a){const c=o.directiveStart,h=o.directiveEnd;ns(o)&&function JI(t,n,o){const a=kr(n,t),c=Gm(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const _=qh(t,Rd(t,c,null,m,a,n,null,t[Ei].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=_}(n,o,t.data[c+o.componentOffset]),t.firstCreatePass||ho(o,n),Yo(a,n);const m=o.initialInputs;for(let _=c;_<h;_++){const E=t.data[_],x=Wo(n,t,_,o);Yo(x,n),null!==m&&iy(0,_-c,x,E,0,m),Ao(E)&&(So(o.index,n)[cr]=Wo(n,t,_,o))}}(t,n,o,kr(o,n)),64==(64&o.flags)&&ty(t,n,o))}function Mu(t,n,o=kr){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],_=-1===m?o(n,t):t[m];t[c++]=_}}}function Gm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Md(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Md(t,n,o,a,c,h,m,_,E,x,j){const K=Gn+a,Ie=K+c,He=function zI(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:ur);return o}(K,Ie),It="function"==typeof x?x():x;return He[A]={type:t,blueprint:He,template:o,queries:null,viewQuery:_,declTNode:n,data:He.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:It,incompleteFirstPass:!1,ssrId:j}}let J_=()=>null;function Km(t,n,o,a,c){for(let m in n){var h;if(!n.hasOwnProperty(m))continue;const _=n[m];if(void 0===_)continue;null!==(h=a)&&void 0!==h||(a={});let E,x=eo.None;Array.isArray(_)?(E=_[0],x=_[1]):E=_;let j=m;if(null!==c){if(!c.hasOwnProperty(m))continue;j=c[m]}0===t?Tp(a,o,j,E,x):Tp(a,o,j,E)}return a}function Tp(t,n,o,a,c){let h;t.hasOwnProperty(o)?(h=t[o]).push(n,a):h=t[o]=[n,a],void 0!==c&&h.push(c)}function Wh(t,n,o,a){if(eh()){const c=null===a?null:{"":-1},h=function ny(t,n){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let m=0;m<o.length;m++){const _=o[m];if(To(n,_.selectors,!1))if(a||(a=[]),Ao(_))if(null!==_.findHostDirectiveDefs){const E=[];c=c||new Map,_.findHostDirectiveDefs(_,E,c),a.unshift(...E,_),Jm(t,n,E.length)}else a.unshift(_),Jm(t,n,0);else{var h;c=c||new Map,null===(h=_.findHostDirectiveDefs)||void 0===h||h.call(_,_,a,c),a.push(_)}}return null===a?null:[a,c]}(t,o);let m,_;null===h?m=_=null:[m,_]=h,null!==m&&Qm(t,n,o,m,c,_),c&&function ry(t,n,o){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=o[n[c+1]];if(null==h)throw new Pt(-301,!1);a.push(n[c],h)}}}(o,a,c)}o.mergedAttrs=cs(o.mergedAttrs,o.attrs)}function Qm(t,n,o,a,c,h){for(let K=0;K<a.length;K++)oh(ho(o,n),t,a[K].type);!function QI(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let K=0;K<a.length;K++){const Ie=a[K];Ie.providersResolver&&Ie.providersResolver(Ie)}let m=!1,_=!1,E=jl(t,n,a.length,null);for(let K=0;K<a.length;K++){const Ie=a[K];o.mergedAttrs=cs(o.mergedAttrs,Ie.hostAttrs),XI(t,o,n,E,Ie),ZI(E,Ie,c),null!==Ie.contentQueries&&(o.flags|=4),(null!==Ie.hostBindings||null!==Ie.hostAttrs||0!==Ie.hostVars)&&(o.flags|=64);const He=Ie.type.prototype;var x,j;!m&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((null!==(x=t.preOrderHooks)&&void 0!==x?x:t.preOrderHooks=[]).push(o.index),m=!0),_||!He.ngOnChanges&&!He.ngDoCheck||((null!==(j=t.preOrderCheckHooks)&&void 0!==j?j:t.preOrderCheckHooks=[]).push(o.index),_=!0),E++}!function Zm(t,n,o){const c=n.directiveEnd,h=t.data,m=n.attrs,_=[];let E=null,x=null;for(let j=n.directiveStart;j<c;j++){const K=h[j],Ie=o?o.get(K):null,It=Ie?Ie.outputs:null;E=Km(0,K.inputs,j,E,Ie?Ie.inputs:null),x=Km(1,K.outputs,j,x,It);const Lt=null===E||null===m||mo(n)?null:oy(E,j,m);_.push(Lt)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=8),E.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=E,n.outputs=x}(t,o,h)}function ty(t,n,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,m=function ce(){return Qn.lFrame.currentDirectiveIndex}();try{ca(h);for(let _=a;_<c;_++){const E=t.data[_],x=n[_];cn(_),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&KI(E,x)}}finally{ca(-1),cn(m)}}function KI(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Jm(t,n,o){var a;n.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function ZI(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;Ao(n)&&(o[""]=t)}}function XI(t,n,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=Di(c.type)),m=new Tl(h,Ao(c),Sd);t.blueprint[a]=m,o[a]=m,function xd(t,n,o,a,c){const h=c.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const _=~n.index;(function Xm(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=_&&m.push(_),m.push(o,a,h)}}(t,n,a,jl(t,o,c.hostVars,ur),c)}function cl(t,n,o,a,c,h){const m=kr(t,n);!function ev(t,n,o,a,c,h,m){if(null==h)t.removeAttribute(n,c,o);else{const _=null==m?Xe(h):m(h,a||"",c);t.setAttribute(n,c,_,o)}}(n[Hn],m,h,t.value,o,a,c)}function iy(t,n,o,a,c,h){const m=h[n];if(null!==m)for(let _=0;_<m.length;)Q_(a,o,m[_++],m[_++],m[_++],m[_++])}function oy(t,n,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let _=0;_<m.length;_+=3)if(m[_]===n){a.push(h,m[_+1],m[_+2],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function bp(t,n,o,a){return[t,!0,0,n,null,a,null,o,null,null]}function tv(t,n){const o=t.contentQueries;if(null!==o){const a=ue(null);try{for(let c=0;c<o.length;c+=2){const m=o[c+1];if(-1!==m){const _=t.data[m];br(o[c]),_.contentQueries(2,n[m],m)}}}finally{ue(a)}}}function qh(t,n){return t[Rs]?t[Ka][de]=n:t[Rs]=n,t[Ka]=n,n}function Ap(t,n,o){br(0);const a=ue(null);try{n(t,o)}finally{ue(a)}}function Pr(t){return t[Dr]||(t[Dr]=[])}function rv(t){return t.cleanup||(t.cleanup=[])}function Pu(t,n){const o=t[Zn],a=o?o.get(ll,null):null;a&&a.handleError(n)}function Sp(t,n,o,a,c){for(let h=0;h<o.length;){const m=o[h++],_=o[h++],E=o[h++];Q_(t.data[m],n[m],a,_,E,c)}}function Rp(t,n,o,a){var c;const h=n[G];if(256==(256&h))return;null===(c=n[Ei].inlineEffectRunner)||void 0===c||c.flush(),Vo(n);let _=null,E=null;(function ay(t){return 2!==t.type})(t)&&(E=function LI(t){var n;return null!==(n=t[bo])&&void 0!==n?n:function Lm(t){var n;const o=null!==(n=Fm.pop())&&void 0!==n?n:Object.create(Vm);return o.lView=t,o}(t)}(n),_=function Pe(t){return t&&(t.nextProducerIndex=0),ue(t)}(E));try{bn(n),function D(t){return Qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&X_(t,n,o,2,a);const x=3==(3&h);if(x){const Ie=t.preOrderCheckHooks;null!==Ie&&Yc(n,Ie,null)}else{const Ie=t.preOrderHooks;null!==Ie&&Xl(n,Ie,0,null),Kc(n,0)}if(function e0(t){for(let n=W_(t);null!==n;n=pp(n)){if(!(n[G]&Aa.HasTransplantedViews))continue;const o=n[ts];for(let a=0;a<o.length;a++){kn(o[a])}}}(n),Mp(n,0),null!==t.contentQueries&&tv(t,n),x){const Ie=t.contentCheckHooks;null!==Ie&&Yc(n,Ie)}else{const Ie=t.contentHooks;null!==Ie&&Xl(n,Ie,1),Kc(n,1)}!function Hm(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)ca(~c);else{const h=c,m=o[++a],_=o[++a];Ht(m,h),_(2,n[h])}}}finally{ca(-1)}}(t,n);const j=t.components;null!==j&&bi(n,j,0);const K=t.viewQuery;if(null!==K&&Ap(2,K,a),x){const Ie=t.viewCheckHooks;null!==Ie&&Yc(n,Ie)}else{const Ie=t.viewHooks;null!==Ie&&Xl(n,Ie,2),Kc(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ms]){for(const Ie of n[Ms])Ie();n[Ms]=null}n[G]&=-73}catch(x){throw Ft(n),x}finally{null!==E&&(function Ve(t,n){if(ue(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Je(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ae(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(E,_),function VI(t){t.lView[bo]!==t&&(t.lView=null,Fm.push(t))}(E)),Qi()}}function Mp(t,n){for(let o=W_(t);null!==o;o=pp(o))for(let a=Ci;a<o.length;a++)ly(o[a],n)}function ov(t,n,o){ly(So(n,t),o)}function ly(t,n){pi(t)&&sv(t,n)}function sv(t,n){const a=t[A],c=t[G],h=t[bo];let m=!!(0===n&&16&c);if(m||(m=!!(64&c&&0===n)),m||(m=!!(1024&c)),m||(m=!(null==h||!h.dirty||!pt(h))),h&&(h.dirty=!1),t[G]&=-9217,m)Rp(a,t,a.template,t[cr]);else if(8192&c){Mp(t,1);const _=a.components;null!==_&&bi(t,_,1)}}function bi(t,n,o){for(let a=0;a<n.length;a++)ov(t,n[a],o)}function Pp(t){var n;for(null===(n=t[Ei].changeDetectionScheduler)||void 0===n||n.notify();t;){t[G]|=64;const o=Pa(t);if(Ra(t)&&!o)return t;t=o}return null}class xp{get rootNodes(){const n=this._lView,o=n[A];return bd(o,n,o.firstChild,[])}constructor(n,o,a=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cr]}set context(n){this._lView[cr]=n}get destroyed(){return 256==(256&this._lView[G])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[L];if(ki(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Rh(n,a),xl(o,a))}this._attachedToViewContainer=!1}Mh(this._lView[A],this._lView)}onDestroy(n){Ti(this._lView,n)}markForCheck(){Pp(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){Tt(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,function Ia(t,n=!0){const o=t[Ei],a=o.rendererFactory;var h;null===(h=a.begin)||void 0===h||h.call(a);try{!function sy(t){sv(t,0);let n=0;for(;gn(t);){if(100===n)throw new Pt(103,!1);n++,sv(t,1)}}(t)}catch(E){throw n&&Pu(t,E),E}finally{var m,_;null===(m=a.end)||void 0===m||m.call(a),null===(_=o.inlineEffectRunner)||void 0===_||_.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Jg(this._lView[A],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Pt(902,!1);this._appRef=n,Tt(this._lView)}}let Ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=uy,n})();function uy(t){return function t0(t,n,o){if(ns(t)&&!o){const a=So(t.index,n);return new xp(a,a)}return 47&t.type?new xp(n[Vr],n):null}($n(),lt(),16==(16&t))}let Op=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=iC,t.__NG_ENV_ID__=o=>o,n})();class r0 extends Op{constructor(n){super(),this._lView=n}onDestroy(n){return Ti(this._lView,n),()=>function ms(t,n){if(null===t[hs])return;const o=t[hs].indexOf(n);-1!==o&&t[hs].splice(o,1)}(this._lView,n)}}function iC(){return new r0(lt())}const hl=new Set;function Od(t){var n,o;hl.has(t)||(hl.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function Nd(t){return n=>{setTimeout(t,void 0,n)}}const fl=class kc extends mt.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let c=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){var _,E,x;const K=n;c=null===(_=K.next)||void 0===_?void 0:_.bind(K),h=null===(E=K.error)||void 0===E?void 0:E.bind(K),m=null===(x=K.complete)||void 0===x?void 0:x.bind(K)}this.__isAsync&&(h=Nd(h),c&&(c=Nd(c)),m&&(m=Nd(m)));const j=super.subscribe({next:c,error:h,complete:m});return n instanceof ht.w0&&n.add(j),j}};function hy(...t){}class Gi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fl(!1),this.onMicrotaskEmpty=new fl(!1),this.onStable=new fl(!1),this.onError=new fl(!1),typeof Zone>"u")throw new Pt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fy(){const t="function"==typeof on.requestAnimationFrame;let n=on[t?"requestAnimationFrame":"setTimeout"],o=on[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Kh(t){const n=()=>{!function Np(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(on,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,kp(t),t.isCheckStableRunning=!0,Hl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),kp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,m,_)=>{if(function av(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(_))return o.invokeTask(c,h,m,_);try{return Fp(t),o.invokeTask(c,h,m,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Lp(t)}},onInvoke:(o,a,c,h,m,_,E)=>{try{return Fp(t),o.invoke(c,h,m,_,E)}finally{t.shouldCoalesceRunChangeDetection&&n(),Lp(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,kp(t),Hl(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new Pt(909,!1)}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new Pt(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,l0,hy,hy);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const l0={};function Hl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Fp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lp(t){t._nesting--,Hl(t)}class Vp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fl,this.onMicrotaskEmpty=new fl,this.onStable=new fl,this.onError=new fl}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,c){return n.apply(o,a)}}var zl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(zl||{});const uv={destroy(){}};function cv(t,n){var o,a,c;!n&&function vc(t){if(!Rt()&&!function Ln(){return We}())throw new Pt(-203,!1)}();const h=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:nr(Uo);if(!function yo(t){return"browser"===(null!=t?t:nr(Uo)).get(p)}(h))return uv;Od("NgAfterNextRender");const m=h.get(Zh),_=null!==(a=m.handler)&&void 0!==a?a:m.handler=new kd,E=null!==(c=null==n?void 0:n.phase)&&void 0!==c?c:zl.MixedReadWrite,x=()=>{_.unregister(K),j()},j=h.get(Op).onDestroy(x),K=new Bp(h,E,()=>{x(),t()});return _.register(K),{destroy:x}}class Bp{constructor(n,o,a){this.phase=o,this.callbackFn=a,this.zone=n.get(Gi),this.errorHandler=n.get(ll,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class kd{constructor(){this.executingCallbacks=!1,this.buckets={[zl.EarlyRead]:new Set,[zl.Write]:new Set,[zl.MixedReadWrite]:new Set,[zl.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){let n=!1;this.executingCallbacks=!0;for(const o of Object.values(this.buckets))for(const a of o)n=!0,a.invoke();this.executingCallbacks=!1;for(const o of this.deferredCallbacks)this.buckets[o.phase].add(o);return this.deferredCallbacks.clear(),n}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Zh=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;const c=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const m of c)m();return!!(null===(a=this.handler)||void 0===a?void 0:a.execute())||c.length>0}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Vn({token:t,providedIn:"root",factory:()=>new t}),n})();function $p(t,n){const o=So(n,t),a=o[A];!function Up(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const c=o[B];null!==c&&null===o[wn]&&(o[wn]=Em(c,o[Zn])),jp(a,o,o[cr])}function jp(t,n,o){Vo(n);try{const a=t.viewQuery;null!==a&&Ap(1,a,o);const c=t.template;null!==c&&X_(t,n,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tv(t,n),t.staticViewQueries&&Ap(2,t.viewQuery,o);const h=t.components;null!==h&&function Qh(t,n){for(let o=0;o<n.length;o++)$p(t,n[o])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[G]&=-5,Qi()}}function Hp(t,n,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const _=n[m];"number"==typeof _?h=_:1==h?c=Kr(c,_):2==h&&(a=Kr(a,_+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}class Xh extends Ed{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Yn(n);return new Ea(o,this.ngModule)}}function dv(t){const n=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const a=t[o];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:o})}return n}class Jh{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=No(a);const c=this.injector.get(n,Rm,a);return c!==Rm||o===Rm?c:this.parentInjector.get(n,o,a)}}class Ea extends O_{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=dv(n.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return dv(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function wo(t){return t.map(Mi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,c){var m;let _=(c=c||this.ngModule)instanceof Po?c:null===(m=c)||void 0===m?void 0:m.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const E=_?new Jh(n,_):n,x=E.get(Nc,null);if(null===x)throw new Pt(407,!1);const He={rendererFactory:x,sanitizer:E.get(OI,null),inlineEffectRunner:null,afterRenderEventManager:E.get(Zh,null),changeDetectionScheduler:E.get(rp,null)},It=x.createRenderer(null,this.componentDef),Lt=this.componentDef.selectors[0][0]||"div",Kt=a?function GI(t,n,o,a){const h=a.get(_p,!1)||o===qi.ShadowDom,m=t.selectRootElement(n,h);return function WI(t){J_(t)}(m),m}(It,a,this.componentDef.encapsulation,E):Ah(It,Lt,function hv(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Lt));let vn=512;this.componentDef.signals?vn|=4096:this.componentDef.onPush||(vn|=16);let Vt=null;null!==Kt&&(Vt=Em(Kt,E,!0));const Jn=Md(0,null,null,1,0,null,null,null,null,null,null),vr=Rd(null,Jn,null,vn,null,null,He,It,E,null,Vt);let oi,ls;Vo(vr);try{const $c=this.componentDef;let Rg,jE=null;$c.findHostDirectiveDefs?(Rg=[],jE=new Map,$c.findHostDirectiveDefs($c,Rg,jE),Rg.push($c)):Rg=[$c];const kM=function u0(t,n){const o=t[A],a=Gn;return t[a]=n,Ru(o,a,2,"#host",null)}(vr,Kt),FM=function Fd(t,n,o,a,c,h,m){const _=c[A];!function sC(t,n,o,a){for(const c of t)n.mergedAttrs=cs(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Hp(n,n.mergedAttrs,!0),null!==o&&md(a,o,n))}(a,t,n,m);let E=null;null!==n&&(E=Em(n,c[Zn]));const x=h.rendererFactory.createRenderer(n,o);let j=16;o.signals?j=4096:o.onPush&&(j=64);const K=Rd(c,Gm(o),null,j,c[t.index],t,h,x,null,null,E);return _.firstCreatePass&&Jm(_,t,a.length-1),qh(c,K),c[t.index]=K}(kM,Kt,$c,Rg,vr,He,It);ls=Os(Jn,Gn),Kt&&function fv(t,n,o,a){if(a)ws(t,o,["ng-version","17.1.2"]);else{const{attrs:c,classes:h}=function Hi(t){const n=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&o.push(h);else{if(!Yi(c))break;c=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);c&&ws(t,o,c),h&&h.length>0&&Eu(t,o,h.join(" "))}}(It,$c,Kt,a),void 0!==o&&function c0(t,n,o){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(ls,this.ngContentSelectors,o),oi=function aC(t,n,o,a,c,h){const m=$n(),_=c[A],E=kr(m,c);Qm(_,c,m,o,null,a);for(let j=0;j<o.length;j++)Yo(Wo(c,_,m.directiveStart+j,m),c);ty(_,c,m),E&&Yo(E,c);const x=Wo(c,_,m.directiveStart+m.componentOffset,m);if(t[cr]=c[cr]=x,null!==h)for(const j of h)j(x,n);return Gh(_,m,t),x}(FM,$c,Rg,jE,vr,[zp]),jp(Jn,vr,null)}finally{Qi()}return new ef(this.componentType,oi,ea(ls,vr),vr,ls)}}class ef extends wm{constructor(n,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new xp(c,void 0,!1),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;Sp(m[A],m,c,n,o),this.previousInputValues.set(n,o),Pp(So(this._tNode.index,m))}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function zp(){const t=$n();qc(lt()[A],t)}function pv(t){let n=function gy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let c;if(Ao(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Pt(903,!1);c=n.\u0275dir}if(c){if(o){a.push(c);const m=t;m.inputs=Wp(t.inputs),m.inputTransforms=Wp(t.inputTransforms),m.declaredInputs=Wp(t.declaredInputs),m.outputs=Wp(t.outputs);const _=c.hostBindings;_&&f0(t,_);const E=c.viewQuery,x=c.contentQueries;if(E&&qp(t,E),x&&h0(t,x),Gp(t,c),Br(t.outputs,c.outputs),Ao(c)&&c.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(t),_===pv&&(o=!1)}}n=Object.getPrototypeOf(n)}!function d0(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=cs(c.hostAttrs,o=cs(o,c.hostAttrs))}}(a)}function Gp(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const c=n.inputs[a];if(void 0!==c&&(t.inputs[a]=c,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var o;const h=Array.isArray(c)?c[0]:c;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(o=t.inputTransforms)&&void 0!==o||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function Wp(t){return t===Ni?{}:t===Kn?[]:t}function qp(t,n){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{n(a,c),o(a,c)}:n}function h0(t,n){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{n(a,c,h),o(a,c,h)}:n}function f0(t,n){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{n(a,c),o(a,c)}:n}function g0(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[3]&&(o[a]=c[3])}t.inputTransforms=o}function sf(t,n){return!n||null===n.firstChild||Ch(t)}function Jp(t,n,o,a=!0){const c=n[A];if(function gI(t,n,o,a){const c=Ci+a,h=o.length;a>0&&(o[c-1][de]=n),a<h-Ci?(n[de]=o[c],Xc(o,Ci+a,n)):(o.push(n),n[de]=null),n[L]=o;const m=n[Gs];null!==m&&o!==m&&function em(t,n){const o=t[ts];n[Vr]!==n[L][L][Vr]&&(t[G]|=Aa.HasTransplantedViews),null===o?t[ts]=[n]:o.push(n)}(m,n);const _=n[Ki];null!==_&&_.insertView(t),Tt(n),n[G]|=128}(c,n,t,o),a){const m=qf(o,t),_=n[Hn],E=Ga(_,t[co]);null!==E&&function Xg(t,n,o,a,c,h){a[B]=c,a[Nt]=n,bc(t,a,o,1,c,h)}(c,t[Nt],_,n,E,m)}const h=n[wn];null!==h&&null!==h.firstChild&&(h.firstChild=null)}let tg=(()=>{class n{}return n.__NG_ELEMENT_ID__=dC,n})();function dC(){return Tv($n(),lt())}const hC=tg,x0=class extends hC{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const n=xi(this._hostTNode,this._hostLView);if(Ku(n)){const o=eu(n,this._hostLView),a=ka(n);return new _i(o[A].data[a+8],o)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=O0(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Ci}createEmbeddedView(n,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const _=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(_,c,sf(this._hostTNode,null)),_}createComponent(n,o,a,c,h){var m,E;const x=n&&!function Er(t){return"function"==typeof t}(n);let j;if(x)j=o;else{const vn=o||{};j=vn.index,a=vn.injector,c=vn.projectableNodes,h=vn.environmentInjector||vn.ngModuleRef}const K=x?n:new Ea(Yn(n)),Ie=a||this.parentInjector;if(!h&&null==K.ngModule){const Vt=(x?Ie:this.parentInjector).get(Po,null);Vt&&(h=Vt)}const He=Yn(null!==(m=K.componentType)&&void 0!==m?m:{}),It=(null==He?void 0:He.id,null),Lt=null!==(E=null==It?void 0:It.firstChild)&&void 0!==E?E:null,Kt=K.create(Ie,c,Lt,h);return this.insertImpl(Kt.hostView,j,sf(this._hostTNode,It)),Kt}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,a){const c=n._lView;if(function Ro(t){return ki(t[L])}(c)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const E=c[L],x=new x0(E,E[Nt],E[L]);x.detach(x.indexOf(n))}}const h=this._adjustIndex(o),m=this._lContainer;return Jp(m,c,h,a),n.attachToViewContainerRef(),Xc(ng(m),h,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=O0(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Rh(this._lContainer,o);a&&(xl(ng(this._lContainer),o),Mh(a[A],a))}detach(n){const o=this._adjustIndex(n,-1),a=Rh(this._lContainer,o);return a&&null!=xl(ng(this._lContainer),o)?new xp(a):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function O0(t){return t[8]}function ng(t){return t[8]||(t[8]=[])}function Tv(t,n){let o;const a=n[t.index];return ki(a)?o=a:(o=bp(a,n,null,t),n[t.index]=o,qh(n,o)),rg(o,n,t,a),new x0(o,t,n)}let rg=function Ay(t,n,o,a){if(t[co])return;let c;c=8&o.type?wr(a):function fC(t,n){const o=t[Hn],a=o.createComment(""),c=kr(n,t);return ao(o,Ga(o,c),a,function pd(t,n){return t.nextSibling(n)}(o,c),!1),a}(n,o),t[co]=c},jd=()=>!1;function Io(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Bc(t,n,o,a,c,h,m,_){const E=lt(),x=ar(),j=t+Gn,K=x.firstCreatePass?function N0(t,n,o,a,c,h,m,_,E){const x=n.consts,j=Ru(n,t,4,m||null,gi(x,_));Wh(n,o,j,gi(x,E)),qc(n,j);const K=j.tView=Md(2,j,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x,null);return null!==n.queries&&(n.queries.template(n,j),K.queries=n.queries.embeddedTView(j)),j}(j,x,E,n,o,a,c,h,m):x.data[j];_s(K,!1);const Ie=bv(x,E,K,t);da()&&Wa(x,E,Ie,K),Yo(Ie,E);const He=bp(Ie,E,Ie,K);return E[j]=He,qh(E,He),function by(t,n,o){return jd(t,n,o)}(He,K,E),Sa(K)&&Cp(x,E,K),null!=m&&Mu(E,K,_),Bc}let bv=function ku(t,n,o,a){return ha(!0),n[Hn].createComment("")};function H0(t,n,o,a){const c=lt();return Io(c,P(),n)&&(ar(),cl(Ir(),c,t,n,o,a)),H0}function Uy(t,n){return t<<17|n<<2}function Yd(t){return t>>17&32767}function z0(t){return 2|t}function uf(t){return(131068&t)>>2}function G0(t,n){return-131069&t|n<<2}function W0(t){return 1|t}function RC(t,n,o,a){const c=t[o+1],h=null===n;let m=a?Yd(c):uf(c),_=!1;for(;0!==m&&(!1===_||h);){const x=t[m+1];Yw(t[m],n)&&(_=!0,t[m+1]=a?W0(x):z0(x)),m=a?Yd(x):uf(x)}_&&(t[o+1]=a?z0(c):W0(c))}function Yw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&tl(t,n)>=0}function q0(t,n,o){const a=lt();return Io(a,P(),n)&&function Es(t,n,o,a,c,h,m,_){const E=kr(n,o);let j,x=n.inputs;!_&&null!=x&&(j=x[a])?(Sp(t,o,j,a,c),ns(n)&&function ey(t,n){const o=So(n,t);16&o[G]||(o[G]|=64)}(o,n.index)):3&n.type&&(a=function wp(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,n.value||"",a):c,h.setProperty(E,a,c))}(ar(),Ir(),a,t,n,a[Hn],o,!1),q0}function Y0(t,n,o,a,c){const m=c?"class":"style";Sp(t,o,n.inputs[m],m,a)}function K0(t,n){return function Wl(t,n,o,a){const c=lt(),h=ar(),m=function q(t){const n=Qn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}(2);h.firstUpdatePass&&function VC(t,n,o,a){const c=t.data;if(null===c[o+1]){const h=c[io()],m=function LC(t,n){return n>=t.expandoStartIndex}(t,o);(function jC(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!m&&(n=!1),n=function rb(t,n,o,a){const c=function On(t){const n=Qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(o=Ov(o=Z0(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(o=Z0(c,t,n,o,a),null===h){let E=function ib(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==uf(a))return t[Yd(a)]}(t,n,a);void 0!==E&&Array.isArray(E)&&(E=Z0(null,t,n,E[1],a),E=Ov(E,n.attrs,a),function ob(t,n,o,a){t[Yd(o?n.classBindings:n.styleBindings)]=a}(t,n,a,E))}else h=function sb(t,n,o){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=Ov(a,t[h].hostAttrs,o);return Ov(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(c,h,n,a),function Ww(t,n,o,a,c,h){let m=h?n.classBindings:n.styleBindings,_=Yd(m),E=uf(m);t[a]=o;let j,x=!1;if(Array.isArray(o)?(j=o[1],(null===j||tl(o,j)>0)&&(x=!0)):j=o,c)if(0!==E){const Ie=Yd(t[_+1]);t[a+1]=Uy(Ie,_),0!==Ie&&(t[Ie+1]=G0(t[Ie+1],a)),t[_+1]=function zw(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=Uy(_,0),0!==_&&(t[_+1]=G0(t[_+1],a)),_=a;else t[a+1]=Uy(E,0),0===_?_=a:t[E+1]=G0(t[E+1],a),E=a;x&&(t[a+1]=z0(t[a+1])),RC(t,j,a,!0),RC(t,j,a,!1),function qw(t,n,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&tl(h,n)>=0&&(o[a+1]=W0(o[a+1]))}(n,j,t,a,h),m=Uy(_,E),h?n.classBindings=m:n.styleBindings=m}(c,h,n,o,m,a)}}(h,t,m,a),n!==ur&&Io(c,m,n)&&function $C(t,n,o,a,c,h,m,_){if(!(3&n.type))return;const E=t.data,x=E[_+1],j=function Gw(t){return 1==(1&t)}(x)?UC(E,n,o,c,uf(x),m):void 0;jy(j)||(jy(h)||function Hw(t){return 2==(2&t)}(x)&&(h=UC(E,null,o,c,_,m)),function vI(t,n,o,a,c){if(n)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Dh.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Dh.Important),t.setStyle(o,a,c,h))}}(a,m,function Qa(t,n){return wr(n[t])}(io(),o),c,h))}(h,h.data[io()],c,c[Hn],t,c[m+1]=function cb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=dn(sl(t)))),t}(n,o),a,m)}(t,n,null,!0),K0}function Z0(t,n,o,a,c){let h=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(h=n[_],a=Ov(a,h.hostAttrs,c),h!==t);)_++;return null!==t&&(o.directiveStylingLast=_),a}function Ov(t,n,o){const a=o?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vs(t,m,!!o||n[++h]))}return void 0===t?null:t}function UC(t,n,o,a,c,h){const m=null===n;let _;for(;c>0;){const E=t[c],x=Array.isArray(E),j=x?E[1]:E,K=null===j;let Ie=o[c+1];Ie===ur&&(Ie=K?Kn:void 0);let He=K?sc(Ie,a):j===a?Ie:void 0;if(x&&!jy(He)&&(He=sc(E,a)),jy(He)&&(_=He,m))return _;const It=t[c+1];c=m?Yd(It):uf(It)}if(null!==n){let E=h?n.residualClasses:n.residualStyles;null!=E&&(_=sc(E,a))}return _}function jy(t){return void 0!==t}function Hy(t,n,o,a){const c=lt(),h=ar(),m=Gn+t,_=c[Hn],E=h.firstCreatePass?function Ob(t,n,o,a,c,h){const m=n.consts,E=Ru(n,t,2,a,gi(m,c));return Wh(n,o,E,gi(m,h)),null!==E.attrs&&Hp(E,E.attrs,!1),null!==E.mergedAttrs&&Hp(E,E.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,E),E}(m,h,c,n,o,a):h.data[m],x=WC(h,c,E,_,n,t);c[m]=x;const j=Sa(E);return _s(E,!0),md(_,x,E),32!=(32&E.flags)&&da()&&Wa(h,c,x,E),0===function Zi(){return Qn.lFrame.elementDepthCount}()&&Yo(x,c),function Jd(){Qn.lFrame.elementDepthCount++}(),j&&(Cp(h,c,E),Gh(h,E,c)),null!==a&&Mu(c,E),Hy}function zy(){let t=$n();Ns()?Gu():(t=t.parent,_s(t,!1));const n=t;(function th(t){return Qn.skipHydrationRootTNode===t})(n)&&function ni(){Qn.skipHydrationRootTNode=null}(),function zc(){Qn.lFrame.elementDepthCount--}();const o=ar();return o.firstCreatePass&&(qc(o,t),_l(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function _f(t){return 0!=(8&t.flags)}(n)&&Y0(o,n,lt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Yu(t){return 0!=(16&t.flags)}(n)&&Y0(o,n,lt(),n.stylesWithoutHost,!1),zy}function tE(t,n,o,a){return Hy(t,n,o,a),zy(),tE}let WC=(t,n,o,a,c,h)=>(ha(!0),Ah(a,c,function Cl(){return Qn.lFrame.currentNamespace}()));function nE(t,n,o){const a=lt(),c=ar(),h=t+Gn,m=c.firstCreatePass?function Fb(t,n,o,a,c){const h=n.consts,m=gi(h,a),_=Ru(n,t,8,"ng-container",m);return null!==m&&Hp(_,m,!0),Wh(n,o,_,gi(h,c)),null!==n.queries&&n.queries.elementStart(n,_),_}(h,c,a,n,o):c.data[h];_s(m,!0);const _=qC(c,a,m,t);return a[h]=_,da()&&Wa(c,a,_,m),Yo(_,a),Sa(m)&&(Cp(c,a,m),Gh(c,m,a)),null!=o&&Mu(a,m),nE}function rE(){let t=$n();const n=ar();return Ns()?Gu():(t=t.parent,_s(t,!1)),n.firstCreatePass&&(qc(n,t),_l(t)&&n.queries.elementEnd(t)),rE}function iE(t,n,o){return nE(t,n,o),rE(),iE}let qC=(t,n,o,a)=>(ha(!0),bh(n[Hn],""));function YC(){return lt()}const cf=void 0;var $b=["en",[["a","p"],["AM","PM"],cf],[["AM","PM"],cf,cf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cf,"{1} 'at' {0}",cf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bb(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Dg={};function oE(t){const n=function Ub(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=XC(n);if(o)return o;const a=n.split("-")[0];if(o=XC(a),o)return o;if("en"===a)return $b;throw new Pt(701,!1)}function QC(t){return oE(t)[Tg.PluralCase]}function XC(t){return t in Dg||(Dg[t]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[t]),Dg[t]}var Tg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Tg||{});const wg="en-US";let JC=wg;function lE(t){return!!t&&"function"==typeof t.then}function TD(t){return!!t&&"function"==typeof t.subscribe}function uE(t,n,o,a){const c=lt(),h=ar(),m=$n();return function bD(t,n,o,a,c,h,m){const _=Sa(a),x=t.firstCreatePass&&rv(t),j=n[cr],K=Pr(n);let Ie=!0;if(3&a.type||m){const Lt=kr(a,n),Kt=m?m(Lt):Lt,vn=K.length,Vt=m?vr=>m(wr(vr[a.index])):a.index;let Jn=null;if(!m&&_&&(Jn=function kA(t,n,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===a){const _=n[Dr],E=c[h+2];return _.length>E?_[E]:null}"string"==typeof m&&(h+=2)}return null}(t,n,c,a.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=h,Jn.__ngLastListenerFn__=h,Ie=!1;else{h=SD(a,n,j,h,!1);const vr=o.listen(Kt,c,h);K.push(h,vr),x&&x.push(c,Vt,vn,vn+1)}}else h=SD(a,n,j,h,!1);const He=a.outputs;let It;if(Ie&&null!==He&&(It=He[c])){const Lt=It.length;if(Lt)for(let Kt=0;Kt<Lt;Kt+=2){const oi=n[It[Kt]][It[Kt+1]].subscribe(h),ls=K.length;K.push(h,oi),x&&x.push(c,a.index,ls,-(ls+1))}}}(h,c,c[Hn],m,t,n,a),uE}function AD(t,n,o,a){try{return Ks(6,n,o),!1!==o(a)}catch(c){return Pu(t,c),!1}finally{Ks(7,n,o)}}function SD(t,n,o,a,c){return function h(m){if(m===Function)return a;Pp(t.componentOffset>-1?So(t.index,n):n);let E=AD(n,o,a,m),x=h.__ngNextListenerFn__;for(;x;)E=AD(n,o,x,m)&&E,x=x.__ngNextListenerFn__;return c&&!1===E&&m.preventDefault(),E}}function RD(t=1){return function El(t){return(Qn.lFrame.contextLView=function Xd(t,n){for(;t>0;)n=n[Go],t--;return n}(t,Qn.lFrame.contextLView))[cr]}(t)}function FA(t,n){let o=null;const a=function ml(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?To(t,h,!0):Yl(a,h))return c}else o=c}return o}function MD(t){const n=lt()[Vr][Nt];if(!n.projection){const a=n.projection=function iu(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const m=t?FA(h,t):0;null!==m&&(c[m]?c[m].projectionNext=h:a[m]=h,c[m]=h),h=h.next}}}function PD(t,n=0,o){const a=lt(),c=ar(),h=Ru(c,Gn+t,16,null,o||null);null===h.projection&&(h.projection=n),Gu(),(!a[wn]||aa())&&32!=(32&h.flags)&&function l_(t,n,o){u_(n[Hn],0,n,o,Gf(t,o,n),rm(o.parent||n[Nt],o,n))}(c,a,h)}function LA(){return this._results[Symbol.iterator]()}class dE{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new fl}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=dE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=LA)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const a=function Xi(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function ri(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(this._results,a,o))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Bv=(()=>{class n{}return n.__NG_ELEMENT_ID__=$A,n})();const VA=Bv,BA=class extends VA{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const c=function rf(t,n,o,a){var c,h;const m=n.tView,x=Rd(t,m,o,4096&t[G]?4096:16,null,n,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.dehydratedView)&&void 0!==h?h:null);x[Gs]=t[n.index];const K=t[Ki];return null!==K&&(x[Ki]=K.createEmbeddedView(m)),jp(m,x,o),x}(this._declarationLView,this._declarationTContainer,n,{injector:o,dehydratedView:a});return new xp(c)}};function $A(){return Ky($n(),lt())}function Ky(t,n){return 4&t.type?new BA(n,t,ea(t,n)):null}class hE{constructor(n){this.queryList=n,this.matches=null}clone(){return new hE(this.queryList)}setDirty(){this.queryList.setDirty()}}class fE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new fE(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==GD(n,o).matches&&this.queries[o].setDirty()}}class UD{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class pE{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new pE(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class gE{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new gE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,o,UA(o,h)),this.matchTNodeWithReadOption(n,o,Xu(o,n,h,!1,!1))}else a===Bv?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Xu(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Oc||c===tg||c===Bv&&4&o.type)this.addMatch(o.index,-2);else{const h=Xu(o,n,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function UA(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function HA(t,n,o,a){return-1===o?function jA(t,n){return 11&t.type?ea(t,n):4&t.type?Ky(t,n):null}(n,t):-2===o?function zA(t,n,o){return o===Oc?ea(n,t):o===Bv?Ky(n,t):o===tg?Tv(n,t):void 0}(t,n,a):Wo(t,t[A],o,n)}function jD(t,n,o,a){const c=n[Ki].queries[a];if(null===c.matches){const h=t.data,m=o.matches,_=[];for(let E=0;E<m.length;E+=2){const x=m[E];_.push(x<0?null:HA(n,h[x],m[E+1],o.metadata.read))}c.matches=_}return c.matches}function mE(t,n,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const m=jD(t,n,c,o);for(let _=0;_<h.length;_+=2){const E=h[_];if(E>0)a.push(m[_/2]);else{const x=h[_+1],j=n[-E];for(let K=Ci;K<j.length;K++){const Ie=j[K];Ie[Gs]===Ie[L]&&mE(Ie[A],Ie,x,a)}if(null!==j[ts]){const K=j[ts];for(let Ie=0;Ie<K.length;Ie++){const He=K[Ie];mE(He[A],He,x,a)}}}}}return a}function HD(t,n,o){const a=new dE(4==(4&o));(function qm(t,n,o,a){const c=Pr(n);c.push(o),t.firstCreatePass&&rv(t).push(a,c.length-1)})(t,n,a,a.destroy),null===n[Ki]&&(n[Ki]=new fE),n[Ki].queries.push(new hE(a))}function zD(t,n,o){null===t.queries&&(t.queries=new pE),t.queries.track(new gE(n,o))}function GD(t,n){return t.queries.getByIndex(n)}function WD(t,n,o,a){const c=ar();if(c.firstCreatePass){const h=$n();zD(c,new UD(n,o,a),h.index),function WA(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}HD(c,lt(),o)}function qD(t,n,o){const a=ar();a.firstCreatePass&&(zD(a,new UD(t,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),HD(a,lt(),n)}function YD(t){const n=lt(),o=ar(),a=fi();br(a+1);const c=GD(o,a);if(t.dirty&&function Wt(t){return 4==(4&t[G])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?mE(o,n,a,[]):jD(o,n,c,a);t.reset(h,Dd),t.notifyOnChanges()}return!0}return!1}function KD(){return function GA(t,n){return t[Ki].queries[n].queryList}(lt(),fi())}function ZD(t){return function gs(t,n){return t[n]}(function Ja(){return Qn.lFrame.contextLView}(),Gn+t)}function sT(t,n=""){const o=lt(),a=ar(),c=t+Gn,h=a.firstCreatePass?Ru(a,c,1,n,null):a.data[c],m=aT(a,o,h,n,t);o[c]=m,da()&&Wa(a,o,m,h),_s(h,!1)}let aT=(t,n,o,a,c)=>(ha(!0),function jf(t,n){return t.createText(n)}(n[Hn],a));function _E(t,n,o,a,c){if(t=en(t),Array.isArray(t))for(let h=0;h<t.length;h++)_E(t[h],n,o,a,c);else{const h=ar(),m=lt(),_=$n();let E=is(t)?t:en(t.provide);const x=nl(t),j=1048575&_.providerIndexes,K=_.directiveStart,Ie=_.providerIndexes>>20;if(is(t)||!t.multi){const He=new Tl(x,c,Sd),It=IE(E,n,c?j:j+Ie,K);-1===It?(oh(ho(_,m),h,E),yE(h,t,n.length),n.push(E),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(He),m.push(He)):(o[It]=He,m[It]=He)}else{const He=IE(E,n,j+Ie,K),It=IE(E,n,j,j+Ie),Kt=It>=0&&o[It];if(c&&!Kt||!c&&!(He>=0&&o[He])){oh(ho(_,m),h,E);const vn=function lS(t,n,o,a,c){const h=new Tl(t,o,Sd);return h.multi=[],h.index=n,h.componentProviders=0,vT(h,c,a&&!o),h}(c?aS:sS,o.length,c,a,x);!c&&Kt&&(o[It].providerFactory=vn),yE(h,t,n.length,0),n.push(E),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(vn),m.push(vn)}else yE(h,t,He>-1?He:It,vT(o[c?It:He],x,!c&&a));!c&&a&&Kt&&o[It].componentProviders++}}}function yE(t,n,o,a){const c=is(n),h=function zg(t){return!!t.useClass}(n);if(c||h){const E=(h?en(n.useClass):n).prototype.ngOnDestroy;if(E){const x=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const j=x.indexOf(o);-1===j?x.push(o,[a,E]):x[j+1].push(a,E)}else x.push(o,E)}}}function vT(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function IE(t,n,o,a){for(let c=o;c<a;c++)if(n[c]===t)return c;return-1}function sS(t,n,o,a){return EE(this.multi,[])}function aS(t,n,o,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=Wo(o,o[A],this.providerFactory.index,a);h=_.slice(0,m),EE(c,h);for(let E=m;E<_.length;E++)h.push(_[E])}else h=[],EE(c,h);return h}function EE(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function _T(t,n=[]){return o=>{o.providersResolver=(a,c)=>function oS(t,n,o){const a=ar();if(a.firstCreatePass){const c=Ao(t);_E(o,a.data,a.blueprint,c,!0),_E(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class df{}class yT{}function uS(t,n){return new CE(t,null!=n?n:null,[])}class CE extends df{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xh(this);const c=si(n);this._bootstrapComponents=Fr(c.bootstrap),this._r3Injector=hu(n,o,[{provide:df,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver},...a],dn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class DE extends yT{constructor(n){super(),this.moduleType=n}create(n){return new CE(this.moduleType,n,[])}}class IT extends df{constructor(n){super(),this.componentFactoryResolver=new Xh(this),this.instance=null;const o=new za([...n.providers,{provide:df,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver}],n.parent||gc(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ET(t,n,o=null){return new IT({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let dS=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=ja(0,a.type),h=c.length>0?ET([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Vn({token:t,providedIn:"environment",factory:()=>new t(Hr(Po))}),n})();function CT(t){Od("NgStandalone"),t.getStandaloneInjector=n=>n.get(dS).getOrCreateStandaloneInjector(t)}class QT{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const aR=new QT("17.1.2");let XT=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();class lR{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let uR=(()=>{var t;class n{compileModuleSync(a){return new DE(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=Fr(si(a).declarations).reduce((_,E)=>{const x=Yn(E);return x&&_.push(new Ea(x)),_},[]);return new lR(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),Jy=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ct.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const nw=new $(""),rw=new $("");let PE,FR=(()=>{var t;class n{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,PE||(function LR(t){PE=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),a()},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(Hr(Gi),Hr(iw),Hr(rw))},t.\u0275prov=Vn({token:t,factory:t.\u0275fac}),n})(),iw=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,m;return null!==(h=null===(m=PE)||void 0===m?void 0:m.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const ow=new $("");let xE=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=nr(ow,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const m=h();if(lE(m))a.push(m);else if(TD(m)){const _=new Promise((E,x)=>{m.subscribe({complete:E,error:x})});a.push(_)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const OE=new $("");function lw(t,n){return Array.isArray(n)?n.reduce(lw,t):{...t,...n}}let hf=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nr(q_),this.afterRenderEffectManager=nr(Zh),this.componentTypes=[],this.components=[],this.isStable=nr(Jy).hasPendingTasks.pipe((0,bt.U)(a=>!a)),this._injector=nr(Po)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof O_;if(!this._injector.get(xE).done)throw!h&&Ii(a),new Pt(405,!1);let _;_=h?a:this._injector.get(Ed).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function BR(t){return t.isBoundToModule}(_)?void 0:this._injector.get(df),j=_.create(Uo.NULL,[],c||_.selector,E),K=j.location.nativeElement,Ie=j.injector.get(nw,null);return null==Ie||Ie.registerApplication(K),j.onDestroy(()=>{this.detachView(j.hostView),tI(this.components,j),null==Ie||Ie.unregisterApplication(K)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Pt(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{try{this.afterRenderEffectManager.execute()}catch(a){this.internalErrorHandler(a)}this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;tI(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(OE,[]);[...this._bootstrapListeners,...c].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>tI(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Pt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function tI(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}let UR=(()=>{var t;class n{constructor(){this.zone=nr(Gi),this.applicationRef=nr(hf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function jR(){const t=nr(Gi),n=nr(ll);return o=>t.runOutsideAngular(()=>n.handleError(o))}let zR=(()=>{var t;class n{constructor(){this.subscription=new ht.w0,this.initialized=!1,this.zone=nr(Gi),this.pendingTasks=nr(Jy)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;Gi.assertInAngularZone(),null!==(c=a)&&void 0!==c||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const nI=new $("",{providedIn:"root",factory:()=>nr(nI,ie.Optional|ie.SkipSelf)||function GR(){return typeof $localize<"u"&&$localize.locale||wg}()}),WR=new $("",{providedIn:"root",factory:()=>"USD"}),NE=new $("");let hw=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function lv(t="zone.js",n){return"noop"===t?new Vp:"zone.js"===t?new Gi(n):t}(null==c?void 0:c.ngZone,function dw(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const m=function cS(t,n,o){return new CE(t,n,o)}(a.moduleType,this.injector,function cw(t){return[{provide:Gi,useFactory:t},{provide:so,multi:!0,useFactory:()=>{const n=nr(UR,{optional:!0});return()=>n.initialize()}},{provide:so,multi:!0,useFactory:()=>{const n=nr(zR);return()=>{n.initialize()}}},{provide:q_,useFactory:jR}]}(()=>h)),_=m.injector.get(ll,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:x=>{_.handleError(x)}});m.onDestroy(()=>{tI(this._modules,m),E.unsubscribe()})}),function aw(t,n,o){try{const a=o();return lE(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(_,h,()=>{const E=m.injector.get(xE);return E.runInitializers(),E.donePromise.then(()=>(function eD(t){$t(t,"Expected localeId to be defined"),"string"==typeof t&&(JC=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(nI,wg)||wg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,c=[]){const h=lw({},c);return function VR(t,n,o){const a=new DE(o);return Promise.resolve(a)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const c=a.injector.get(hf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Pt(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pt(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(NE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(Hr(Uo))},t.\u0275prov=Vn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Kd=null;const fw=new $("");function pw(t,n,o=[]){const a=`Platform: ${n}`,c=new $(a);return(h=[])=>{let m=kE();if(!m||m.injector.get(fw,!1)){const _=[...o,...h,{provide:c,useValue:!0}];t?t(_):function YR(t){if(Kd&&!Kd.get(fw,!1))throw new Pt(400,!1);(function sw(){!function be(t){sn=t}(()=>{throw new Pt(600,!1)})})(),Kd=t;const n=t.get(hw);(function mw(t){const n=t.get(f,null);null==n||n.forEach(o=>o())})(t)}(function gw(t=[],n){return Uo.create({name:n,providers:[{provide:id,useValue:"platform"},{provide:NE,useValue:new Set([()=>Kd=null])},...t]})}(_,a))}return function KR(t){const n=kE();if(!n)throw new Pt(401,!1);return n}()}}function kE(){var t,n;return null!==(t=null===(n=Kd)||void 0===n?void 0:n.get(hw))&&void 0!==t?t:null}function QR(){return!1}function XR(){}const rM=pw(null,"core",[]);let iM=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(Hr(hf))},t.\u0275mod=Jo({type:t}),t.\u0275inj=Ui({}),n})();function PM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function OM(t,n){const o=Yn(t),a=n.elementInjector||gc();return new Ea(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function NM(t){const n=Yn(t);if(!n)return null;const o=new Ea(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9949:(Yt,et,N)=>{"use strict";N.d(et,{zQ:()=>Ce,ww:()=>Ke,rT:()=>De,f7:()=>ge,L6:()=>Cn,_Q:()=>be,lh:()=>J,Qv:()=>sn,nw:()=>Be});var u=N(1180),Y=(N(999),N(6814)),ne=N(9212),Te=N(8326),fe=N(7217),ue=N(8645),Ue=N(2096),je=N(5592),_e=N(2459),se=N(7537),Me=N(4829),Oe=N(6232),ke=N(4564),it=N(3093),xe=N(4664),Pe=N(7398),Ve=N(4552);class pt extends ue.x{constructor(St=1/0,Mt=1/0,at=Ve.l){super(),this._bufferSize=St,this._windowTime=Mt,this._timestampProvider=at,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Mt===1/0,this._bufferSize=Math.max(1,St),this._windowTime=Math.max(1,Mt)}next(St){const{isStopped:Mt,_buffer:at,_infiniteTimeWindow:Zt,_timestampProvider:an,_windowTime:mt}=this;Mt||(at.push(St),!Zt&&at.push(an.now()+mt)),this._trimBuffer(),super.next(St)}_subscribe(St){this._throwIfClosed(),this._trimBuffer();const Mt=this._innerSubscribe(St),{_infiniteTimeWindow:at,_buffer:Zt}=this,an=Zt.slice();for(let mt=0;mt<an.length&&!St.closed;mt+=at?1:2)St.next(an[mt]);return this._checkFinalizedStatuses(St),Mt}_trimBuffer(){const{_bufferSize:St,_timestampProvider:Mt,_buffer:at,_infiniteTimeWindow:Zt}=this,an=(Zt?1:2)*St;if(St<1/0&&an<at.length&&at.splice(0,at.length-an),!Zt){const mt=Mt.now();let ht=0;for(let ct=1;ct<at.length&&at[ct]<=mt;ct+=2)ht=ct;ht&&at.splice(0,ht+1)}}}var ze=N(305),Re=N(9360);function Je(wt,St,...Mt){if(!0===St)return void wt();if(!1===St)return;const at=new ze.Hp({next:()=>{at.unsubscribe(),wt()}});return(0,Me.Xf)(St(...Mt)).subscribe(at)}function z(wt,St,Mt){let at,Zt=!1;return wt&&"object"==typeof wt?({bufferSize:at=1/0,windowTime:St=1/0,refCount:Zt=!1,scheduler:Mt}=wt):at=null!=wt?wt:1/0,function Ae(wt={}){const{connector:St=(()=>new ue.x),resetOnError:Mt=!0,resetOnComplete:at=!0,resetOnRefCountZero:Zt=!0}=wt;return an=>{let mt,ht,ct,bt=0,un=!1,rn=!1;const Pt=()=>{null==ht||ht.unsubscribe(),ht=void 0},Xt=()=>{Pt(),mt=ct=void 0,un=rn=!1},Pn=()=>{const yn=mt;Xt(),null==yn||yn.unsubscribe()};return(0,Re.e)((yn,fr)=>{bt++,!rn&&!un&&Pt();const Fn=ct=null!=ct?ct:St();fr.add(()=>{bt--,0===bt&&!rn&&!un&&(ht=Je(Pn,Zt))}),Fn.subscribe(fr),!mt&&bt>0&&(mt=new ze.Hp({next:Nn=>Fn.next(Nn),error:Nn=>{rn=!0,Pt(),ht=Je(Xt,Mt,Nn),Fn.error(Nn)},complete:()=>{un=!0,Pt(),ht=Je(Xt,at),Fn.complete()}}),(0,Me.Xf)(yn).subscribe(mt))})(an)}}({connector:()=>new pt(at,St,Mt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Zt})}var pe=N(1374),ae=N(4674);function W(wt,St){return(0,ae.m)(St)?(0,xe.w)(()=>wt,St):(0,xe.w)(()=>wt)}var Qe=N(5137),nt=N(2181),tt=N(7142);const sn=new ne.OlP("angularfire2.auth.use-emulator"),Cn=new ne.OlP("angularfire2.auth.settings"),be=new ne.OlP("angularfire2.auth.tenant-id"),De=new ne.OlP("angularfire2.auth.langugage-code"),J=new ne.OlP("angularfire2.auth.use-device-language"),ge=new ne.OlP("angularfire.auth.persistence"),Be=(wt,St,Mt,at,Zt,an,mt,ht)=>(0,fe.cc)(`${wt.name}.auth`,"AngularFireAuth",wt.name,()=>{const ct=St.runOutsideAngular(()=>wt.auth());if(Mt&&ct.useEmulator(...Mt),at&&(ct.tenantId=at),ct.languageCode=Zt,an&&ct.useDeviceLanguage(),mt)for(const[bt,un]of Object.entries(mt))ct.settings[bt]=un;return ht&&ct.setPersistence(ht),ct},[Mt,at,Zt,an,mt,ht]);let Ce=(()=>{var wt;class St{constructor(at,Zt,an,mt,ht,ct,bt,un,rn,Pt,Xt,Pn){(0,u.Z)(this,"authState",void 0),(0,u.Z)(this,"idToken",void 0),(0,u.Z)(this,"user",void 0),(0,u.Z)(this,"idTokenResult",void 0),(0,u.Z)(this,"credential",void 0);const yn=new ue.x,fr=(0,Ue.of)(void 0).pipe((0,it.Q)(ht.outsideAngular),(0,xe.w)(()=>mt.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,999)))),(0,Pe.U)(()=>(0,fe.on)(at,mt,Zt)),(0,Pe.U)(Fn=>Be(Fn,mt,ct,un,rn,Pt,bt,Xt)),z({bufferSize:1,refCount:!1}));if((0,Y.PM)(an))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{fr.pipe((0,pe.P)()).subscribe();const Fn=fr.pipe((0,xe.w)(Wn=>Wn.getRedirectResult().then(lr=>lr,()=>null)),Te.iC,z({bufferSize:1,refCount:!1})),Nn=fr.pipe((0,xe.w)(Wn=>new je.y(lr=>({unsubscribe:mt.runOutsideAngular(()=>Wn.onAuthStateChanged(Tn=>lr.next(Tn),Tn=>lr.error(Tn),()=>lr.complete()))})))),En=fr.pipe((0,xe.w)(Wn=>new je.y(lr=>({unsubscribe:mt.runOutsideAngular(()=>Wn.onIdTokenChanged(Tn=>lr.next(Tn),Tn=>lr.error(Tn),()=>lr.complete()))}))));this.authState=Fn.pipe(W(Nn),(0,Qe.R)(ht.outsideAngular),(0,it.Q)(ht.insideAngular)),this.user=Fn.pipe(W(En),(0,Qe.R)(ht.outsideAngular),(0,it.Q)(ht.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(Wn=>Wn?(0,_e.D)(Wn.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(Wn=>Wn?(0,_e.D)(Wn.getIdTokenResult()):(0,Ue.of)(null))),this.credential=function Ne(...wt){const St=(0,ke.yG)(wt),Mt=(0,ke._6)(wt,1/0),at=wt;return at.length?1===at.length?(0,Me.Xf)(at[0]):(0,se.J)(Mt)((0,_e.D)(at,St)):Oe.E}(Fn,yn,this.authState.pipe((0,nt.h)(Wn=>!Wn))).pipe((0,Pe.U)(Wn=>null!=Wn&&Wn.user?Wn:null),(0,Qe.R)(ht.outsideAngular),(0,it.Q)(ht.insideAngular))}return(0,fe.pX)(this,fr,mt,{spy:{apply:(Fn,Nn,En)=>{(Fn.startsWith("signIn")||Fn.startsWith("createUser"))&&En.then(Wn=>yn.next(Wn))}}})}}return wt=St,(0,u.Z)(St,"\u0275fac",function(at){return new(at||wt)(ne.LFG(fe.Dh),ne.LFG(fe.xv,8),ne.LFG(ne.Lbi),ne.LFG(ne.R0b),ne.LFG(Te.HU),ne.LFG(sn,8),ne.LFG(Cn,8),ne.LFG(be,8),ne.LFG(De,8),ne.LFG(J,8),ne.LFG(ge,8),ne.LFG(Te.Rf,8))}),(0,u.Z)(St,"\u0275prov",ne.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"any"})),St})(),Ke=(()=>{var wt;class St{constructor(){tt.Z.registerVersion("angularfire",Te.q4.full,"auth-compat")}}return wt=St,(0,u.Z)(St,"\u0275fac",function(at){return new(at||wt)}),(0,u.Z)(St,"\u0275mod",ne.oAB({type:wt})),(0,u.Z)(St,"\u0275inj",ne.cJS({providers:[Ce]})),St})()},7217:(Yt,et,N)=>{"use strict";N.d(et,{Dh:()=>je,GT:()=>ue,cc:()=>Ne,hO:()=>ke,on:()=>se,pX:()=>fe,xv:()=>_e});var u=N(1180),k=N(9212),Y=N(8326),ne=N(7142);const Te=["ngOnDestroy"],fe=(Ve,pt,ze,Re={})=>new Proxy(Ve,{get:(Ae,Je)=>ze.runOutsideAngular(()=>{var z;if(Ve[Je])return null!=Re&&null!==(z=Re.spy)&&void 0!==z&&z.get&&Re.spy.get(Je,Ve[Je]),Ve[Je];if(Te.indexOf(Je)>-1)return()=>{};const pe=pt.toPromise().then(ae=>{const W=null==ae?void 0:ae[Je];return"function"==typeof W?W.bind(ae):null!=W&&W.then?W.then(Qe=>ze.run(()=>Qe)):ze.run(()=>W)});return new Proxy(()=>{},{get:(ae,W)=>pe[W],apply:(ae,W,Qe)=>pe.then(nt=>{var tt;const Et=null==nt?void 0:nt(...Qe);return null!=Re&&null!==(tt=Re.spy)&&void 0!==tt&&tt.apply&&Re.spy.apply(Je,Qe,Et),Et})})})}),ue=(Ve,pt)=>{pt.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Re=>{Object.defineProperty(Ve.prototype,Re,Object.getOwnPropertyDescriptor(ze.prototype||ze,Re))})})};class Ue{constructor(pt){return pt}}const je=new k.OlP("angularfire2.app.options"),_e=new k.OlP("angularfire2.app.name");function se(Ve,pt,ze){const Ae="object"==typeof ze&&ze||{};Ae.name=Ae.name||"string"==typeof ze&&ze||"[DEFAULT]";const z=ne.Z.apps.filter(pe=>pe&&pe.name===Ae.name)[0]||pt.runOutsideAngular(()=>ne.Z.initializeApp(Ve,Ae));try{if(JSON.stringify(Ve)!==JSON.stringify(z.options)){const pe=!!module.hot;Me("error",`${z.name} Firebase App already initialized with different options${pe?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ue(z)}const Me=(Ve,...pt)=>{(0,k.X6Q)()&&typeof console<"u"&&console[Ve](...pt)},Oe={provide:Ue,useFactory:se,deps:[je,k.R0b,[new k.FiY,_e]]};let ke=(()=>{var Ve;class pt{static initializeApp(Re,Ae){return{ngModule:pt,providers:[{provide:je,useValue:Re},{provide:_e,useValue:Ae}]}}constructor(Re){ne.Z.registerVersion("angularfire",Y.q4.full,"core"),ne.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),ne.Z.registerVersion("angular",k.q4F.full,Re.toString())}}return Ve=pt,(0,u.Z)(pt,"\u0275fac",function(Re){return new(Re||Ve)(k.LFG(k.Lbi))}),(0,u.Z)(pt,"\u0275mod",k.oAB({type:Ve})),(0,u.Z)(pt,"\u0275inj",k.cJS({providers:[Oe]})),pt})();function Ne(Ve,pt,ze,Re,Ae){const[,Je,z]=globalThis.\u0275AngularfireInstanceCache.find(pe=>pe[0]===Ve)||[];if(Je)return function it(Ve,pt){try{return Ve.toString()===pt.toString()}catch{return Ve===pt}}(Ae,z)||(Pe("error",`${pt} was already initialized on the ${ze} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:Ae,was:z})),Je;{const pe=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ve,pe,Ae]),pe}}const xe=typeof module<"u"&&!!module.hot,Pe=(Ve,...pt)=>{(0,k.X6Q)()&&typeof console<"u"&&console[Ve](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8326:(Yt,et,N)=>{"use strict";N.d(et,{q4:()=>it,iC:()=>tt,HU:()=>z,Rf:()=>pt});var u=N(1180),k=N(9212),Y=N(534);(0,Y.registerVersion)("firebase","10.8.0","app");var fe=N(1954),Ue=N(2631);const _e=new class je extends Ue.v{}(class ue extends fe.o{constructor(De,J){super(De,J),this.scheduler=De,this.work=J}schedule(De,J=0){return J>0?super.schedule(De,J):(this.delay=J,this.state=De,this.scheduler.flush(this),this)}execute(De,J){return J>0||this.closed?super.execute(De,J):this._execute(De,J)}requestAsyncId(De,J,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(De,J,ge):(De.flush(this),0)}});var Me=N(6321),Oe=N(9397),ke=N(5137),Ne=N(3093);const it=new k.GfV("ANGULARFIRE2_VERSION");class pt{constructor(){return((be,De)=>{const J=(0,Y.getApps)(),ge=[];return J.forEach(Be=>{Be.container.getProvider(be).instances.forEach(Ke=>{ge.includes(Ke)||ge.push(Ke)})}),ge})(ze)}}const ze="app-check";function Re(){}class Ae{constructor(De,J=_e){(0,u.Z)(this,"zone",void 0),(0,u.Z)(this,"delegate",void 0),this.zone=De,this.delegate=J}now(){return this.delegate.now()}schedule(De,J,ge){const Be=this.zone;return this.delegate.schedule(function(Ke){Be.runGuarded(()=>{De.apply(this,[Ke])})},J,ge)}}class Je{constructor(De){(0,u.Z)(this,"zone",void 0),(0,u.Z)(this,"task",null),this.zone=De}call(De,J){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Re,{},Re,Re)),J.pipe((0,Oe.b)({next:ge,complete:ge,error:ge})).subscribe(De).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let z=(()=>{var be;class De{constructor(ge){(0,u.Z)(this,"ngZone",void 0),(0,u.Z)(this,"outsideAngular",void 0),(0,u.Z)(this,"insideAngular",void 0),this.ngZone=ge,this.outsideAngular=ge.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=ge.run(()=>new Ae(Zone.current,Me.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return be=De,(0,u.Z)(De,"\u0275fac",function(ge){return new(ge||be)(k.LFG(k.R0b))}),(0,u.Z)(De,"\u0275prov",k.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})),De})();function tt(be){return function Et(be){return function(J){return(J=J.lift(new Je(be.ngZone))).pipe((0,ke.R)(be.outsideAngular),(0,Ne.Q)(be.insideAngular))}}(function pe(){const be=globalThis.\u0275AngularFireScheduler;if(!be)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return be}())(be)}},95:(Yt,et,N)=>{"use strict";N.d(et,{u5:()=>vl,Fd:()=>Yr,qQ:()=>ds,Cf:()=>Je,JU:()=>Ne,a5:()=>Pn});var u=N(9212),Y=(N(6814),N(2459)),ne=N(5592),Te=N(7453),fe=N(4829),ue=N(4564),Ue=N(8251),je=N(7400),_e=N(2714),Me=N(7398);const Ne=new u.OlP("");function Re(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}const Je=new u.OlP("");function De(B){return null}function J(B){return null!=B}function ge(B){return(0,u.QGY)(B)?(0,Y.D)(B):B}function Be(B){let A={};return B.forEach(G=>{A=null!=G?{...A,...G}:A}),0===Object.keys(A).length?null:A}function Ce(B,A){return A.map(G=>G(B))}function wt(B){return B.map(A=>function Ke(B){return!B.validate}(A)?A:G=>A.validate(G))}function Mt(B){return null!=B?function St(B){if(!B)return null;const A=B.filter(J);return 0==A.length?null:function(G){return Be(Ce(G,A))}}(wt(B)):null}function Zt(B){return null!=B?function at(B){if(!B)return null;const A=B.filter(J);return 0==A.length?null:function(G){return function se(...B){const A=(0,ue.jO)(B),{args:G,keys:L}=(0,Te.D)(B),de=new ne.y(Nt=>{const{length:wn}=G;if(!wn)return void Nt.complete();const Dr=new Array(wn);let cr=wn,Zn=wn;for(let Ei=0;Ei<wn;Ei++){let Hn=!1;(0,fe.Xf)(G[Ei]).subscribe((0,Ue.x)(Nt,Rs=>{Hn||(Hn=!0,Zn--),Dr[Ei]=Rs},()=>cr--,void 0,()=>{(!cr||!Hn)&&(Zn||Nt.next(L?(0,_e.n)(L,Dr):Dr),Nt.complete())}))}});return A?de.pipe((0,je.Z)(A)):de}(Ce(G,A).map(ge)).pipe((0,Me.U)(Be))}}(wt(B)):null}class Pt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A=void 0){this.control&&this.control.reset(A)}hasError(A,G){return!!this.control&&this.control.hasError(A,G)}getError(A,G){return this.control?this.control.getError(A,G):null}}class Pn extends Pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const qr=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Si}),Si="always";function Xo(B){return"number"==typeof B?B:parseFloat(B)}Promise.resolve(),Promise.resolve();let mo=(()=>{var B;class A{constructor(){this._validator=De}ngOnChanges(L){if(this.inputName in L){const de=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):De,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return(B=A).\u0275fac=function(L){return new(L||B)},B.\u0275dir=u.lG2({type:B,features:[u.TTD]}),A})();const na={provide:Je,useExisting:(0,u.Gpc)(()=>Yr),multi:!0};let Yr=(()=>{var B;class A extends mo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>Xo(L),this.createValidator=L=>function Qe(B){return A=>{if(Re(A.value)||Re(B))return null;const G=parseFloat(A.value);return!isNaN(G)&&G>B?{max:{max:B,actual:A.value}}:null}}(L)}}return(B=A).\u0275fac=(()=>{let G;return function(de){return(G||(G=u.n5z(B)))(de||B)}})(),B.\u0275dir=u.lG2({type:B,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,de){2&L&&u.uIk("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[u._Bn([na]),u.qOj]}),A})();const Yi={provide:Je,useExisting:(0,u.Gpc)(()=>ds),multi:!0};let ds=(()=>{var B;class A extends mo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>Xo(L),this.createValidator=L=>function W(B){return A=>{if(Re(A.value)||Re(B))return null;const G=parseFloat(A.value);return!isNaN(G)&&G<B?{min:{min:B,actual:A.value}}:null}}(L)}}return(B=A).\u0275fac=(()=>{let G;return function(de){return(G||(G=u.n5z(B)))(de||B)}})(),B.\u0275dir=u.lG2({type:B,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,de){2&L&&u.uIk("min",de._enabled?de.min:null)},inputs:{min:"min"},features:[u._Bn([Yi]),u.qOj]}),A})(),As=(()=>{var B;class A{}return(B=A).\u0275fac=function(L){return new(L||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({}),A})(),vl=(()=>{var B;class A{static withConfig(L){var de;return{ngModule:A,providers:[{provide:qr,useValue:null!==(de=L.callSetDisabledState)&&void 0!==de?de:Si}]}}}return(B=A).\u0275fac=function(L){return new(L||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({imports:[As]}),A})()},6593:(Yt,et,N)=>{"use strict";N.d(et,{Dx:()=>rn,b2:()=>ct,q6:()=>Zt});var u=N(9212),k=N(6814);class Y extends k.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends Y{static makeCurrent(){(0,k.HT)(new ne)}onAndCancel(Ze,Xe,Fe){return Ze.addEventListener(Xe,Fe),()=>{Ze.removeEventListener(Xe,Fe)}}dispatchEvent(Ze,Xe){Ze.dispatchEvent(Xe)}remove(Ze){Ze.parentNode&&Ze.parentNode.removeChild(Ze)}createElement(Ze,Xe){return(Xe=Xe||this.getDefaultDocument()).createElement(Ze)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ze){return Ze.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ze){return Ze instanceof DocumentFragment}getGlobalEventTarget(Ze,Xe){return"window"===Xe?window:"document"===Xe?Ze:"body"===Xe?Ze.body:null}getBaseHref(Ze){const Xe=function fe(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==Xe?null:function ue(_t){return new URL(_t,document.baseURI).pathname}(Xe)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ze){return(0,k.Mx)(document.cookie,Ze)}}let Te=null,je=(()=>{var _t;class Ze{build(){return new XMLHttpRequest}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),Ze})();const _e=new u.OlP("");let se=(()=>{var _t;class Ze{constructor(Fe,te){this._zone=te,this._eventNameToPlugin=new Map,Fe.forEach(oe=>{oe.manager=this}),this._plugins=Fe.slice().reverse()}addEventListener(Fe,te,oe){return this._findPluginFor(te).addEventListener(Fe,te,oe)}getZone(){return this._zone}_findPluginFor(Fe){let te=this._eventNameToPlugin.get(Fe);if(te)return te;if(te=this._plugins.find(we=>we.supports(Fe)),!te)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(Fe,te),te}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)(u.LFG(_e),u.LFG(u.R0b))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),Ze})();class Me{constructor(Ze){this._doc=Ze}}const Oe="ng-app-id";let ke=(()=>{var _t;class Ze{constructor(Fe,te,oe,we={}){this.doc=Fe,this.appId=te,this.nonce=oe,this.platformId=we,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,k.PM)(we),this.resetHostNodes()}addStyles(Fe){for(const te of Fe)1===this.changeUsageCount(te,1)&&this.onStyleAdded(te)}removeStyles(Fe){for(const te of Fe)this.changeUsageCount(te,-1)<=0&&this.onStyleRemoved(te)}ngOnDestroy(){const Fe=this.styleNodesInDOM;Fe&&(Fe.forEach(te=>te.remove()),Fe.clear());for(const te of this.getAllStyles())this.onStyleRemoved(te);this.resetHostNodes()}addHost(Fe){this.hostNodes.add(Fe);for(const te of this.getAllStyles())this.addStyleToHost(Fe,te)}removeHost(Fe){this.hostNodes.delete(Fe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Fe){for(const te of this.hostNodes)this.addStyleToHost(te,Fe)}onStyleRemoved(Fe){var te;const oe=this.styleRef;null===(te=oe.get(Fe))||void 0===te||null===(te=te.elements)||void 0===te||te.forEach(we=>we.remove()),oe.delete(Fe)}collectServerRenderedStyles(){var Fe;const te=null===(Fe=this.doc.head)||void 0===Fe?void 0:Fe.querySelectorAll(`style[${Oe}="${this.appId}"]`);if(null!=te&&te.length){const oe=new Map;return te.forEach(we=>{null!=we.textContent&&oe.set(we.textContent,we)}),oe}return null}changeUsageCount(Fe,te){const oe=this.styleRef;if(oe.has(Fe)){const we=oe.get(Fe);return we.usage+=te,we.usage}return oe.set(Fe,{usage:te,elements:[]}),te}getStyleElement(Fe,te){const oe=this.styleNodesInDOM,we=null==oe?void 0:oe.get(te);if((null==we?void 0:we.parentNode)===Fe)return oe.delete(te),we.removeAttribute(Oe),we;{const ot=this.doc.createElement("style");return this.nonce&&ot.setAttribute("nonce",this.nonce),ot.textContent=te,this.platformIsServer&&ot.setAttribute(Oe,this.appId),Fe.appendChild(ot),ot}}addStyleToHost(Fe,te){var oe;const we=this.getStyleElement(Fe,te),ot=this.styleRef,qe=null===(oe=ot.get(te))||void 0===oe?void 0:oe.elements;qe?qe.push(we):ot.set(te,{elements:[we],usage:1})}resetHostNodes(){const Fe=this.hostNodes;Fe.clear(),Fe.add(this.doc.head)}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)(u.LFG(k.K0),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),Ze})();const Ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g,ze=new u.OlP("",{providedIn:"root",factory:()=>!0});function Je(_t,Ze){return Ze.map(Xe=>Xe.replace(it,_t))}let z=(()=>{var _t;class Ze{constructor(Fe,te,oe,we,ot,qe,Bt,tn=null){this.eventManager=Fe,this.sharedStylesHost=te,this.appId=oe,this.removeStylesOnCompDestroy=we,this.doc=ot,this.platformId=qe,this.ngZone=Bt,this.nonce=tn,this.rendererByCompId=new Map,this.platformIsServer=(0,k.PM)(qe),this.defaultRenderer=new pe(Fe,ot,Bt,this.platformIsServer)}createRenderer(Fe,te){if(!Fe||!te)return this.defaultRenderer;this.platformIsServer&&te.encapsulation===u.ifc.ShadowDom&&(te={...te,encapsulation:u.ifc.Emulated});const oe=this.getOrCreateRenderer(Fe,te);return oe instanceof Et?oe.applyToHost(Fe):oe instanceof tt&&oe.applyStyles(),oe}getOrCreateRenderer(Fe,te){const oe=this.rendererByCompId;let we=oe.get(te.id);if(!we){const ot=this.doc,qe=this.ngZone,Bt=this.eventManager,tn=this.sharedStylesHost,Rn=this.removeStylesOnCompDestroy,Rr=this.platformIsServer;switch(te.encapsulation){case u.ifc.Emulated:we=new Et(Bt,tn,te,this.appId,Rn,ot,qe,Rr);break;case u.ifc.ShadowDom:return new nt(Bt,tn,Fe,te,ot,qe,this.nonce,Rr);default:we=new tt(Bt,tn,te,Rn,ot,qe,Rr)}oe.set(te.id,we)}return we}ngOnDestroy(){this.rendererByCompId.clear()}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)(u.LFG(se),u.LFG(ke),u.LFG(u.AFp),u.LFG(ze),u.LFG(k.K0),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),Ze})();class pe{constructor(Ze,Xe,Fe,te){this.eventManager=Ze,this.doc=Xe,this.ngZone=Fe,this.platformIsServer=te,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ze,Xe){return Xe?this.doc.createElementNS(Ne[Xe]||Xe,Ze):this.doc.createElement(Ze)}createComment(Ze){return this.doc.createComment(Ze)}createText(Ze){return this.doc.createTextNode(Ze)}appendChild(Ze,Xe){(Qe(Ze)?Ze.content:Ze).appendChild(Xe)}insertBefore(Ze,Xe,Fe){Ze&&(Qe(Ze)?Ze.content:Ze).insertBefore(Xe,Fe)}removeChild(Ze,Xe){Ze&&Ze.removeChild(Xe)}selectRootElement(Ze,Xe){let Fe="string"==typeof Ze?this.doc.querySelector(Ze):Ze;if(!Fe)throw new u.vHH(-5104,!1);return Xe||(Fe.textContent=""),Fe}parentNode(Ze){return Ze.parentNode}nextSibling(Ze){return Ze.nextSibling}setAttribute(Ze,Xe,Fe,te){if(te){Xe=te+":"+Xe;const oe=Ne[te];oe?Ze.setAttributeNS(oe,Xe,Fe):Ze.setAttribute(Xe,Fe)}else Ze.setAttribute(Xe,Fe)}removeAttribute(Ze,Xe,Fe){if(Fe){const te=Ne[Fe];te?Ze.removeAttributeNS(te,Xe):Ze.removeAttribute(`${Fe}:${Xe}`)}else Ze.removeAttribute(Xe)}addClass(Ze,Xe){Ze.classList.add(Xe)}removeClass(Ze,Xe){Ze.classList.remove(Xe)}setStyle(Ze,Xe,Fe,te){te&(u.JOm.DashCase|u.JOm.Important)?Ze.style.setProperty(Xe,Fe,te&u.JOm.Important?"important":""):Ze.style[Xe]=Fe}removeStyle(Ze,Xe,Fe){Fe&u.JOm.DashCase?Ze.style.removeProperty(Xe):Ze.style[Xe]=""}setProperty(Ze,Xe,Fe){null!=Ze&&(Ze[Xe]=Fe)}setValue(Ze,Xe){Ze.nodeValue=Xe}listen(Ze,Xe,Fe){if("string"==typeof Ze&&!(Ze=(0,k.q)().getGlobalEventTarget(this.doc,Ze)))throw new Error(`Unsupported event target ${Ze} for event ${Xe}`);return this.eventManager.addEventListener(Ze,Xe,this.decoratePreventDefault(Fe))}decoratePreventDefault(Ze){return Xe=>{if("__ngUnwrap__"===Xe)return Ze;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ze(Xe)):Ze(Xe))&&Xe.preventDefault()}}}function Qe(_t){return"TEMPLATE"===_t.tagName&&void 0!==_t.content}class nt extends pe{constructor(Ze,Xe,Fe,te,oe,we,ot,qe){super(Ze,oe,we,qe),this.sharedStylesHost=Xe,this.hostEl=Fe,this.shadowRoot=Fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Bt=Je(te.id,te.styles);for(const tn of Bt){const Rn=document.createElement("style");ot&&Rn.setAttribute("nonce",ot),Rn.textContent=tn,this.shadowRoot.appendChild(Rn)}}nodeOrShadowRoot(Ze){return Ze===this.hostEl?this.shadowRoot:Ze}appendChild(Ze,Xe){return super.appendChild(this.nodeOrShadowRoot(Ze),Xe)}insertBefore(Ze,Xe,Fe){return super.insertBefore(this.nodeOrShadowRoot(Ze),Xe,Fe)}removeChild(Ze,Xe){return super.removeChild(this.nodeOrShadowRoot(Ze),Xe)}parentNode(Ze){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ze)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tt extends pe{constructor(Ze,Xe,Fe,te,oe,we,ot,qe){super(Ze,oe,we,ot),this.sharedStylesHost=Xe,this.removeStylesOnCompDestroy=te,this.styles=qe?Je(qe,Fe.styles):Fe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Et extends tt{constructor(Ze,Xe,Fe,te,oe,we,ot,qe){const Bt=te+"-"+Fe.id;super(Ze,Xe,Fe,oe,we,ot,qe,Bt),this.contentAttr=function Re(_t){return"_ngcontent-%COMP%".replace(it,_t)}(Bt),this.hostAttr=function Ae(_t){return"_nghost-%COMP%".replace(it,_t)}(Bt)}applyToHost(Ze){this.applyStyles(),this.setAttribute(Ze,this.hostAttr,"")}createElement(Ze,Xe){const Fe=super.createElement(Ze,Xe);return super.setAttribute(Fe,this.contentAttr,""),Fe}}let sn=(()=>{var _t;class Ze extends Me{constructor(Fe){super(Fe)}supports(Fe){return!0}addEventListener(Fe,te,oe){return Fe.addEventListener(te,oe,!1),()=>this.removeEventListener(Fe,te,oe)}removeEventListener(Fe,te,oe){return Fe.removeEventListener(te,oe)}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)(u.LFG(k.K0))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),Ze})();const Cn=["alt","control","meta","shift"],be={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:_t=>_t.altKey,control:_t=>_t.ctrlKey,meta:_t=>_t.metaKey,shift:_t=>_t.shiftKey};let J=(()=>{var _t;class Ze extends Me{constructor(Fe){super(Fe)}supports(Fe){return null!=Ze.parseEventName(Fe)}addEventListener(Fe,te,oe){const we=Ze.parseEventName(te),ot=Ze.eventCallback(we.fullKey,oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.q)().onAndCancel(Fe,we.domEventName,ot))}static parseEventName(Fe){const te=Fe.toLowerCase().split("."),oe=te.shift();if(0===te.length||"keydown"!==oe&&"keyup"!==oe)return null;const we=Ze._normalizeKey(te.pop());let ot="",qe=te.indexOf("code");if(qe>-1&&(te.splice(qe,1),ot="code."),Cn.forEach(tn=>{const Rn=te.indexOf(tn);Rn>-1&&(te.splice(Rn,1),ot+=tn+".")}),ot+=we,0!=te.length||0===we.length)return null;const Bt={};return Bt.domEventName=oe,Bt.fullKey=ot,Bt}static matchEventFullKeyCode(Fe,te){let oe=be[Fe.key]||Fe.key,we="";return te.indexOf("code.")>-1&&(oe=Fe.code,we="code."),!(null==oe||!oe)&&(oe=oe.toLowerCase()," "===oe?oe="space":"."===oe&&(oe="dot"),Cn.forEach(ot=>{ot!==oe&&(0,De[ot])(Fe)&&(we+=ot+".")}),we+=oe,we===te)}static eventCallback(Fe,te,oe){return we=>{Ze.matchEventFullKeyCode(we,Fe)&&oe.runGuarded(()=>te(we))}}static _normalizeKey(Fe){return"esc"===Fe?"escape":Fe}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)(u.LFG(k.K0))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),Ze})();const Zt=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:k.bD},{provide:u.g9A,useValue:function wt(){ne.makeCurrent()},multi:!0},{provide:k.K0,useFactory:function Mt(){return(0,u.RDi)(document),document},deps:[]}]),an=new u.OlP(""),mt=[{provide:u.rWj,useClass:class Ue{addToWindow(Ze){u.dqk.getAngularTestability=(Fe,te=!0)=>{const oe=Ze.findTestabilityInTree(Fe,te);if(null==oe)throw new u.vHH(5103,!1);return oe},u.dqk.getAllAngularTestabilities=()=>Ze.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>Ze.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(Fe=>{const te=u.dqk.getAllAngularTestabilities();let oe=te.length;const we=function(){oe--,0==oe&&Fe()};te.forEach(ot=>{ot.whenStable(we)})})}findTestabilityInTree(Ze,Xe,Fe){if(null==Xe)return null;const te=Ze.getTestability(Xe);return null!=te?te:Fe?(0,k.q)().isShadowRoot(Xe)?this.findTestabilityInTree(Ze,Xe.host,!0):this.findTestabilityInTree(Ze,Xe.parentElement,!0):null}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ht=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function St(){return new u.qLn},deps:[]},{provide:_e,useClass:sn,multi:!0,deps:[k.K0,u.R0b,u.Lbi]},{provide:_e,useClass:J,multi:!0,deps:[k.K0]},z,ke,se,{provide:u.FYo,useExisting:z},{provide:k.JF,useClass:je,deps:[]},[]];let ct=(()=>{var _t;class Ze{constructor(Fe){}static withServerTransition(Fe){return{ngModule:Ze,providers:[{provide:u.AFp,useValue:Fe.appId}]}}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)(u.LFG(an,12))},_t.\u0275mod=u.oAB({type:_t}),_t.\u0275inj=u.cJS({providers:[...ht,...mt],imports:[k.ez,u.hGG]}),Ze})(),rn=(()=>{var _t;class Ze{constructor(Fe){this._doc=Fe}getTitle(){return this._doc.title}setTitle(Fe){this._doc.title=Fe||""}}return(_t=Ze).\u0275fac=function(Fe){return new(Fe||_t)(u.LFG(k.K0))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),Ze})()},4934:(Yt,et,N)=>{"use strict";N.d(et,{gz:()=>uo,y6:()=>T,OD:()=>rt,eC:()=>at,wm:()=>Xa,wN:()=>Ys,F0:()=>ps,rH:()=>wr,Bz:()=>Gc,Hx:()=>en});var u=N(9212),k=N(5592),Y=N(4674),Te=N(2459),fe=N(2096),ue=N(5619),Ue=N(2572),je=N(6973),_e=N(5211),se=N(4829);function Me(y){return new k.y(C=>{(0,se.Xf)(y()).subscribe(C)})}var Oe=N(8407);function ke(y,C){const S=(0,Y.m)(y)?y:()=>y,D=P=>P.error(S());return new k.y(C?P=>C.schedule(D,0,P):D)}var Ne=N(6232),it=N(7394),xe=N(9360),Pe=N(8251);function Ve(){return(0,xe.e)((y,C)=>{let S=null;y._refCount++;const D=(0,Pe.x)(C,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(S=null);const P=y._connection,q=S;S=null,P&&(!q||P===q)&&P.unsubscribe(),C.unsubscribe()});y.subscribe(D),D.closed||(S=y.connect())})}class pt extends k.y{constructor(C,S){super(),this.source=C,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,xe.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,null==C||C.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new it.w0;const S=this.getSubject();C.add(this.source.subscribe((0,Pe.x)(S,void 0,()=>{this._teardown(),S.complete()},D=>{this._teardown(),S.error(D)},()=>this._teardown()))),C.closed&&(this._connection=null,C=it.w0.EMPTY)}return C}refCount(){return Ve()(this)}}var ze=N(8645),Re=N(6814),Ae=N(7398),Je=N(4664),z=N(8180),pe=N(7921),ae=N(2181),W=N(1631),Qe=N(1374);function nt(y,C){return(0,Y.m)(C)?(0,W.z)(y,C,1):(0,W.z)(y,1)}var tt=N(9397);function Et(y){return(0,xe.e)((C,S)=>{let q,D=null,P=!1;D=C.subscribe((0,Pe.x)(S,void 0,void 0,he=>{q=(0,se.Xf)(y(he,Et(y)(C))),D?(D.unsubscribe(),D=null,q.subscribe(S)):P=!0})),P&&(D.unsubscribe(),D=null,q.subscribe(S))})}var sn=N(6699),Cn=N(3572);function be(y){return y<=0?()=>Ne.E:(0,xe.e)((C,S)=>{let D=[];C.subscribe((0,Pe.x)(S,P=>{D.push(P),y<D.length&&D.shift()},()=>{for(const P of D)S.next(P);S.complete()},void 0,()=>{D=null}))})}var De=N(3026),J=N(2737);function Ce(y){return(0,xe.e)((C,S)=>{try{C.subscribe(S)}finally{S.add(y)}})}var Ke=N(2420),St=N(7537),Mt=N(6593);const at="primary",Zt=Symbol("RouteTitle");class an{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const S=this.params[C];return Array.isArray(S)?S[0]:S}return null}getAll(C){if(this.has(C)){const S=this.params[C];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function mt(y){return new an(y)}function ht(y,C,S){const D=S.path.split("/");if(D.length>y.length||"full"===S.pathMatch&&(C.hasChildren()||D.length<y.length))return null;const P={};for(let q=0;q<D.length;q++){const he=D[q],st=y[q];if(he.startsWith(":"))P[he.substring(1)]=st;else if(he!==st.path)return null}return{consumed:y.slice(0,D.length),posParams:P}}function bt(y,C){const S=y?un(y):void 0,D=C?un(C):void 0;if(!S||!D||S.length!=D.length)return!1;let P;for(let q=0;q<S.length;q++)if(P=S[q],!rn(y[P],C[P]))return!1;return!0}function un(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function rn(y,C){if(Array.isArray(y)&&Array.isArray(C)){if(y.length!==C.length)return!1;const S=[...y].sort(),D=[...C].sort();return S.every((P,q)=>D[q]===P)}return y===C}function Pt(y){return y.length>0?y[y.length-1]:null}function Xt(y){return function ne(y){return!!y&&(y instanceof k.y||(0,Y.m)(y.lift)&&(0,Y.m)(y.subscribe))}(y)?y:(0,u.QGY)(y)?(0,Te.D)(Promise.resolve(y)):(0,fe.of)(y)}const Pn={exact:function Nn(y,C,S){if(!xr(y.segments,C.segments)||!Tn(y.segments,C.segments,S)||y.numberOfChildren!==C.numberOfChildren)return!1;for(const D in C.children)if(!y.children[D]||!Nn(y.children[D],C.children[D],S))return!1;return!0},subset:Wn},yn={exact:function Fn(y,C){return bt(y,C)},subset:function En(y,C){return Object.keys(C).length<=Object.keys(y).length&&Object.keys(C).every(S=>rn(y[S],C[S]))},ignored:()=>!0};function fr(y,C,S){return Pn[S.paths](y.root,C.root,S.matrixParams)&&yn[S.queryParams](y.queryParams,C.queryParams)&&!("exact"===S.fragment&&y.fragment!==C.fragment)}function Wn(y,C,S){return lr(y,C,C.segments,S)}function lr(y,C,S,D){if(y.segments.length>S.length){const P=y.segments.slice(0,S.length);return!(!xr(P,S)||C.hasChildren()||!Tn(P,S,D))}if(y.segments.length===S.length){if(!xr(y.segments,S)||!Tn(y.segments,S,D))return!1;for(const P in C.children)if(!y.children[P]||!Wn(y.children[P],C.children[P],D))return!1;return!0}{const P=S.slice(0,y.segments.length),q=S.slice(y.segments.length);return!!(xr(y.segments,P)&&Tn(y.segments,P,D)&&y.children[at])&&lr(y.children[at],C,q,D)}}function Tn(y,C,S){return C.every((D,P)=>yn[S](y[P].parameters,D.parameters))}class Br{constructor(C=new dn([],{}),S={},D=null){this.root=C,this.queryParams=S,this.fragment=D}get queryParamMap(){var C;return null!==(C=this._queryParamMap)&&void 0!==C||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return $i.serialize(this)}}class dn{constructor(C,S){this.segments=C,this.children=S,this.parent=null,Object.values(S).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class Kr{constructor(C,S){this.path=C,this.parameters=S}get parameterMap(){var C;return null!==(C=this._parameterMap)&&void 0!==C||(this._parameterMap=mt(this.parameters)),this._parameterMap}toString(){return Fe(this)}}function xr(y,C){return y.length===C.length&&y.every((S,D)=>S.path===C[D].path)}let en=(()=>{var y;class C{}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:()=>new Zr,providedIn:"root"}),C})();class Zr{parse(C){const S=new pr(C);return new Br(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(C){const S=`/${Qr(C.root,!0)}`,D=function oe(y){const C=Object.entries(y).map(([S,D])=>Array.isArray(D)?D.map(P=>`${Gr(S)}=${Gr(P)}`).join("&"):`${Gr(S)}=${Gr(D)}`).filter(S=>S);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${S}${D}${"string"==typeof C.fragment?`#${function $r(y){return encodeURI(y)}(C.fragment)}`:""}`}}const $i=new Zr;function Lr(y){return y.segments.map(C=>Fe(C)).join("/")}function Qr(y,C){if(!y.hasChildren())return Lr(y);if(C){const S=y.children[at]?Qr(y.children[at],!1):"",D=[];return Object.entries(y.children).forEach(([P,q])=>{P!==at&&D.push(`${P}:${Qr(q,!1)}`)}),D.length>0?`${S}(${D.join("//")})`:S}{const S=function xn(y,C){let S=[];return Object.entries(y.children).forEach(([D,P])=>{D===at&&(S=S.concat(C(P,D)))}),Object.entries(y.children).forEach(([D,P])=>{D!==at&&(S=S.concat(C(P,D)))}),S}(y,(D,P)=>P===at?[Qr(y.children[at],!1)]:[`${P}:${Qr(D,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[at]?`${Lr(y)}/${S[0]}`:`${Lr(y)}/(${S.join("//")})`}}function Or(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gr(y){return Or(y).replace(/%3B/gi,";")}function _t(y){return Or(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ze(y){return decodeURIComponent(y)}function Xe(y){return Ze(y.replace(/\+/g,"%20"))}function Fe(y){return`${_t(y.path)}${function te(y){return Object.entries(y).map(([C,S])=>`;${_t(C)}=${_t(S)}`).join("")}(y.parameters)}`}const we=/^[^\/()?;#]+/;function ot(y){const C=y.match(we);return C?C[0]:""}const qe=/^[^\/()?;=#]+/,tn=/^[^=?&#]+/,Rr=/^[^&#]+/;class pr{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(C.length>0||Object.keys(S).length>0)&&(D[at]=new dn(C,S)),D}parseSegment(){const C=ot(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(C),new Kr(Ze(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const S=function Bt(y){const C=y.match(qe);return C?C[0]:""}(this.remaining);if(!S)return;this.capture(S);let D="";if(this.consumeOptional("=")){const P=ot(this.remaining);P&&(D=P,this.capture(D))}C[Ze(S)]=Ze(D)}parseQueryParam(C){const S=function Rn(y){const C=y.match(tn);return C?C[0]:""}(this.remaining);if(!S)return;this.capture(S);let D="";if(this.consumeOptional("=")){const he=function Mr(y){const C=y.match(Rr);return C?C[0]:""}(this.remaining);he&&(D=he,this.capture(D))}const P=Xe(S),q=Xe(D);if(C.hasOwnProperty(P)){let he=C[P];Array.isArray(he)||(he=[he],C[P]=he),he.push(q)}else C[P]=q}parseParens(C){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=ot(this.remaining),P=this.remaining[D.length];if("/"!==P&&")"!==P&&";"!==P)throw new u.vHH(4010,!1);let q;D.indexOf(":")>-1?(q=D.slice(0,D.indexOf(":")),this.capture(q),this.capture(":")):C&&(q=at);const he=this.parseChildren();S[q]=1===Object.keys(he).length?he[at]:new dn([],he),this.consumeOptional("//")}return S}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new u.vHH(4011,!1)}}function zn(y){return y.segments.length>0?new dn([],{[at]:y}):y}function Wr(y){const C={};for(const[D,P]of Object.entries(y.children)){const q=Wr(P);if(D===at&&0===q.segments.length&&q.hasChildren())for(const[he,st]of Object.entries(q.children))C[he]=st;else(q.segments.length>0||q.hasChildren())&&(C[D]=q)}return function Ai(y){if(1===y.numberOfChildren&&y.children[at]){const C=y.children[at];return new dn(y.segments.concat(C.segments),C.children)}return y}(new dn(y.segments,C))}function qr(y){return y instanceof Br}function Ct(y){var C;let S;const q=zn(function D(he){const st={};for(const ce of he.children){const cn=D(ce);st[ce.outlet]=cn}const Ht=new dn(he.url,st);return he===y&&(S=Ht),Ht}(y.root));return null!==(C=S)&&void 0!==C?C:q}function ut(y,C,S,D){let P=y;for(;P.parent;)P=P.parent;if(0===C.length)return Ut(P,P,P,S,D);const q=function Ur(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new qn(!0,0,y);let C=0,S=!1;const D=y.reduce((P,q,he)=>{if("object"==typeof q&&null!=q){if(q.outlets){const st={};return Object.entries(q.outlets).forEach(([Ht,ce])=>{st[Ht]="string"==typeof ce?ce.split("/"):ce}),[...P,{outlets:st}]}if(q.segmentPath)return[...P,q.segmentPath]}return"string"!=typeof q?[...P,q]:0===he?(q.split("/").forEach((st,Ht)=>{0==Ht&&"."===st||(0==Ht&&""===st?S=!0:".."===st?C++:""!=st&&P.push(st))}),P):[...P,q]},[]);return new qn(S,C,D)}(C);if(q.toRoot())return Ut(P,P,new dn([],{}),S,D);const he=function Vn(y,C,S){if(y.isAbsolute)return new _r(C,!0,0);if(!S)return new _r(C,!1,NaN);if(null===S.parent)return new _r(S,!0,0);const D=At(y.commands[0])?0:1;return function Ri(y,C,S){let D=y,P=C,q=S;for(;q>P;){if(q-=P,D=D.parent,!D)throw new u.vHH(4005,!1);P=D.segments.length}return new _r(D,!1,P-q)}(S,S.segments.length-1+D,y.numberOfDoubleDots)}(q,P,y),st=he.processChildren?yi(he.segmentGroup,he.index,q.commands):Cr(he.segmentGroup,he.index,q.commands);return Ut(P,he.segmentGroup,st,S,D)}function At(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function $t(y){return"object"==typeof y&&null!=y&&y.outlets}function Ut(y,C,S,D,P){let he,q={};D&&Object.entries(D).forEach(([Ht,ce])=>{q[Ht]=Array.isArray(ce)?ce.map(cn=>`${cn}`):`${ce}`}),he=y===C?S:An(y,C,S);const st=zn(Wr(he));return new Br(st,q,P)}function An(y,C,S){const D={};return Object.entries(y.children).forEach(([P,q])=>{D[P]=q===C?S:An(q,C,S)}),new dn(y.segments,D)}class qn{constructor(C,S,D){if(this.isAbsolute=C,this.numberOfDoubleDots=S,this.commands=D,C&&D.length>0&&At(D[0]))throw new u.vHH(4003,!1);const P=D.find($t);if(P&&P!==Pt(D))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _r{constructor(C,S,D){this.segmentGroup=C,this.processChildren=S,this.index=D}}function Cr(y,C,S){var D;if(null!==(D=y)&&void 0!==D||(y=new dn([],{})),0===y.segments.length&&y.hasChildren())return yi(y,C,S);const P=function hi(y,C,S){let D=0,P=C;const q={match:!1,pathIndex:0,commandIndex:0};for(;P<y.segments.length;){if(D>=S.length)return q;const he=y.segments[P],st=S[D];if($t(st))break;const Ht=`${st}`,ce=D<S.length-1?S[D+1]:null;if(P>0&&void 0===Ht)break;if(Ht&&ce&&"object"==typeof ce&&void 0===ce.outlets){if(!me(Ht,ce,he))return q;D+=2}else{if(!me(Ht,{},he))return q;D++}P++}return{match:!0,pathIndex:P,commandIndex:D}}(y,C,S),q=S.slice(P.commandIndex);if(P.match&&P.pathIndex<y.segments.length){const he=new dn(y.segments.slice(0,P.pathIndex),{});return he.children[at]=new dn(y.segments.slice(P.pathIndex),y.children),yi(he,0,q)}return P.match&&0===q.length?new dn(y.segments,{}):P.match&&!y.hasChildren()?yr(y,C,S):P.match?yi(y,0,q):yr(y,C,S)}function yi(y,C,S){if(0===S.length)return new dn(y.segments,{});{const D=function Ui(y){return $t(y[0])?y[0].outlets:{[at]:y}}(S),P={};if(Object.keys(D).some(q=>q!==at)&&y.children[at]&&1===y.numberOfChildren&&0===y.children[at].segments.length){const q=yi(y.children[at],C,S);return new dn(y.segments,q.children)}return Object.entries(D).forEach(([q,he])=>{"string"==typeof he&&(he=[he]),null!==he&&(P[q]=Cr(y.children[q],C,he))}),Object.entries(y.children).forEach(([q,he])=>{void 0===D[q]&&(P[q]=he)}),new dn(y.segments,P)}}function yr(y,C,S){const D=y.segments.slice(0,C);let P=0;for(;P<S.length;){const q=S[P];if($t(q)){const Ht=er(q.outlets);return new dn(D,Ht)}if(0===P&&At(S[0])){D.push(new Kr(y.segments[C].path,dr(S[0]))),P++;continue}const he=$t(q)?q.outlets[at]:`${q}`,st=P<S.length-1?S[P+1]:null;he&&st&&At(st)?(D.push(new Kr(he,dr(st))),P+=2):(D.push(new Kr(he,{})),P++)}return new dn(D,{})}function er(y){const C={};return Object.entries(y).forEach(([S,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(C[S]=yr(new dn([],{}),0,D))}),C}function dr(y){const C={};return Object.entries(y).forEach(([S,D])=>C[S]=`${D}`),C}function me(y,C,S){return y==S.path&&bt(C,S.parameters)}const ve="imperative";var H=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(H||{});class ie{constructor(C,S){this.id=C,this.url=S}}class rt extends ie{constructor(C,S,D="imperative",P=null){super(C,S),this.type=H.NavigationStart,this.navigationTrigger=D,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rt extends ie{constructor(C,S,D){super(C,S),this.urlAfterRedirects=D,this.type=H.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var zt=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(zt||{}),nn=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(nn||{});class Mn extends ie{constructor(C,S,D,P){super(C,S),this.reason=D,this.code=P,this.type=H.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class on extends ie{constructor(C,S,D,P){super(C,S),this.reason=D,this.code=P,this.type=H.NavigationSkipped}}class ei extends ie{constructor(C,S,D,P){super(C,S),this.error=D,this.target=P,this.type=H.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gt extends ie{constructor(C,S,D,P){super(C,S),this.urlAfterRedirects=D,this.state=P,this.type=H.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ extends ie{constructor(C,S,D,P){super(C,S),this.urlAfterRedirects=D,this.state=P,this.type=H.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends ie{constructor(C,S,D,P,q){super(C,S),this.urlAfterRedirects=D,this.state=P,this.shouldActivate=q,this.type=H.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Le extends ie{constructor(C,S,D,P){super(C,S),this.urlAfterRedirects=D,this.state=P,this.type=H.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends ie{constructor(C,S,D,P){super(C,S),this.urlAfterRedirects=D,this.state=P,this.type=H.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt{constructor(C){this.route=C,this.type=H.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vt{constructor(C){this.route=C,this.type=H.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xt{constructor(C){this.snapshot=C,this.type=H.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(C){this.snapshot=C,this.type=H.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jt{constructor(C){this.snapshot=C,this.type=H.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ot{constructor(C){this.snapshot=C,this.type=H.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jt{constructor(C,S,D){this.routerEvent=C,this.position=S,this.anchor=D,this.type=H.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pn{}class hn{constructor(C){this.url=C}}class gr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new T,this.attachRef=null}}let T=(()=>{var y;class C{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const q=this.getOrCreateContext(D);q.outlet=P,this.contexts.set(D,q)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new gr,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})();class ee{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const S=this.pathFromRoot(C);return S.length>1?S[S.length-2]:null}children(C){const S=M(C,this._root);return S?S.children.map(D=>D.value):[]}firstChild(C){const S=M(C,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(C){const S=le(C,this._root);return S.length<2?[]:S[S.length-2].children.map(P=>P.value).filter(P=>P!==C)}pathFromRoot(C){return le(C,this._root).map(S=>S.value)}}function M(y,C){if(y===C.value)return C;for(const S of C.children){const D=M(y,S);if(D)return D}return null}function le(y,C){if(y===C.value)return[C];for(const S of C.children){const D=le(y,S);if(D.length)return D.unshift(C),D}return[]}class We{constructor(C,S){this.value=C,this.children=S}toString(){return`TreeNode(${this.value})`}}function Ln(y){const C={};return y&&y.children.forEach(S=>C[S.value.outlet]=S),C}class jr extends ee{constructor(C,S){super(C),this.snapshot=S,ko(this,C)}toString(){return this.snapshot.toString()}}function ti(y){const C=function Hr(y){const q=new No([],{},{},"",{},at,y,null,{});return new Qo("",new We(q,[]))}(y),S=new ue.X([new Kr("",{})]),D=new ue.X({}),P=new ue.X({}),q=new ue.X({}),he=new ue.X(""),st=new uo(S,D,q,he,P,at,y,C.root);return st.snapshot=C.root,new jr(new We(st,[]),C)}class uo{constructor(C,S,D,P,q,he,st,Ht){var ce,cn;this.urlSubject=C,this.paramsSubject=S,this.queryParamsSubject=D,this.fragmentSubject=P,this.dataSubject=q,this.outlet=he,this.component=st,this._futureSnapshot=Ht,this.title=null!==(ce=null===(cn=this.dataSubject)||void 0===cn?void 0:cn.pipe((0,Ae.U)(On=>On[Zt])))&&void 0!==ce?ce:(0,fe.of)(void 0),this.url=C,this.params=S,this.queryParams=D,this.fragment=P,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var C;return null!==(C=this._paramMap)&&void 0!==C||(this._paramMap=this.params.pipe((0,Ae.U)(S=>mt(S)))),this._paramMap}get queryParamMap(){var C;return null!==(C=this._queryParamMap)&&void 0!==C||(this._queryParamMap=this.queryParams.pipe((0,Ae.U)(S=>mt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nr(y,C,S="emptyOnly"){var D;let P;const{routeConfig:q}=y;var he;return P=null===C||"always"!==S&&""!==(null==q?void 0:q.path)&&(C.component||null!==(D=C.routeConfig)&&void 0!==D&&D.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...null!==(he=y._resolvedData)&&void 0!==he?he:{}}}:{params:{...C.params,...y.params},data:{...C.data,...y.data},resolve:{...y.data,...C.data,...null==q?void 0:q.data,...y._resolvedData}},q&&ji(q)&&(P.resolve[Zt]=q.title),P}class No{get title(){var C;return null===(C=this.data)||void 0===C?void 0:C[Zt]}constructor(C,S,D,P,q,he,st,Ht,ce){this.url=C,this.params=S,this.queryParams=D,this.fragment=P,this.data=q,this.outlet=he,this.component=st,this.routeConfig=Ht,this._resolve=ce}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var C;return null!==(C=this._paramMap)&&void 0!==C||(this._paramMap=mt(this.params)),this._paramMap}get queryParamMap(){var C;return null!==(C=this._queryParamMap)&&void 0!==C||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qo extends ee{constructor(C,S){super(S),this.url=C,ko(this,S)}toString(){return us(this._root)}}function ko(y,C){C.value._routerState=y,C.children.forEach(S=>ko(y,S))}function us(y){const C=y.children.length>0?` { ${y.children.map(us).join(", ")} } `:"";return`${y.value}${C}`}function Ho(y){if(y.snapshot){const C=y.snapshot,S=y._futureSnapshot;y.snapshot=S,bt(C.queryParams,S.queryParams)||y.queryParamsSubject.next(S.queryParams),C.fragment!==S.fragment&&y.fragmentSubject.next(S.fragment),bt(C.params,S.params)||y.paramsSubject.next(S.params),function ct(y,C){if(y.length!==C.length)return!1;for(let S=0;S<y.length;++S)if(!bt(y[S],C[S]))return!1;return!0}(C.url,S.url)||y.urlSubject.next(S.url),bt(C.data,S.data)||y.dataSubject.next(S.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function qa(y,C){const S=bt(y.params,C.params)&&function ir(y,C){return xr(y,C)&&y.every((S,D)=>bt(S.parameters,C[D].parameters))}(y.url,C.url);return S&&!(!y.parent!=!C.parent)&&(!y.parent||qa(y.parent,C.parent))}function ji(y){return"string"==typeof y.title||null===y.title}let Ts=(()=>{var y;class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(T),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(Ni,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:P,previousValue:q}=D.name;if(P)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var P;return(null===(P=this.parentContexts.getContext(D))||void 0===P?void 0:P.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,P){var q;this.activated=D,this._activatedRoute=P,this.location.insert(D.hostView),null===(q=this.inputBinder)||void 0===q||q.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,P){var q;if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=D;const he=this.location,Ht=D.snapshot.component,ce=this.parentContexts.getOrCreateContext(this.name).children,cn=new qi(D,ce,he.injector);this.activated=he.createComponent(Ht,{index:he.length,injector:cn,environmentInjector:null!=P?P:this.environmentInjector}),this.changeDetector.markForCheck(),null===(q=this.inputBinder)||void 0===q||q.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275dir=u.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),C})();class qi{constructor(C,S,D){this.route=C,this.childContexts=S,this.parent=D}get(C,S){return C===uo?this.route:C===T?this.childContexts:this.parent.get(C,S)}}const Ni=new u.OlP("");let Kn=(()=>{var y;class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var P;null===(P=this.outletDataSubscriptions.get(D))||void 0===P||P.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:P}=D,q=(0,Ue.a)([P.queryParams,P.params,P.data]).pipe((0,Je.w)(([he,st,Ht],ce)=>(Ht={...he,...st,...Ht},0===ce?(0,fe.of)(Ht):Promise.resolve(Ht)))).subscribe(he=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(D);const st=(0,u.qFp)(P.component);if(st)for(const{templateName:Ht}of st.inputs)D.activatedComponentRef.setInput(Ht,he[Ht]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,q)}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac}),C})();function to(y,C,S){if(S&&y.shouldReuseRoute(C.value,S.value.snapshot)){const D=S.value;D._futureSnapshot=C.value;const P=function ws(y,C,S){return C.children.map(D=>{for(const P of S.children)if(y.shouldReuseRoute(D.value,P.value.snapshot))return to(y,D,P);return to(y,D)})}(y,C,S);return new We(D,P)}{if(y.shouldAttach(C.value)){const q=y.retrieve(C.value);if(null!==q){const he=q.route;return he.value._futureSnapshot=C.value,he.children=C.children.map(st=>to(y,st)),he}}const D=function Ya(y){return new uo(new ue.X(y.url),new ue.X(y.params),new ue.X(y.queryParams),new ue.X(y.fragment),new ue.X(y.data),y.outlet,y.component,y)}(C.value),P=C.children.map(q=>to(y,q));return new We(D,P)}}const Eo="ngNavigationCancelingError";function cs(y,C){const{redirectTo:S,navigationBehaviorOptions:D}=qr(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,P=Co(!1,zt.Redirect);return P.url=S,P.navigationBehaviorOptions=D,P}function Co(y,C){const S=new Error(`NavigationCancelingError: ${y||""}`);return S[Eo]=!0,S.cancellationCode=C,S}function Xo(y){return!!y&&y[Eo]}let mo=(()=>{var y;class C{}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275cmp=u.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(D,P){1&D&&u._UZ(0,"router-outlet")},dependencies:[Ts],encapsulation:2}),C})();function bs(y){const C=y.children&&y.children.map(bs),S=C?{...y,children:C}:{...y};return!S.component&&!S.loadComponent&&(C||S.loadChildren)&&S.outlet&&S.outlet!==at&&(S.component=mo),S}function Mi(y){return y.outlet||at}function Hi(y){var C;if(!y)return null;if(null!==(C=y.routeConfig)&&void 0!==C&&C._injector)return y.routeConfig._injector;for(let S=y.parent;S;S=S.parent){const D=S.routeConfig;if(null!=D&&D._loadedInjector)return D._loadedInjector;if(null!=D&&D._injector)return D._injector}return null}class ra{constructor(C,S,D,P,q){this.routeReuseStrategy=C,this.futureState=S,this.currState=D,this.forwardEvent=P,this.inputBindingEnabled=q}activate(C){const S=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,D,C),Ho(this.futureState.root),this.activateChildRoutes(S,D,C)}deactivateChildRoutes(C,S,D){const P=Ln(S);C.children.forEach(q=>{const he=q.value.outlet;this.deactivateRoutes(q,P[he],D),delete P[he]}),Object.values(P).forEach(q=>{this.deactivateRouteAndItsChildren(q,D)})}deactivateRoutes(C,S,D){const P=C.value,q=S?S.value:null;if(P===q)if(P.component){const he=D.getContext(P.outlet);he&&this.deactivateChildRoutes(C,S,he.children)}else this.deactivateChildRoutes(C,S,D);else q&&this.deactivateRouteAndItsChildren(S,D)}deactivateRouteAndItsChildren(C,S){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,S):this.deactivateRouteAndOutlet(C,S)}detachAndStoreRouteSubtree(C,S){const D=S.getContext(C.value.outlet),P=D&&C.value.component?D.children:S,q=Ln(C);for(const he of Object.values(q))this.deactivateRouteAndItsChildren(he,P);if(D&&D.outlet){const he=D.outlet.detach(),st=D.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:he,route:C,contexts:st})}}deactivateRouteAndOutlet(C,S){const D=S.getContext(C.value.outlet),P=D&&C.value.component?D.children:S,q=Ln(C);for(const he of Object.values(q))this.deactivateRouteAndItsChildren(he,P);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(C,S,D){const P=Ln(S);C.children.forEach(q=>{this.activateRoutes(q,P[q.value.outlet],D),this.forwardEvent(new Ot(q.value.snapshot))}),C.children.length&&this.forwardEvent(new Gt(C.value.snapshot))}activateRoutes(C,S,D){const P=C.value,q=S?S.value:null;if(Ho(P),P===q)if(P.component){const he=D.getOrCreateContext(P.outlet);this.activateChildRoutes(C,S,he.children)}else this.activateChildRoutes(C,S,D);else if(P.component){const he=D.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const st=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),he.children.onOutletReAttached(st.contexts),he.attachRef=st.componentRef,he.route=st.route.value,he.outlet&&he.outlet.attach(st.componentRef,st.route.value),Ho(st.route.value),this.activateChildRoutes(C,null,he.children)}else{const st=Hi(P.snapshot);he.attachRef=null,he.route=P,he.injector=st,he.outlet&&he.outlet.activateWith(P,he.injector),this.activateChildRoutes(C,null,he.children)}}else this.activateChildRoutes(C,null,D)}}class Jo{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class es{constructor(C,S){this.component=C,this.route=S}}function Kl(y,C,S){const D=y._root;return Xr(D,C?C._root:null,S,[D.value])}function Yn(y,C){const S=Symbol(),D=C.get(y,S);return D===S?"function"!=typeof y||(0,u.Z0I)(y)?C.get(y):y:D}function Xr(y,C,S,D,P={canDeactivateChecks:[],canActivateChecks:[]}){const q=Ln(C);return y.children.forEach(he=>{(function Pi(y,C,S,D,P={canDeactivateChecks:[],canActivateChecks:[]}){const q=y.value,he=C?C.value:null,st=S?S.getContext(y.value.outlet):null;if(he&&q.routeConfig===he.routeConfig){const Ht=function Ii(y,C,S){if("function"==typeof S)return S(y,C);switch(S){case"pathParamsChange":return!xr(y.url,C.url);case"pathParamsOrQueryParamsChange":return!xr(y.url,C.url)||!bt(y.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qa(y,C)||!bt(y.queryParams,C.queryParams);default:return!qa(y,C)}}(he,q,q.routeConfig.runGuardsAndResolvers);Ht?P.canActivateChecks.push(new Jo(D)):(q.data=he.data,q._resolvedData=he._resolvedData),Xr(y,C,q.component?st?st.children:null:S,D,P),Ht&&st&&st.outlet&&st.outlet.isActivated&&P.canDeactivateChecks.push(new es(st.outlet.component,he))}else he&&si(C,st,P),P.canActivateChecks.push(new Jo(D)),Xr(y,null,q.component?st?st.children:null:S,D,P)})(he,q[he.value.outlet],S,D.concat([he.value]),P),delete q[he.value.outlet]}),Object.entries(q).forEach(([he,st])=>si(st,S.getContext(he),P)),P}function si(y,C,S){const D=Ln(y),P=y.value;Object.entries(D).forEach(([q,he])=>{si(he,P.component?C?C.children.getContext(q):null:C,S)}),S.canDeactivateChecks.push(new es(P.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,P))}function Ss(y){return"function"==typeof y}function G(y){return y instanceof je.K||"EmptyError"===(null==y?void 0:y.name)}const L=Symbol("INITIAL_VALUE");function de(){return(0,Je.w)(y=>(0,Ue.a)(y.map(C=>C.pipe((0,z.q)(1),(0,pe.O)(L)))).pipe((0,Ae.U)(C=>{for(const S of C)if(!0!==S){if(S===L)return L;if(!1===S||S instanceof Br)return S}return!0}),(0,ae.h)(C=>C!==L),(0,z.q)(1)))}function Go(y){return(0,Oe.z)((0,tt.b)(C=>{if(qr(C))throw cs(0,C)}),(0,Ae.U)(C=>!0===C))}class Gs{constructor(C){this.segmentGroup=C||null}}class Fo extends Error{constructor(C){super(),this.urlTree=C}}function Ki(y){return ke(new Gs(y))}class Ms{constructor(C,S){this.urlSerializer=C,this.urlTree=S}lineralizeSegments(C,S){let D=[],P=S.root;for(;;){if(D=D.concat(P.segments),0===P.numberOfChildren)return(0,fe.of)(D);if(P.numberOfChildren>1||!P.children[at])return ke(new u.vHH(4e3,!1));P=P.children[at]}}applyRedirectCommands(C,S,D){const P=this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),C,D);if(S.startsWith("/"))throw new Fo(P);return P}applyRedirectCreateUrlTree(C,S,D,P){const q=this.createSegmentGroup(C,S.root,D,P);return new Br(q,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(C,S){const D={};return Object.entries(C).forEach(([P,q])=>{if("string"==typeof q&&q.startsWith(":")){const st=q.substring(1);D[P]=S[st]}else D[P]=q}),D}createSegmentGroup(C,S,D,P){const q=this.createSegments(C,S.segments,D,P);let he={};return Object.entries(S.children).forEach(([st,Ht])=>{he[st]=this.createSegmentGroup(C,Ht,D,P)}),new dn(q,he)}createSegments(C,S,D,P){return S.map(q=>q.path.startsWith(":")?this.findPosParam(C,q,P):this.findOrReturn(q,D))}findPosParam(C,S,D){const P=D[S.path.substring(1)];if(!P)throw new u.vHH(4001,!1);return P}findOrReturn(C,S){let D=0;for(const P of S){if(P.path===C.path)return S.splice(D),P;D++}return C}}const bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gn(y,C,S,D,P){const q=Ws(y,C,S);return q.matched?(D=function na(y,C){var S;return y.providers&&!y._injector&&(y._injector=(0,u.MMx)(y.providers,C,`Route: ${y.path}`)),null!==(S=y._injector)&&void 0!==S?S:C}(C,D),function Vr(y,C,S,D){const P=C.canMatch;if(!P||0===P.length)return(0,fe.of)(!0);const q=P.map(he=>{const st=Yn(he,y);return Xt(function A(y){return y&&Ss(y.canMatch)}(st)?st.canMatch(C,S):(0,u.r_H)(y,()=>st(C,S)))});return(0,fe.of)(q).pipe(de(),Go())}(D,C,S).pipe((0,Ae.U)(he=>!0===he?q:{...bo}))):(0,fe.of)(q)}function Ws(y,C,S){var D,P;if("**"===C.path)return function sa(y){return{matched:!0,parameters:y.length>0?Pt(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(S);if(""===C.path)return"full"===C.pathMatch&&(y.hasChildren()||S.length>0)?{...bo}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const he=(C.matcher||ht)(S,y,C);if(!he)return{...bo};const st={};Object.entries(null!==(D=he.posParams)&&void 0!==D?D:{}).forEach(([ce,cn])=>{st[ce]=cn.path});const Ht=he.consumed.length>0?{...st,...he.consumed[he.consumed.length-1].parameters}:st;return{matched:!0,consumedSegments:he.consumed,remainingSegments:S.slice(he.consumed.length),parameters:Ht,positionalParamSegments:null!==(P=he.posParams)&&void 0!==P?P:{}}}function co(y,C,S,D){return S.length>0&&function Ci(y,C,S){return S.some(D=>li(y,C,D)&&Mi(D)!==at)}(y,S,D)?{segmentGroup:new dn(C,ts(D,new dn(S,y.children))),slicedSegments:[]}:0===S.length&&function Aa(y,C,S){return S.some(D=>li(y,C,D))}(y,S,D)?{segmentGroup:new dn(y.segments,Za(y,S,D,y.children)),slicedSegments:S}:{segmentGroup:new dn(y.segments,y.children),slicedSegments:S}}function Za(y,C,S,D){const P={};for(const q of S)if(li(y,C,q)&&!D[Mi(q)]){const he=new dn([],{});P[Mi(q)]=he}return{...D,...P}}function ts(y,C){const S={};S[at]=C;for(const D of y)if(""===D.path&&Mi(D)!==at){const P=new dn([],{});S[Mi(D)]=P}return S}function li(y,C,S){return(!(y.hasChildren()||C.length>0)||"full"!==S.pathMatch)&&""===S.path}class ns{}class Ra{constructor(C,S,D,P,q,he,st){this.injector=C,this.configLoader=S,this.rootComponentType=D,this.config=P,this.urlTree=q,this.paramsInheritanceStrategy=he,this.urlSerializer=st,this.applyRedirects=new Ms(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(C){return new u.vHH(4002,`'${C.segmentGroup}'`)}recognize(){const C=co(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(C).pipe((0,Ae.U)(S=>{const D=new No([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,{}),P=new We(D,S),q=new Qo("",P),he=function Si(y,C,S=null,D=null){return ut(Ct(y),C,S,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return he.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(he),this.inheritParamsAndData(q._root,null),{state:q,tree:he}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C,at).pipe(Et(D=>{if(D instanceof Fo)return this.urlTree=D.urlTree,this.match(D.urlTree.root);throw D instanceof Gs?this.noMatchError(D):D}))}inheritParamsAndData(C,S){const D=C.value,P=nr(D,S,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data),C.children.forEach(q=>this.inheritParamsAndData(q,D))}processSegmentGroup(C,S,D,P){return 0===D.segments.length&&D.hasChildren()?this.processChildren(C,S,D):this.processSegment(C,S,D,D.segments,P,!0).pipe((0,Ae.U)(q=>q instanceof We?[q]:[]))}processChildren(C,S,D){const P=[];for(const q of Object.keys(D.children))"primary"===q?P.unshift(q):P.push(q);return(0,Te.D)(P).pipe(nt(q=>{const he=D.children[q],st=function wo(y,C){const S=y.filter(D=>Mi(D)===C);return S.push(...y.filter(D=>Mi(D)!==C)),S}(S,q);return this.processSegmentGroup(C,st,he,q)}),(0,sn.R)((q,he)=>(q.push(...he),q)),(0,Cn.d)(null),function ge(y,C){const S=arguments.length>=2;return D=>D.pipe(y?(0,ae.h)((P,q)=>y(P,q,D)):J.y,be(1),S?(0,Cn.d)(C):(0,De.T)(()=>new je.K))}(),(0,W.z)(q=>{if(null===q)return Ki(D);const he=fs(q);return function $u(y){y.sort((C,S)=>C.value.outlet===at?-1:S.value.outlet===at?1:C.value.outlet.localeCompare(S.value.outlet))}(he),(0,fe.of)(he)}))}processSegment(C,S,D,P,q,he){return(0,Te.D)(S).pipe(nt(st=>{var Ht;return this.processSegmentAgainstRoute(null!==(Ht=st._injector)&&void 0!==Ht?Ht:C,S,st,D,P,q,he).pipe(Et(ce=>{if(ce instanceof Gs)return(0,fe.of)(null);throw ce}))}),(0,Qe.P)(st=>!!st),Et(st=>{if(G(st))return function _l(y,C,S){return 0===C.length&&!y.children[S]}(D,P,q)?(0,fe.of)(new ns):Ki(D);throw st}))}processSegmentAgainstRoute(C,S,D,P,q,he,st){return function ki(y,C,S,D){return!!(Mi(y)===D||D!==at&&li(C,S,y))&&Ws(C,y,S).matched}(D,P,q,he)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(C,P,D,q,he):this.allowRedirects&&st?this.expandSegmentAgainstRouteUsingRedirect(C,P,S,D,q,he):Ki(P):Ki(P)}expandSegmentAgainstRouteUsingRedirect(C,S,D,P,q,he){const{matched:st,consumedSegments:Ht,positionalParamSegments:ce,remainingSegments:cn}=Ws(S,P,q);if(!st)return Ki(S);P.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const On=this.applyRedirects.applyRedirectCommands(Ht,P.redirectTo,ce);return this.applyRedirects.lineralizeSegments(P,On).pipe((0,W.z)(fi=>this.processSegment(C,D,S,fi.concat(cn),he,!1)))}matchSegmentAgainstRoute(C,S,D,P,q){const he=Gn(S,D,P,C);return"**"===D.path&&(S.children={}),he.pipe((0,Je.w)(st=>{var Ht;return st.matched?(C=null!==(Ht=D._injector)&&void 0!==Ht?Ht:C,this.getChildConfig(C,D,P).pipe((0,Je.w)(({routes:ce})=>{var cn,On,fi;const br=null!==(cn=D._loadedInjector)&&void 0!==cn?cn:C,{consumedSegments:wi,remainingSegments:la,parameters:Vo}=st,Na=new No(wi,Vo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Il(y){return y.data||{}}(D),Mi(D),null!==(On=null!==(fi=D.component)&&void 0!==fi?fi:D._loadedComponent)&&void 0!==On?On:null,D,function qs(y){return y.resolve||{}}(D)),{segmentGroup:ua,slicedSegments:el}=co(S,wi,la,ce);if(0===el.length&&ua.hasChildren())return this.processChildren(br,ce,ua).pipe((0,Ae.U)(Qi=>null===Qi?null:new We(Na,Qi)));if(0===ce.length&&0===el.length)return(0,fe.of)(new We(Na,[]));const Ql=Mi(D)===q;return this.processSegment(br,ce,ua,el,Ql?at:q,!0).pipe((0,Ae.U)(Qi=>new We(Na,Qi instanceof We?[Qi]:[])))}))):Ki(S)}))}getChildConfig(C,S,D){return S.children?(0,fe.of)({routes:S.children,injector:C}):S.loadChildren?void 0!==S._loadedRoutes?(0,fe.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function Ka(y,C,S,D){const P=C.canLoad;if(void 0===P||0===P.length)return(0,fe.of)(!0);const q=P.map(he=>{const st=Yn(he,y);return Xt(function zs(y){return y&&Ss(y.canLoad)}(st)?st.canLoad(C,S):(0,u.r_H)(y,()=>st(C,S)))});return(0,fe.of)(q).pipe(de(),Go())}(C,S,D).pipe((0,W.z)(P=>P?this.configLoader.loadChildren(C,S).pipe((0,tt.b)(q=>{S._loadedRoutes=q.routes,S._loadedInjector=q.injector})):function hs(y){return ke(Co(!1,zt.GuardRejected))}())):(0,fe.of)({routes:[],injector:C})}}function yl(y){const C=y.value.routeConfig;return C&&""===C.path}function fs(y){const C=[],S=new Set;for(const D of y){if(!yl(D)){C.push(D);continue}const P=C.find(q=>D.value.routeConfig===q.value.routeConfig);void 0!==P?(P.children.push(...D.children),S.add(P)):C.push(D)}for(const D of S){const P=fs(D.children);C.push(new We(D.value,P))}return C.filter(D=>!S.has(D))}function F(y){const C=y.children.map(S=>F(S)).flat();return[y,...C]}function Se(y){return(0,Je.w)(C=>{const S=y(C);return S?(0,Te.D)(S).pipe((0,Ae.U)(()=>C)):(0,fe.of)(C)})}let Dt=(()=>{var y;class C{buildTitle(D){let P,q=D.root;for(;void 0!==q;){var he;P=null!==(he=this.getResolvedTitleForRoute(q))&&void 0!==he?he:P,q=q.children.find(st=>st.outlet===at)}return P}getResolvedTitleForRoute(D){return D.data[Zt]}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:()=>(0,u.f3M)(qt),providedIn:"root"}),C})(),qt=(()=>{var y;class C extends Dt{constructor(D){super(),this.title=D}updateTitle(D){const P=this.buildTitle(D);void 0!==P&&this.title.setTitle(P)}}return(y=C).\u0275fac=function(D){return new(D||y)(u.LFG(Mt.Dx))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})();const In=new u.OlP("",{providedIn:"root",factory:()=>({})}),or=new u.OlP("");let Tr=(()=>{var y;class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,fe.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const P=Xt(D.loadComponent()).pipe((0,Ae.U)(Sr),(0,tt.b)(he=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=he}),Ce(()=>{this.componentLoaders.delete(D)})),q=new pt(P,()=>new ze.x).pipe(Ve());return this.componentLoaders.set(D,q),q}loadChildren(D,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,fe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const he=function Un(y,C,S,D){return Xt(y.loadChildren()).pipe((0,Ae.U)(Sr),(0,W.z)(P=>P instanceof u.YKP||Array.isArray(P)?(0,fe.of)(P):(0,Te.D)(C.compileModuleAsync(P))),(0,Ae.U)(P=>{D&&D(y);let q,he,st=!1;return Array.isArray(P)?(he=P,!0):(q=P.create(S).injector,he=q.get(or,[],{optional:!0,self:!0}).flat()),{routes:he.map(bs),injector:q}}))}(P,this.compiler,D,this.onLoadEndListener).pipe(Ce(()=>{this.childrenLoaders.delete(P)})),st=new pt(he,()=>new ze.x).pipe(Ve());return this.childrenLoaders.set(P,st),st}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})();function Sr(y){return function Nr(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let ui=(()=>{var y;class C{}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:()=>(0,u.f3M)(vo),providedIn:"root"}),C})(),vo=(()=>{var y;class C{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})();const Lo=new u.OlP(""),Di=new u.OlP("");function Fi(y,C,S){const D=y.get(Di),P=y.get(Re.K0);return y.get(u.R0b).runOutsideAngular(()=>{if(!P.startViewTransition||D.skipNextTransition)return D.skipNextTransition=!1,Promise.resolve();let q;const he=new Promise(ce=>{q=ce}),st=P.startViewTransition(()=>(q(),function ci(y){return new Promise(C=>{(0,u.T8G)(C,{injector:y})})}(y))),{onViewTransitionCreated:Ht}=D;return Ht&&(0,u.r_H)(y,()=>Ht({transition:st,from:C,to:S})),he})}let ro=(()=>{var y;class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze.x,this.transitionAbortSubject=new ze.x,this.configLoader=(0,u.f3M)(Tr),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(en),this.rootContexts=(0,u.f3M)(T),this.location=(0,u.f3M)(Re.Ye),this.inputBindingEnabled=null!==(0,u.f3M)(Ni,{optional:!0}),this.titleStrategy=(0,u.f3M)(Dt),this.options=(0,u.f3M)(In,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.f3M)(ui),this.createViewTransition=(0,u.f3M)(Lo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new vt(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new dt(q))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var P;const q=++this.navigationId;null===(P=this.transitions)||void 0===P||P.next({...this.transitions.value,...D,id:q})}setupNavigations(D,P,q){return this.transitions=new ue.X({id:0,currentUrlTree:P,currentRawUrl:P,extractedUrl:this.urlHandlingStrategy.extract(P),urlAfterRedirects:this.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ve,restoredState:null,currentSnapshot:q.snapshot,targetSnapshot:null,currentRouterState:q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ae.h)(he=>0!==he.id),(0,Ae.U)(he=>({...he,extractedUrl:this.urlHandlingStrategy.extract(he.rawUrl)})),(0,Je.w)(he=>{this.currentTransition=he;let st=!1,Ht=!1;return(0,fe.of)(he).pipe((0,tt.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(ce=>{var cn;const On=!D.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),fi=null!==(cn=ce.extras.onSameUrlNavigation)&&void 0!==cn?cn:D.onSameUrlNavigation;if(!On&&"reload"!==fi){const br="";return this.events.next(new on(ce.id,this.urlSerializer.serialize(ce.rawUrl),br,nn.IgnoredSameUrlNavigation)),ce.resolve(null),Ne.E}if(this.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return(0,fe.of)(ce).pipe((0,Je.w)(br=>{var wi,la;const Vo=null===(wi=this.transitions)||void 0===wi?void 0:wi.getValue();return this.events.next(new rt(br.id,this.urlSerializer.serialize(br.extractedUrl),br.source,br.restoredState)),Vo!==(null===(la=this.transitions)||void 0===la?void 0:la.getValue())?Ne.E:Promise.resolve(br)}),function Zl(y,C,S,D,P,q){return(0,W.z)(he=>function Sa(y,C,S,D,P,q,he="emptyOnly"){return new Ra(y,C,S,D,P,he,q).recognize()}(y,C,S,D,he.extractedUrl,P,q).pipe((0,Ae.U)(({state:st,tree:Ht})=>({...he,targetSnapshot:st,urlAfterRedirects:Ht}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,tt.b)(br=>{he.targetSnapshot=br.targetSnapshot,he.urlAfterRedirects=br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:br.urlAfterRedirects};const wi=new gt(br.id,this.urlSerializer.serialize(br.extractedUrl),this.urlSerializer.serialize(br.urlAfterRedirects),br.targetSnapshot);this.events.next(wi)}));if(On&&this.urlHandlingStrategy.shouldProcessUrl(ce.currentRawUrl)){const{id:br,extractedUrl:wi,source:la,restoredState:Vo,extras:Na}=ce,ua=new rt(br,this.urlSerializer.serialize(wi),la,Vo);this.events.next(ua);const el=ti(this.rootComponentType).snapshot;return this.currentTransition=he={...ce,targetSnapshot:el,urlAfterRedirects:wi,extras:{...Na,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=wi,(0,fe.of)(he)}{const br="";return this.events.next(new on(ce.id,this.urlSerializer.serialize(ce.extractedUrl),br,nn.IgnoredByUrlHandlingStrategy)),ce.resolve(null),Ne.E}}),(0,tt.b)(ce=>{const cn=new $(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(cn)}),(0,Ae.U)(ce=>(this.currentTransition=he={...ce,guards:Kl(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)},he)),function Nt(y,C){return(0,W.z)(S=>{const{targetSnapshot:D,currentSnapshot:P,guards:{canActivateChecks:q,canDeactivateChecks:he}}=S;return 0===he.length&&0===q.length?(0,fe.of)({...S,guardsResult:!0}):function wn(y,C,S,D){return(0,Te.D)(y).pipe((0,W.z)(P=>function Rs(y,C,S,D,P){const q=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,fe.of)(!0);const he=q.map(st=>{var Ht;const ce=null!==(Ht=Hi(C))&&void 0!==Ht?Ht:P,cn=Yn(st,ce);return Xt(function B(y){return y&&Ss(y.canDeactivate)}(cn)?cn.canDeactivate(y,C,S,D):(0,u.r_H)(ce,()=>cn(y,C,S,D))).pipe((0,Qe.P)())});return(0,fe.of)(he).pipe(de())}(P.component,P.route,S,C,D)),(0,Qe.P)(P=>!0!==P,!0))}(he,D,P,y).pipe((0,W.z)(st=>st&&function ia(y){return"boolean"==typeof y}(st)?function Dr(y,C,S,D){return(0,Te.D)(C).pipe(nt(P=>(0,_e.z)(function Zn(y,C){return null!==y&&C&&C(new xt(y)),(0,fe.of)(!0)}(P.route.parent,D),function cr(y,C){return null!==y&&C&&C(new jt(y)),(0,fe.of)(!0)}(P.route,D),function Hn(y,C,S){const D=C[C.length-1],q=C.slice(0,C.length-1).reverse().map(he=>function As(y){const C=y.routeConfig?y.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:y,guards:C}:null}(he)).filter(he=>null!==he).map(he=>Me(()=>{const st=he.guards.map(Ht=>{var ce;const cn=null!==(ce=Hi(he.node))&&void 0!==ce?ce:S,On=Yn(Ht,cn);return Xt(function ai(y){return y&&Ss(y.canActivateChild)}(On)?On.canActivateChild(D,y):(0,u.r_H)(cn,()=>On(D,y))).pipe((0,Qe.P)())});return(0,fe.of)(st).pipe(de())}));return(0,fe.of)(q).pipe(de())}(y,P.path,S),function Ei(y,C,S){const D=C.routeConfig?C.routeConfig.canActivate:null;if(!D||0===D.length)return(0,fe.of)(!0);const P=D.map(q=>Me(()=>{var he;const st=null!==(he=Hi(C))&&void 0!==he?he:S,Ht=Yn(q,st);return Xt(function vl(y){return y&&Ss(y.canActivate)}(Ht)?Ht.canActivate(C,y):(0,u.r_H)(st,()=>Ht(C,y))).pipe((0,Qe.P)())}));return(0,fe.of)(P).pipe(de())}(y,P.route,S))),(0,Qe.P)(P=>!0!==P,!0))}(D,q,y,C):(0,fe.of)(st)),(0,Ae.U)(st=>({...S,guardsResult:st})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,tt.b)(ce=>{if(he.guardsResult=ce.guardsResult,qr(ce.guardsResult))throw cs(0,ce.guardsResult);const cn=new Q(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(cn)}),(0,ae.h)(ce=>!!ce.guardsResult||(this.cancelNavigationTransition(ce,"",zt.GuardRejected),!1)),Se(ce=>{if(ce.guards.canActivateChecks.length)return(0,fe.of)(ce).pipe((0,tt.b)(cn=>{const On=new Le(cn.id,this.urlSerializer.serialize(cn.extractedUrl),this.urlSerializer.serialize(cn.urlAfterRedirects),cn.targetSnapshot);this.events.next(On)}),(0,Je.w)(cn=>{let On=!1;return(0,fe.of)(cn).pipe(function w(y,C){return(0,W.z)(S=>{const{targetSnapshot:D,guards:{canActivateChecks:P}}=S;if(!P.length)return(0,fe.of)(S);const q=new Set(P.map(Ht=>Ht.route)),he=new Set;for(const Ht of q)if(!he.has(Ht))for(const ce of F(Ht))he.add(ce);let st=0;return(0,Te.D)(he).pipe(nt(Ht=>q.has(Ht)?function Ee(y,C,S,D){const P=y.routeConfig,q=y._resolve;return void 0!==(null==P?void 0:P.title)&&!ji(P)&&(q[Zt]=P.title),function O(y,C,S,D){const P=un(y);if(0===P.length)return(0,fe.of)({});const q={};return(0,Te.D)(P).pipe((0,W.z)(he=>function re(y,C,S,D){var P;const q=null!==(P=Hi(C))&&void 0!==P?P:D,he=Yn(y,q);return Xt(he.resolve?he.resolve(C,S):(0,u.r_H)(q,()=>he(C,S)))}(y[he],C,S,D).pipe((0,Qe.P)(),(0,tt.b)(st=>{q[he]=st}))),be(1),function Be(y){return(0,Ae.U)(()=>y)}(q),Et(he=>G(he)?Ne.E:ke(he)))}(q,y,C,D).pipe((0,Ae.U)(he=>(y._resolvedData=he,y.data=nr(y,y.parent,S).resolve,null)))}(Ht,D,y,C):(Ht.data=nr(Ht,Ht.parent,y).resolve,(0,fe.of)(void 0))),(0,tt.b)(()=>st++),be(1),(0,W.z)(Ht=>st===he.size?(0,fe.of)(S):Ne.E))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,tt.b)({next:()=>On=!0,complete:()=>{On||this.cancelNavigationTransition(cn,"",zt.NoDataFromResolver)}}))}),(0,tt.b)(cn=>{const On=new Ge(cn.id,this.urlSerializer.serialize(cn.extractedUrl),this.urlSerializer.serialize(cn.urlAfterRedirects),cn.targetSnapshot);this.events.next(On)}))}),Se(ce=>{const cn=On=>{var fi;const br=[];null!==(fi=On.routeConfig)&&void 0!==fi&&fi.loadComponent&&!On.routeConfig._loadedComponent&&br.push(this.configLoader.loadComponent(On.routeConfig).pipe((0,tt.b)(wi=>{On.component=wi}),(0,Ae.U)(()=>{})));for(const wi of On.children)br.push(...cn(wi));return br};return(0,Ue.a)(cn(ce.targetSnapshot.root)).pipe((0,Cn.d)(null),(0,z.q)(1))}),Se(()=>this.afterPreactivation()),(0,Je.w)(()=>{var ce;const{currentSnapshot:cn,targetSnapshot:On}=he,fi=null===(ce=this.createViewTransition)||void 0===ce?void 0:ce.call(this,this.environmentInjector,cn.root,On.root);return fi?(0,Te.D)(fi).pipe((0,Ae.U)(()=>he)):(0,fe.of)(he)}),(0,Ae.U)(ce=>{const cn=function eo(y,C,S){const D=to(y,C._root,S?S._root:void 0);return new jr(D,C)}(D.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return this.currentTransition=he={...ce,targetRouterState:cn},this.currentNavigation.targetRouterState=cn,he}),(0,tt.b)(()=>{this.events.next(new pn)}),((y,C,S,D)=>(0,Ae.U)(P=>(new ra(C,P.targetRouterState,P.currentRouterState,S,D).activate(y),P)))(this.rootContexts,D.routeReuseStrategy,ce=>this.events.next(ce),this.inputBindingEnabled),(0,z.q)(1),(0,tt.b)({next:ce=>{var cn;st=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects))),null===(cn=this.titleStrategy)||void 0===cn||cn.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{st=!0}}),function wt(y){return(0,xe.e)((C,S)=>{(0,se.Xf)(y).subscribe((0,Pe.x)(S,()=>S.complete(),Ke.Z)),!S.closed&&C.subscribe(S)})}(this.transitionAbortSubject.pipe((0,tt.b)(ce=>{throw ce}))),Ce(()=>{var ce;!st&&!Ht&&this.cancelNavigationTransition(he,"",zt.SupersededByNewNavigation),(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.id)===he.id&&(this.currentNavigation=null)}),Et(ce=>{if(Ht=!0,Xo(ce))this.events.next(new Mn(he.id,this.urlSerializer.serialize(he.extractedUrl),ce.message,ce.cancellationCode)),function Do(y){return Xo(y)&&qr(y.url)}(ce)?this.events.next(new hn(ce.url)):he.resolve(!1);else{var cn;this.events.next(new ei(he.id,this.urlSerializer.serialize(he.extractedUrl),ce,null!==(cn=he.targetSnapshot)&&void 0!==cn?cn:void 0));try{he.resolve(D.errorHandler(ce))}catch(On){this.options.resolveNavigationPromiseOnError?he.resolve(!1):he.reject(On)}}return Ne.E}))}))}cancelNavigationTransition(D,P,q){const he=new Mn(D.id,this.urlSerializer.serialize(D.extractedUrl),P,q);this.events.next(he),D.resolve(!1)}isUpdatingInternalState(){var D,P;return(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())!==(null===(P=this.currentTransition)||void 0===P?void 0:P.currentUrlTree.toString())}isUpdatedBrowserUrl(){var D,P;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())&&!(null!==(P=this.currentTransition)&&void 0!==P&&P.extras.skipLocationChange)}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})();function rs(y){return y!==ve}let Ys=(()=>{var y;class C{}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:()=>(0,u.f3M)(Uc),providedIn:"root"}),C})();class ju{shouldDetach(C){return!1}store(C,S){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,S){return C.routeConfig===S.routeConfig}}let Uc=(()=>{var y;class C extends ju{}return(y=C).\u0275fac=(()=>{let S;return function(P){return(S||(S=u.n5z(y)))(P||y)}})(),y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})(),Ps=(()=>{var y;class C{}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:()=>(0,u.f3M)(Zd),providedIn:"root"}),C})(),Zd=(()=>{var y;class C extends Ps{constructor(){super(...arguments),this.location=(0,u.f3M)(Re.Ye),this.urlSerializer=(0,u.f3M)(en),this.options=(0,u.f3M)(In,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.f3M)(ui),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ti(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var D,P;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(D=null===(P=this.restoredState())||void 0===P?void 0:P.\u0275routerPageId)&&void 0!==D?D:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(D){return this.location.subscribe(P=>{"popstate"===P.type&&D(P.url,P.state)})}handleRouterEvent(D,P){if(D instanceof rt)this.stateMemento=this.createStateMemento();else if(D instanceof on)this.rawUrlTree=P.initialUrl;else if(D instanceof gt){if("eager"===this.urlUpdateStrategy&&!P.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl);this.setBrowserUrl(q,P)}}else D instanceof pn?(this.currentUrlTree=P.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P))):D instanceof Mn&&(D.code===zt.GuardRejected||D.code===zt.NoDataFromResolver)?this.restoreHistory(P):D instanceof ei?this.restoreHistory(P,!0):D instanceof Rt&&(this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId)}setBrowserUrl(D,P){const q=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(q)||P.extras.replaceUrl){const st={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(q,"",st)}else{const he={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(q,"",he)}}restoreHistory(D,P=!1){if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-this.browserPageId;0!==he?this.location.historyGo(he):this.currentUrlTree===D.finalUrl&&0===he&&(this.resetState(D),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){var P;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(P=D.finalUrl)&&void 0!==P?P:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,P){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:P}:{navigationId:D}}}return(y=C).\u0275fac=(()=>{let S;return function(P){return(S||(S=u.n5z(y)))(P||y)}})(),y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})();var Ma=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Ma||{});function Hu(y,C){y.events.pipe((0,ae.h)(S=>S instanceof Rt||S instanceof Mn||S instanceof ei||S instanceof on),(0,Ae.U)(S=>S instanceof Rt||S instanceof on?Ma.COMPLETE:S instanceof Mn&&(S.code===zt.Redirect||S.code===zt.SupersededByNewNavigation)?Ma.REDIRECTING:Ma.FAILED),(0,ae.h)(S=>S!==Ma.REDIRECTING),(0,z.q)(1)).subscribe(()=>{C()})}function Ks(y){throw y}const Qd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ps=(()=>{var y;class C{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var D,P;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.f3M)(u.c2e),this.stateManager=(0,u.f3M)(Ps),this.options=(0,u.f3M)(In,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.f3M)(ro),this.urlSerializer=(0,u.f3M)(en),this.location=(0,u.f3M)(Re.Ye),this.urlHandlingStrategy=(0,u.f3M)(ui),this._events=new ze.x,this.errorHandler=this.options.errorHandler||Ks,this.navigated=!1,this.routeReuseStrategy=(0,u.f3M)(Ys),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(D=null===(P=(0,u.f3M)(or,{optional:!0}))||void 0===P?void 0:P.flat())&&void 0!==D?D:[],this.componentInputBindingEnabled=!!(0,u.f3M)(Ni,{optional:!0}),this.eventsSubscription=new it.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:q=>{this.console.warn(q)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(P=>{try{const q=this.navigationTransitions.currentTransition,he=this.navigationTransitions.currentNavigation;if(null!==q&&null!==he)if(this.stateManager.handleRouterEvent(P,he),P instanceof Mn&&P.code!==zt.Redirect&&P.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(P instanceof Rt)this.navigated=!0;else if(P instanceof hn){const st=this.urlHandlingStrategy.merge(P.url,q.currentRawUrl),Ht={info:q.extras.info,skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rs(q.source)};this.scheduleNavigation(st,ve,null,Ht,{resolve:q.resolve,reject:q.reject,promise:q.promise})}(function Hc(y){return!(y instanceof pn||y instanceof hn)})(P)&&this._events.next(P)}catch(q){this.navigationTransitions.transitionAbortSubject.next(q)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ve,this.stateManager.restoredState())}setUpLocationChangeListener(){var D;null!==(D=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==D||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((P,q)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(P,"popstate",q)},0)}))}navigateToSyncWithBrowser(D,P,q){const he={replaceUrl:!0},st=null!=q&&q.navigationId?q:null;if(q){const ce={...q};delete ce.navigationId,delete ce.\u0275routerPageId,0!==Object.keys(ce).length&&(he.state=ce)}const Ht=this.parseUrl(D);this.scheduleNavigation(Ht,P,st,he)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(bs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,P={}){const{relativeTo:q,queryParams:he,fragment:st,queryParamsHandling:Ht,preserveFragment:ce}=P,cn=ce?this.currentUrlTree.fragment:st;let fi,On=null;switch(Ht){case"merge":On={...this.currentUrlTree.queryParams,...he};break;case"preserve":On=this.currentUrlTree.queryParams;break;default:On=he||null}null!==On&&(On=this.removeEmptyProps(On));try{fi=Ct(q?q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),fi=this.currentUrlTree.root}return ut(fi,D,On,null!=cn?cn:null)}navigateByUrl(D,P={skipLocationChange:!1}){const q=qr(D)?D:this.parseUrl(D),he=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(he,ve,null,P)}navigate(D,P={skipLocationChange:!1}){return function zu(y){for(let C=0;C<y.length;C++)if(null==y[C])throw new u.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,P),P)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){try{return this.urlSerializer.parse(D)}catch{return this.urlSerializer.parse("/")}}isActive(D,P){let q;if(q=!0===P?{...Qd}:!1===P?{...jc}:P,qr(D))return fr(this.currentUrlTree,D,q);const he=this.parseUrl(D);return fr(this.currentUrlTree,he,q)}removeEmptyProps(D){return Object.entries(D).reduce((P,[q,he])=>(null!=he&&(P[q]=he),P),{})}scheduleNavigation(D,P,q,he,st){if(this.disposed)return Promise.resolve(!1);let Ht,ce,cn;st?(Ht=st.resolve,ce=st.reject,cn=st.promise):cn=new Promise((fi,br)=>{Ht=fi,ce=br});const On=this.pendingTasks.add();return Hu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(On))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:he,resolve:Ht,reject:ce,promise:cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),cn.catch(fi=>Promise.reject(fi))}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})(),wr=(()=>{var y;class C{constructor(D,P,q,he,st,Ht){var ce;this.router=D,this.route=P,this.tabIndexAttribute=q,this.renderer=he,this.el=st,this.locationStrategy=Ht,this.href=null,this.commands=null,this.onChanges=new ze.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const cn=null===(ce=st.nativeElement.tagName)||void 0===ce?void 0:ce.toLowerCase();this.isAnchorElement="a"===cn||"area"===cn,this.isAnchorElement?this.subscription=D.events.subscribe(On=>{On instanceof Rt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,P,q,he,st){const Ht=this.urlTree;return!!(null===Ht||this.isAnchorElement&&(0!==D||P||q||he||st||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ht,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;const P=this.urlTree;this.href=null!==P&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(P)):null;const q=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",q)}applyAttributeValue(D,P){const q=this.renderer,he=this.el.nativeElement;null!==P?q.setAttribute(he,D,P):q.removeAttribute(he,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(y=C).\u0275fac=function(D){return new(D||y)(u.Y36(ps),u.Y36(uo),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Re.S$))},y.\u0275dir=u.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,P){1&D&&u.NdJ("click",function(he){return P.onClick(he.button,he.ctrlKey,he.shiftKey,he.altKey,he.metaKey)}),2&D&&u.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[u.lbL.HasDecoratorInputTransform,"preserveFragment","preserveFragment",u.VuI],skipLocationChange:[u.lbL.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",u.VuI],replaceUrl:[u.lbL.HasDecoratorInputTransform,"replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]}),C})();class kr{}let Xa=(()=>{var y;class C{preload(D,P){return P().pipe(Et(()=>(0,fe.of)(null)))}}return(y=C).\u0275fac=function(D){return new(D||y)},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})(),gs=(()=>{var y;class C{constructor(D,P,q,he,st){this.router=D,this.injector=q,this.preloadingStrategy=he,this.loader=st}setUpPreloading(){this.subscription=this.router.events.pipe((0,ae.h)(D=>D instanceof Rt),nt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,P){const q=[];for(const ce of P){var he,st;ce.providers&&!ce._injector&&(ce._injector=(0,u.MMx)(ce.providers,D,`Route: ${ce.path}`));const cn=null!==(he=ce._injector)&&void 0!==he?he:D,On=null!==(st=ce._loadedInjector)&&void 0!==st?st:cn;var Ht;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&q.push(this.preloadConfig(cn,ce)),(ce.children||ce._loadedRoutes)&&q.push(this.processRoutes(On,null!==(Ht=ce.children)&&void 0!==Ht?Ht:ce._loadedRoutes))}return(0,Te.D)(q).pipe((0,St.J)())}preloadConfig(D,P){return this.preloadingStrategy.preload(P,()=>{let q;q=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(D,P):(0,fe.of)(null);const he=q.pipe((0,W.z)(st=>{var Ht;return null===st?(0,fe.of)(void 0):(P._loadedRoutes=st.routes,P._loadedInjector=st.injector,this.processRoutes(null!==(Ht=st.injector)&&void 0!==Ht?Ht:D,st.routes))}));if(P.loadComponent&&!P._loadedComponent){const st=this.loader.loadComponent(P);return(0,Te.D)([he,st]).pipe((0,St.J)())}return he})}}return(y=C).\u0275fac=function(D){return new(D||y)(u.LFG(ps),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(kr),u.LFG(Tr))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})();const So=new u.OlP("");let Wt=(()=>{var y;class C{constructor(D,P,q,he,st={}){this.urlSerializer=D,this.transitions=P,this.viewportScroller=q,this.zone=he,this.options=st,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},st.scrollPositionRestoration||(st.scrollPositionRestoration="disabled"),st.anchorScrolling||(st.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Rt?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof on&&D.code===nn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Jt&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jt(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){var D,P;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(P=this.scrollEventsSubscription)||void 0===P||P.unsubscribe()}}return(y=C).\u0275fac=function(D){u.$Z()},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac}),C})();function gi(y,C){return{\u0275kind:y,\u0275providers:C}}function Tt(){const y=(0,u.f3M)(u.zs3);return C=>{var S,D;const P=y.get(u.z2F);if(C!==P.components[0])return;const q=y.get(ps),he=y.get(Ft);1===y.get(Ti)&&q.initialNavigation(),null===(S=y.get(xa,null,u.XFs.Optional))||void 0===S||S.setUpPreloading(),null===(D=y.get(So,null,u.XFs.Optional))||void 0===D||D.init(),q.resetRootComponentType(P.componentTypes[0]),he.closed||(he.next(),he.complete(),he.unsubscribe())}}const Ft=new u.OlP("",{factory:()=>new ze.x}),Ti=new u.OlP("",{providedIn:"root",factory:()=>1}),xa=new u.OlP("");function pf(y){return gi(0,[{provide:xa,useExisting:gs},{provide:kr,useExisting:y}])}function aa(y){return gi(9,[{provide:Lo,useValue:Fi},{provide:Di,useValue:{skipNextTransition:!(null==y||!y.skipInitialTransition),...y}}])}const Xn=new u.OlP("ROUTER_FORROOT_GUARD"),Oa=[Re.Ye,{provide:en,useClass:Zr},ps,T,{provide:uo,useFactory:function Ro(y){return y.routerState.root},deps:[ps]},Tr,[]];let Gc=(()=>{var y;class C{constructor(D){}static forRoot(D,P){return{ngModule:C,providers:[Oa,[],{provide:or,multi:!0,useValue:D},{provide:Xn,useFactory:hr,deps:[[ps,new u.FiY,new u.tp0]]},{provide:In,useValue:P||{}},null!=P&&P.useHash?{provide:Re.S$,useClass:Re.Do}:{provide:Re.S$,useClass:Re.b0},{provide:So,useFactory:()=>{const y=(0,u.f3M)(Re.EM),C=(0,u.f3M)(u.R0b),S=(0,u.f3M)(In),D=(0,u.f3M)(ro),P=(0,u.f3M)(en);return S.scrollOffset&&y.setOffset(S.scrollOffset),new Wt(P,D,y,C,S)}},null!=P&&P.preloadingStrategy?pf(P.preloadingStrategy).\u0275providers:[],null!=P&&P.initialNavigation?Wc(P):[],null!=P&&P.bindToComponentInputs?gi(8,[Kn,{provide:Ni,useExisting:Kn}]).\u0275providers:[],null!=P&&P.enableViewTransitions?aa().\u0275providers:[],[{provide:$n,useFactory:Tt},{provide:u.tb,multi:!0,useExisting:$n}]]}}static forChild(D){return{ngModule:C,providers:[{provide:or,multi:!0,useValue:D}]}}}return(y=C).\u0275fac=function(D){return new(D||y)(u.LFG(Xn,8))},y.\u0275mod=u.oAB({type:y}),y.\u0275inj=u.cJS({}),C})();function hr(y){return"guarded"}function Wc(y){return["disabled"===y.initialNavigation?gi(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const C=(0,u.f3M)(ps);return()=>{C.setUpLocationChangeListener()}}},{provide:Ti,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?gi(2,[{provide:Ti,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:C=>{const S=C.get(Re.V_,Promise.resolve());return()=>S.then(()=>new Promise(D=>{const P=C.get(ps),q=C.get(Ft);Hu(P,()=>{D(!0)}),C.get(ro).afterPreactivation=()=>(D(!0),q.closed?(0,fe.of)(void 0):q),P.initialNavigation()}))}}]).\u0275providers:[]]}const $n=new u.OlP("")},3106:(Yt,et,N)=>{"use strict";N.d(et,{Z:()=>Ne});var u=N(9058),k=N(4537),Y=N(534),ne=N(7879);class Te{constructor(xe,Pe){this._delegate=xe,this.firebase=Pe,(0,Y._addComponent)(xe,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(xe,Pe=Y._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(xe);return!pt.isInitialized()&&"EXPLICIT"===(null===(Ve=pt.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Pe})}_removeServiceInstance(xe,Pe=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Pe)}_addComponent(xe){(0,Y._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,Y._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function je(){const it=function Ue(it){const xe={},Pe={__esModule:!0,initializeApp:function ze(z,pe={}){const ae=Y.initializeApp(z,pe);if((0,u.r3)(xe,ae.name))return xe[ae.name];const W=new it(ae,Pe);return xe[ae.name]=W,W},app:pt,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function Ae(z){const pe=z.name,ae=pe.replace("-compat","");if(Y._registerComponent(z)&&"PUBLIC"===z.type){const W=(Qe=pt())=>{if("function"!=typeof Qe[ae])throw ue.create("invalid-app-argument",{appName:pe});return Qe[ae]()};void 0!==z.serviceProps&&(0,u.ZB)(W,z.serviceProps),Pe[ae]=W,it.prototype[ae]=function(...Qe){return this._getService.bind(this,pe).apply(this,z.multipleInstances?Qe:[])}}return"PUBLIC"===z.type?Pe[ae]:null},removeApp:function Ve(z){delete xe[z]},useAsService:function Je(z,pe){return"serverAuth"===pe?null:pe},modularAPIs:Y}};function pt(z){if(!(0,u.r3)(xe,z=z||Y._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:z});return xe[z]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Re(){return Object.keys(xe).map(z=>xe[z])}}),pt.App=it,Pe}(Te);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function xe(Pe){(0,u.ZB)(it,Pe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),it}(),se=new ne.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=_e;!function ke(it){(0,Y.registerVersion)("@firebase/app-compat","0.2.27",it)}()},534:(Yt,et,N)=>{"use strict";N.r(et),N.d(et,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>lr,_addOrOverwriteComponent:()=>Tn,_apps:()=>En,_clearComponents:()=>ir,_components:()=>Wn,_getProvider:()=>dn,_registerComponent:()=>Br,_removeServiceInstance:()=>Kr,deleteApp:()=>Or,getApp:()=>Lr,getApps:()=>Qr,initializeApp:()=>$i,onLog:()=>_t,registerVersion:()=>$r,setLogLevel:()=>Ze});var u=N(5861),k=N(4537),Y=N(7879),ne=N(9058);const Te=(Ct,ut)=>ut.some(At=>Ct instanceof At);let fe,ue;const _e=new WeakMap,se=new WeakMap,Me=new WeakMap,Oe=new WeakMap,ke=new WeakMap;let xe={get(Ct,ut,At){if(Ct instanceof IDBTransaction){if("done"===ut)return se.get(Ct);if("objectStoreNames"===ut)return Ct.objectStoreNames||Me.get(Ct);if("store"===ut)return At.objectStoreNames[1]?void 0:At.objectStore(At.objectStoreNames[0])}return ze(Ct[ut])},set:(Ct,ut,At)=>(Ct[ut]=At,!0),has:(Ct,ut)=>Ct instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in Ct};function pt(Ct){return"function"==typeof Ct?function Ve(Ct){return Ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ct)?function(...ut){return Ct.apply(Re(this),ut),ze(_e.get(this))}:function(...ut){return ze(Ct.apply(Re(this),ut))}:function(ut,...At){const $t=Ct.call(Re(this),ut,...At);return Me.set($t,ut.sort?ut.sort():[ut]),ze($t)}}(Ct):(Ct instanceof IDBTransaction&&function it(Ct){if(se.has(Ct))return;const ut=new Promise((At,$t)=>{const Ut=()=>{Ct.removeEventListener("complete",An),Ct.removeEventListener("error",qn),Ct.removeEventListener("abort",qn)},An=()=>{At(),Ut()},qn=()=>{$t(Ct.error||new DOMException("AbortError","AbortError")),Ut()};Ct.addEventListener("complete",An),Ct.addEventListener("error",qn),Ct.addEventListener("abort",qn)});se.set(Ct,ut)}(Ct),Te(Ct,function Ue(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ct,xe):Ct)}function ze(Ct){if(Ct instanceof IDBRequest)return function Ne(Ct){const ut=new Promise((At,$t)=>{const Ut=()=>{Ct.removeEventListener("success",An),Ct.removeEventListener("error",qn)},An=()=>{At(ze(Ct.result)),Ut()},qn=()=>{$t(Ct.error),Ut()};Ct.addEventListener("success",An),Ct.addEventListener("error",qn)});return ut.then(At=>{At instanceof IDBCursor&&_e.set(At,Ct)}).catch(()=>{}),ke.set(ut,Ct),ut}(Ct);if(Oe.has(Ct))return Oe.get(Ct);const ut=pt(Ct);return ut!==Ct&&(Oe.set(Ct,ut),ke.set(ut,Ct)),ut}const Re=Ct=>ke.get(Ct),z=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],ae=new Map;function W(Ct,ut){if(!(Ct instanceof IDBDatabase)||ut in Ct||"string"!=typeof ut)return;if(ae.get(ut))return ae.get(ut);const At=ut.replace(/FromIndex$/,""),$t=ut!==At,Ut=pe.includes(At);if(!(At in($t?IDBIndex:IDBObjectStore).prototype)||!Ut&&!z.includes(At))return;const An=function(){var qn=(0,u.Z)(function*(Ur,..._r){const Vn=this.transaction(Ur,Ut?"readwrite":"readonly");let Ri=Vn.store;return $t&&(Ri=Ri.index(_r.shift())),(yield Promise.all([Ri[At](..._r),Ut&&Vn.done]))[0]});return function(_r){return qn.apply(this,arguments)}}();return ae.set(ut,An),An}!function Pe(Ct){xe=Ct(xe)}(Ct=>({...Ct,get:(ut,At,$t)=>W(ut,At)||Ct.get(ut,At,$t),has:(ut,At)=>!!W(ut,At)||Ct.has(ut,At)}));class Qe{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function nt(Ct){const ut=Ct.getComponent();return"VERSION"===(null==ut?void 0:ut.type)}(At)){const $t=At.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(At=>At).join(" ")}}const tt="@firebase/app",sn=new Y.Yd("@firebase/app"),Fn="[DEFAULT]",Nn={[tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,Wn=new Map;function lr(Ct,ut){try{Ct.container.addComponent(ut)}catch(At){sn.debug(`Component ${ut.name} failed to register with FirebaseApp ${Ct.name}`,At)}}function Tn(Ct,ut){Ct.container.addOrOverwriteComponent(ut)}function Br(Ct){const ut=Ct.name;if(Wn.has(ut))return sn.debug(`There were multiple attempts to register component ${ut}.`),!1;Wn.set(ut,Ct);for(const At of En.values())lr(At,Ct);return!0}function dn(Ct,ut){const At=Ct.container.getProvider("heartbeat").getImmediate({optional:!0});return At&&At.triggerHeartbeat(),Ct.container.getProvider(ut)}function Kr(Ct,ut,At=Fn){dn(Ct,ut).clearInstance(At)}function ir(){Wn.clear()}const xn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class en{constructor(ut,At,$t){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const Zr="10.8.0";function $i(Ct,ut={}){let At=Ct;"object"!=typeof ut&&(ut={name:ut});const $t=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},ut),Ut=$t.name;if("string"!=typeof Ut||!Ut)throw xn.create("bad-app-name",{appName:String(Ut)});if(At||(At=(0,ne.aH)()),!At)throw xn.create("no-options");const An=En.get(Ut);if(An){if((0,ne.vZ)(At,An.options)&&(0,ne.vZ)($t,An.config))return An;throw xn.create("duplicate-app",{appName:Ut})}const qn=new k.H0(Ut);for(const _r of Wn.values())qn.addComponent(_r);const Ur=new en(At,$t,qn);return En.set(Ut,Ur),Ur}function Lr(Ct=Fn){const ut=En.get(Ct);if(!ut&&Ct===Fn&&(0,ne.aH)())return $i();if(!ut)throw xn.create("no-app",{appName:Ct});return ut}function Qr(){return Array.from(En.values())}function Or(Ct){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(Ct){const ut=Ct.name;En.has(ut)&&(En.delete(ut),yield Promise.all(Ct.container.getProviders().map(At=>At.delete())),Ct.isDeleted=!0)})).apply(this,arguments)}function $r(Ct,ut,At){var $t;let Ut=null!==($t=Nn[Ct])&&void 0!==$t?$t:Ct;At&&(Ut+=`-${At}`);const An=Ut.match(/\s|\//),qn=ut.match(/\s|\//);if(An||qn){const Ur=[`Unable to register library "${Ut}" with version "${ut}":`];return An&&Ur.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),An&&qn&&Ur.push("and"),qn&&Ur.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void sn.warn(Ur.join(" "))}Br(new k.wA(`${Ut}-version`,()=>({library:Ut,version:ut}),"VERSION"))}function _t(Ct,ut){if(null!==Ct&&"function"!=typeof Ct)throw xn.create("invalid-log-argument");(0,Y.Am)(Ct,ut)}function Ze(Ct){(0,Y.Ub)(Ct)}const Xe="firebase-heartbeat-database",Fe=1,te="firebase-heartbeat-store";let oe=null;function we(){return oe||(oe=function Ae(Ct,ut,{blocked:At,upgrade:$t,blocking:Ut,terminated:An}={}){const qn=indexedDB.open(Ct,ut),Ur=ze(qn);return $t&&qn.addEventListener("upgradeneeded",_r=>{$t(ze(qn.result),_r.oldVersion,_r.newVersion,ze(qn.transaction),_r)}),At&&qn.addEventListener("blocked",_r=>At(_r.oldVersion,_r.newVersion,_r)),Ur.then(_r=>{An&&_r.addEventListener("close",()=>An()),Ut&&_r.addEventListener("versionchange",Vn=>Ut(Vn.oldVersion,Vn.newVersion,Vn))}).catch(()=>{}),Ur}(Xe,Fe,{upgrade:(Ct,ut)=>{if(0===ut)try{Ct.createObjectStore(te)}catch(At){console.warn(At)}}}).catch(Ct=>{throw xn.create("idb-open",{originalErrorMessage:Ct.message})})),oe}function qe(){return(qe=(0,u.Z)(function*(Ct){try{const At=(yield we()).transaction(te),$t=yield At.objectStore(te).get(Rn(Ct));return yield At.done,$t}catch(ut){if(ut instanceof ne.ZR)sn.warn(ut.message);else{const At=xn.create("idb-get",{originalErrorMessage:null==ut?void 0:ut.message});sn.warn(At.message)}}})).apply(this,arguments)}function Bt(Ct,ut){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(Ct,ut){try{const $t=(yield we()).transaction(te,"readwrite");yield $t.objectStore(te).put(ut,Rn(Ct)),yield $t.done}catch(At){if(At instanceof ne.ZR)sn.warn(At.message);else{const $t=xn.create("idb-set",{originalErrorMessage:null==At?void 0:At.message});sn.warn($t.message)}}})).apply(this,arguments)}function Rn(Ct){return`${Ct.name}!${Ct.options.appId}`}class pr{constructor(ut){this.container=ut,this._heartbeatsCache=null;const At=this.container.getProvider("app").getImmediate();this._storage=new Ai(At),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var ut=this;return(0,u.Z)(function*(){var At,$t;const An=ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qn=zn();if((null!=(null===(At=ut._heartbeatsCache)||void 0===At?void 0:At.heartbeats)||(ut._heartbeatsCache=yield ut._heartbeatsCachePromise,null!=(null===($t=ut._heartbeatsCache)||void 0===$t?void 0:$t.heartbeats)))&&ut._heartbeatsCache.lastSentHeartbeatDate!==qn&&!ut._heartbeatsCache.heartbeats.some(Ur=>Ur.date===qn))return ut._heartbeatsCache.heartbeats.push({date:qn,agent:An}),ut._heartbeatsCache.heartbeats=ut._heartbeatsCache.heartbeats.filter(Ur=>{const _r=new Date(Ur.date).valueOf();return Date.now()-_r<=2592e6}),ut._storage.overwrite(ut._heartbeatsCache)})()}getHeartbeatsHeader(){var ut=this;return(0,u.Z)(function*(){var At;if(null===ut._heartbeatsCache&&(yield ut._heartbeatsCachePromise),null==(null===(At=ut._heartbeatsCache)||void 0===At?void 0:At.heartbeats)||0===ut._heartbeatsCache.heartbeats.length)return"";const $t=zn(),{heartbeatsToSend:Ut,unsentEntries:An}=function Wr(Ct,ut=1024){const At=[];let $t=Ct.slice();for(const Ut of Ct){const An=At.find(qn=>qn.agent===Ut.agent);if(An){if(An.dates.push(Ut.date),qr(At)>ut){An.dates.pop();break}}else if(At.push({agent:Ut.agent,dates:[Ut.date]}),qr(At)>ut){At.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:At,unsentEntries:$t}}(ut._heartbeatsCache.heartbeats),qn=(0,ne.L)(JSON.stringify({version:2,heartbeats:Ut}));return ut._heartbeatsCache.lastSentHeartbeatDate=$t,An.length>0?(ut._heartbeatsCache.heartbeats=An,yield ut._storage.overwrite(ut._heartbeatsCache)):(ut._heartbeatsCache.heartbeats=[],ut._storage.overwrite(ut._heartbeatsCache)),qn})()}}function zn(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(ut){this.app=ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ut=this;return(0,u.Z)(function*(){if(yield ut._canUseIndexedDBPromise){const $t=yield function ot(Ct){return qe.apply(this,arguments)}(ut.app);return null!=$t&&$t.heartbeats?$t:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ut){var At=this;return(0,u.Z)(function*(){var $t;if(yield At._canUseIndexedDBPromise){const An=yield At.read();return Bt(At.app,{lastSentHeartbeatDate:null!==($t=ut.lastSentHeartbeatDate)&&void 0!==$t?$t:An.lastSentHeartbeatDate,heartbeats:ut.heartbeats})}})()}add(ut){var At=this;return(0,u.Z)(function*(){var $t;if(yield At._canUseIndexedDBPromise){const An=yield At.read();return Bt(At.app,{lastSentHeartbeatDate:null!==($t=ut.lastSentHeartbeatDate)&&void 0!==$t?$t:An.lastSentHeartbeatDate,heartbeats:[...An.heartbeats,...ut.heartbeats]})}})()}}function qr(Ct){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Ct})).length}!function Si(Ct){Br(new k.wA("platform-logger",ut=>new Qe(ut),"PRIVATE")),Br(new k.wA("heartbeat",ut=>new pr(ut),"PRIVATE")),$r(tt,"0.9.27",Ct),$r(tt,"0.9.27","esm2017"),$r("fire-js","")}("")},4537:(Yt,et,N)=>{"use strict";N.d(et,{H0:()=>Ue,wA:()=>Y});var u=N(5861),k=N(9058);class Y{constructor(_e,se,Me){this.name=_e,this.instanceFactory=se,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const ne="[DEFAULT]";class Te{constructor(_e,se){this.name=_e,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const se=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(se)){const Me=new k.BH;if(this.instancesDeferred.set(se,Me),this.isInitialized(se)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:se});Oe&&Me.resolve(Oe)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(_e){var se;const Me=this.normalizeInstanceIdentifier(null==_e?void 0:_e.identifier),Oe=null!==(se=null==_e?void 0:_e.optional)&&void 0!==se&&se;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(ke){if(Oe)return null;throw ke}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function ue(je){return"EAGER"===je.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[se,Me]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(se);try{const ke=this.getOrInitializeService({instanceIdentifier:Oe});Me.resolve(ke)}catch{}}}}clearInstance(_e=ne){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,u.Z)(function*(){const se=Array.from(_e.instances.values());yield Promise.all([...se.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...se.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=ne){return this.instances.has(_e)}getOptions(_e=ne){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:se={}}=_e,Me=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Me,options:se});for(const[ke,Ne]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(ke)&&Ne.resolve(Oe);return Oe}onInit(_e,se){var Me;const Oe=this.normalizeInstanceIdentifier(se),ke=null!==(Me=this.onInitCallbacks.get(Oe))&&void 0!==Me?Me:new Set;ke.add(_e),this.onInitCallbacks.set(Oe,ke);const Ne=this.instances.get(Oe);return Ne&&_e(Ne,Oe),()=>{ke.delete(_e)}}invokeOnInitCallbacks(_e,se){const Me=this.onInitCallbacks.get(se);if(Me)for(const Oe of Me)try{Oe(_e,se)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:se={}}){let Me=this.instances.get(_e);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(je=_e,je===ne?void 0:je),options:se}),this.instances.set(_e,Me),this.instancesOptions.set(_e,se),this.invokeOnInitCallbacks(Me,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Me)}catch{}var je;return Me||null}normalizeInstanceIdentifier(_e=ne){return this.component?this.component.multipleInstances?_e:ne:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const se=this.getProvider(_e.name);if(se.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);se.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const se=new Te(_e,this);return this.providers.set(_e,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(Yt,et,N)=>{"use strict";N.d(et,{Am:()=>je,Ub:()=>Ue,Yd:()=>ue,in:()=>k});const u=[];var k=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(k||{});const Y={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ne=k.INFO,Te={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},fe=(_e,se,...Me)=>{if(se<_e.logLevel)return;const Oe=(new Date).toISOString(),ke=Te[se];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[ke](`[${Oe}]  ${_e.name}:`,...Me)};class ue{constructor(se){this.name=se,this._logLevel=ne,this._logHandler=fe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in k))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?Y[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...se),this._logHandler(this,k.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...se),this._logHandler(this,k.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,k.INFO,...se),this._logHandler(this,k.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,k.WARN,...se),this._logHandler(this,k.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...se),this._logHandler(this,k.ERROR,...se)}}function Ue(_e){u.forEach(se=>{se.setLogLevel(_e)})}function je(_e,se){for(const Me of u){let Oe=null;se&&se.level&&(Oe=Y[se.level]),Me.userLogHandler=null===_e?null:(ke,Ne,...it)=>{const xe=it.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Ne>=(null!=Oe?Oe:ke.logLevel)&&_e({level:k[Ne].toLowerCase(),message:xe,args:it,type:ke.name})}}}},5472:(Yt,et,N)=>{"use strict";N.d(et,{y4:()=>Br,De:()=>En,dy:()=>Wn,oU:()=>$t,ki:()=>Fe,O1:()=>_r,d8:()=>_t,jP:()=>Wr,UN:()=>Vn,r4:()=>er,SH:()=>yn,xs:()=>dr,j:()=>Ut,H:()=>An,bk:()=>Ui,DN:()=>Ct,Wn:()=>Ri,vk:()=>Cr});var u=N(5861),k=N(9212),Y=N(4934),ne=N(6814);class Te{constructor(){this.m=new Map}reset(ve){this.m=new Map(Object.entries(ve))}get(ve,H){const ie=this.m.get(ve);return void 0!==ie?ie:H}getBoolean(ve,H=!1){const ie=this.m.get(ve);return void 0===ie?H:"string"==typeof ie?"true"===ie:!!ie}getNumber(ve,H){const ie=parseFloat(this.m.get(ve));return isNaN(ie)?void 0!==H?H:NaN:ie}set(ve,H){this.m.set(ve,H)}}const fe=new Te,Oe=me=>Ne(me),Ne=(me=window)=>{if(typeof me>"u")return[];me.Ionic=me.Ionic||{};let ve=me.Ionic.platforms;return null==ve&&(ve=me.Ionic.platforms=it(me),ve.forEach(H=>me.document.documentElement.classList.add(`plt-${H}`))),ve},it=me=>{const ve=fe.get("platform");return Object.keys(Cn).filter(H=>{const ie=null==ve?void 0:ve[H];return"function"==typeof ie?ie(me):Cn[H](me)})},Pe=me=>!!(Et(me,/iPad/i)||Et(me,/Macintosh/i)&&z(me)),ze=me=>Et(me,/android|sink/i),z=me=>sn(me,"(any-pointer:coarse)"),ae=me=>W(me)||Qe(me),W=me=>!!(me.cordova||me.phonegap||me.PhoneGap),Qe=me=>{const ve=me.Capacitor;return!(null==ve||!ve.isNative)},Et=(me,ve)=>ve.test(me.navigator.userAgent),sn=(me,ve)=>{var H;return null===(H=me.matchMedia)||void 0===H?void 0:H.call(me,ve).matches},Cn={ipad:Pe,iphone:me=>Et(me,/iPhone/i),ios:me=>Et(me,/iPhone|iPod/i)||Pe(me),android:ze,phablet:me=>{const ve=me.innerWidth,H=me.innerHeight,ie=Math.min(ve,H),rt=Math.max(ve,H);return ie>390&&ie<520&&rt>620&&rt<800},tablet:me=>{const ve=me.innerWidth,H=me.innerHeight,ie=Math.min(ve,H),rt=Math.max(ve,H);return Pe(me)||(me=>ze(me)&&!Et(me,/mobile/i))(me)||ie>460&&ie<820&&rt>780&&rt<1400},cordova:W,capacitor:Qe,electron:me=>Et(me,/electron/i),pwa:me=>{var ve;return!!(null!==(ve=me.matchMedia)&&void 0!==ve&&ve.call(me,"(display-mode: standalone)").matches||me.navigator.standalone)},mobile:z,mobileweb:me=>z(me)&&!ae(me),desktop:me=>!z(me),hybrid:ae};var ge=N(191),Be=N(3630),Ce=N(8645),Ke=N(2438),wt=N(5619),St=N(2572),Mt=N(2096),at=N(7582),Zt=N(2181),an=N(4664),mt=N(3997),ht=N(95);const ct=["tabsInner"];let Pt=(()=>{class me{constructor(H,ie){this.doc=H,this.backButton=new Ce.x,this.keyboardDidShow=new Ce.x,this.keyboardDidHide=new Ce.x,this.pause=new Ce.x,this.resume=new Ce.x,this.resize=new Ce.x,ie.run(()=>{var rt;let Rt;this.win=H.defaultView,this.backButton.subscribeWithPriority=function(zt,nn){return this.subscribe(Mn=>Mn.register(zt,on=>ie.run(()=>nn(on))))},Pn(this.pause,H,"pause",ie),Pn(this.resume,H,"resume",ie),Pn(this.backButton,H,"ionBackButton",ie),Pn(this.resize,this.win,"resize",ie),Pn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ie),Pn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ie),this._readyPromise=new Promise(zt=>{Rt=zt}),null!==(rt=this.win)&&void 0!==rt&&rt.cordova?H.addEventListener("deviceready",()=>{Rt("cordova")},{once:!0}):Rt("dom")})}is(H){return((me,ve)=>("string"==typeof me&&(ve=me,me=void 0),Oe(me).includes(ve)))(this.win,H)}platforms(){return Oe(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(H){return Xt(this.win.location.href,H)}isLandscape(){return!this.isPortrait()}isPortrait(){var H,ie;return null===(H=(ie=this.win).matchMedia)||void 0===H?void 0:H.call(ie,"(orientation: portrait)").matches}testUserAgent(H){const ie=this.win.navigator;return!!(null!=ie&&ie.userAgent&&ie.userAgent.indexOf(H)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return me.\u0275fac=function(H){return new(H||me)(k.LFG(ne.K0),k.LFG(k.R0b))},me.\u0275prov=k.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Xt=(me,ve)=>{ve=ve.replace(/[[\]\\]/g,"\\$&");const ie=new RegExp("[\\?&]"+ve+"=([^&#]*)").exec(me);return ie?decodeURIComponent(ie[1].replace(/\+/g," ")):null},Pn=(me,ve,H,ie)=>{ve&&ve.addEventListener(H,rt=>{ie.run(()=>{me.next(null!=rt?rt.detail:void 0)})})};let yn=(()=>{class me{constructor(H,ie,rt,Rt){this.location=ie,this.serializer=rt,this.router=Rt,this.direction=Fn,this.animated=Nn,this.guessDirection="forward",this.lastNavId=-1,Rt&&Rt.events.subscribe(zt=>{if(zt instanceof Y.OD){const nn=zt.restoredState?zt.restoredState.navigationId:zt.id;this.guessDirection=nn<this.lastNavId?"back":"forward",this.guessAnimation=zt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?zt.id:nn}}),H.backButton.subscribeWithPriority(0,zt=>{this.pop(),zt()})}navigateForward(H,ie={}){return this.setDirection("forward",ie.animated,ie.animationDirection,ie.animation),this.navigate(H,ie)}navigateBack(H,ie={}){return this.setDirection("back",ie.animated,ie.animationDirection,ie.animation),this.navigate(H,ie)}navigateRoot(H,ie={}){return this.setDirection("root",ie.animated,ie.animationDirection,ie.animation),this.navigate(H,ie)}back(H={animated:!0,animationDirection:"back"}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.location.back()}pop(){var H=this;return(0,u.Z)(function*(){let ie=H.topOutlet;for(;ie;){if(yield ie.pop())return!0;ie=ie.parentOutlet}return!1})()}setDirection(H,ie,rt,Rt){this.direction=H,this.animated=fr(H,ie,rt),this.animationBuilder=Rt}setTopOutlet(H){this.topOutlet=H}consumeTransition(){let ie,H="root";const rt=this.animationBuilder;return"auto"===this.direction?(H=this.guessDirection,ie=this.guessAnimation):(ie=this.animated,H=this.direction),this.direction=Fn,this.animated=Nn,this.animationBuilder=void 0,{direction:H,animation:ie,animationBuilder:rt}}navigate(H,ie){if(Array.isArray(H))return this.router.navigate(H,ie);{const rt=this.serializer.parse(H.toString());return void 0!==ie.queryParams&&(rt.queryParams={...ie.queryParams}),void 0!==ie.fragment&&(rt.fragment=ie.fragment),this.router.navigateByUrl(rt,ie)}}}return me.\u0275fac=function(H){return new(H||me)(k.LFG(Pt),k.LFG(ne.Ye),k.LFG(Y.Hx),k.LFG(Y.F0,8))},me.\u0275prov=k.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const fr=(me,ve,H)=>{if(!1!==ve){if(void 0!==H)return H;if("forward"===me||"back"===me)return me;if("root"===me&&!0===ve)return"forward"}},Fn="auto",Nn=void 0;let En=(()=>{class me{get(H,ie){const rt=lr();return rt?rt.get(H,ie):null}getBoolean(H,ie){const rt=lr();return!!rt&&rt.getBoolean(H,ie)}getNumber(H,ie){const rt=lr();return rt?rt.getNumber(H,ie):0}}return me.\u0275fac=function(H){return new(H||me)},me.\u0275prov=k.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Wn=new k.OlP("USERCONFIG"),lr=()=>{if(typeof window<"u"){const me=window.Ionic;if(null!=me&&me.config)return me.config}return null};class Tn{constructor(ve={}){this.data=ve}get(ve){return this.data[ve]}}let Br=(()=>{class me{constructor(){this.zone=(0,k.f3M)(k.R0b),this.applicationRef=(0,k.f3M)(k.z2F)}create(H,ie,rt){return new dn(H,ie,this.applicationRef,this.zone,rt)}}return me.\u0275fac=function(H){return new(H||me)},me.\u0275prov=k.Yz7({token:me,factory:me.\u0275fac}),me})();class dn{constructor(ve,H,ie,rt,Rt){this.environmentInjector=ve,this.injector=H,this.applicationRef=ie,this.zone=rt,this.elementReferenceKey=Rt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ve,H,ie,rt){return this.zone.run(()=>new Promise(Rt=>{const zt={...ie};void 0!==this.elementReferenceKey&&(zt[this.elementReferenceKey]=ve),Rt(Kr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ve,H,zt,rt,this.elementReferenceKey))}))}removeViewFromDom(ve,H){return this.zone.run(()=>new Promise(ie=>{const rt=this.elRefMap.get(H);if(rt){rt.destroy(),this.elRefMap.delete(H);const Rt=this.elEventsMap.get(H);Rt&&(Rt(),this.elEventsMap.delete(H))}ie()}))}}const Kr=(me,ve,H,ie,rt,Rt,zt,nn,Mn,on,ei)=>{const gt=k.zs3.create({providers:en(Mn),parent:H}),$=(0,k.LMc)(nn,{environmentInjector:ve,elementInjector:gt}),Q=$.instance,Le=$.location.nativeElement;if(Mn&&(ei&&void 0!==Q[ei]&&console.error(`[Ionic Error]: ${ei} is a reserved property when using ${zt.tagName.toLowerCase()}. Rename or remove the "${ei}" property from ${nn.name}.`),Object.assign(Q,Mn)),on)for(const dt of on)Le.classList.add(dt);const Ge=xr(me,Q,Le);return zt.appendChild(Le),ie.attachView($.hostView),rt.set(Le,$),Rt.set(Le,Ge),Le},ir=[ge.L,ge.a,ge.b,ge.c,ge.d],xr=(me,ve,H)=>me.run(()=>{const ie=ir.filter(rt=>"function"==typeof ve[rt]).map(rt=>{const Rt=zt=>ve[rt](zt.detail);return H.addEventListener(rt,Rt),()=>H.removeEventListener(rt,Rt)});return()=>ie.forEach(rt=>rt())}),xn=new k.OlP("NavParamsToken"),en=me=>[{provide:xn,useValue:me},{provide:Tn,useFactory:Zr,deps:[xn]}],Zr=me=>new Tn(me),$i=(me,ve)=>{const H=me.prototype;ve.forEach(ie=>{Object.defineProperty(H,ie,{get(){return this.el[ie]},set(rt){this.z.runOutsideAngular(()=>this.el[ie]=rt)}})})},Lr=(me,ve)=>{const H=me.prototype;ve.forEach(ie=>{H[ie]=function(){const rt=arguments;return this.z.runOutsideAngular(()=>this.el[ie].apply(this.el,rt))}})},Qr=(me,ve,H)=>{H.forEach(ie=>me[ie]=(0,Ke.R)(ve,ie))};function Or(me){return function(H){const{defineCustomElementFn:ie,inputs:rt,methods:Rt}=me;return void 0!==ie&&ie(),rt&&$i(H,rt),Rt&&Lr(H,Rt),H}}const Gr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],$r=["present","dismiss","onDidDismiss","onWillDismiss"];let _t=(()=>{let me=class{constructor(H,ie,rt){this.z=rt,this.isCmpOpen=!1,this.el=ie.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),Qr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return me.\u0275fac=function(H){return new(H||me)(k.Y36(k.sBO),k.Y36(k.SBq),k.Y36(k.R0b))},me.\u0275dir=k.lG2({type:me,selectors:[["ion-popover"]],contentQueries:function(H,ie,rt){if(1&H&&k.Suo(rt,k.Rgc,5),2&H){let Rt;k.iGM(Rt=k.CRH())&&(ie.template=Rt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),me=(0,at.gn)([Or({inputs:Gr,methods:$r})],me),me})();const Ze=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Xe=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Fe=(()=>{let me=class{constructor(H,ie,rt){this.z=rt,this.isCmpOpen=!1,this.el=ie.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),Qr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return me.\u0275fac=function(H){return new(H||me)(k.Y36(k.sBO),k.Y36(k.SBq),k.Y36(k.R0b))},me.\u0275dir=k.lG2({type:me,selectors:[["ion-modal"]],contentQueries:function(H,ie,rt){if(1&H&&k.Suo(rt,k.Rgc,5),2&H){let Rt;k.iGM(Rt=k.CRH())&&(ie.template=Rt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),me=(0,at.gn)([Or({inputs:Ze,methods:Xe})],me),me})();const oe=(me,ve)=>((me=me.filter(H=>H.stackId!==ve.stackId)).push(ve),me),qe=(me,ve)=>{const H=me.createUrlTree(["."],{relativeTo:ve});return me.serializeUrl(H)},Bt=(me,ve)=>!ve||me.stackId!==ve.stackId,tn=(me,ve)=>{if(!me)return;const H=Rn(ve);for(let ie=0;ie<H.length;ie++){if(ie>=me.length)return H[ie];if(H[ie]!==me[ie])return}},Rn=me=>me.split("/").map(ve=>ve.trim()).filter(ve=>""!==ve),Rr=me=>{me&&(me.ref.destroy(),me.unlistenEvents())};class Mr{constructor(ve,H,ie,rt,Rt,zt){this.containerEl=H,this.router=ie,this.navCtrl=rt,this.zone=Rt,this.location=zt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ve?Rn(ve):void 0}createView(ve,H){var ie;const rt=qe(this.router,H),Rt=null==ve||null===(ie=ve.location)||void 0===ie?void 0:ie.nativeElement,zt=xr(this.zone,ve.instance,Rt);return{id:this.nextId++,stackId:tn(this.tabsPrefix,rt),unlistenEvents:zt,element:Rt,ref:ve,url:rt}}getExistingView(ve){const H=qe(this.router,ve),ie=this.views.find(rt=>rt.url===H);return ie&&ie.ref.changeDetectorRef.reattach(),ie}setActive(ve){var H,ie;const rt=this.navCtrl.consumeTransition();let{direction:Rt,animation:zt,animationBuilder:nn}=rt;const Mn=this.activeView,on=Bt(ve,Mn);on&&(Rt="back",zt=void 0);const ei=this.views.slice();let gt;const $=this.router;$.getCurrentNavigation?gt=$.getCurrentNavigation():null!==(H=$.navigations)&&void 0!==H&&H.value&&(gt=$.navigations.value),null!==(ie=gt)&&void 0!==ie&&null!==(ie=ie.extras)&&void 0!==ie&&ie.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Q=this.views.includes(ve),Le=this.insertView(ve,Rt);Q||ve.ref.changeDetectorRef.detectChanges();const Ge=ve.animationBuilder;return void 0===nn&&"back"===Rt&&!on&&void 0!==Ge&&(nn=Ge),Mn&&(Mn.animationBuilder=nn),this.zone.runOutsideAngular(()=>this.wait(()=>(Mn&&Mn.ref.changeDetectorRef.detach(),ve.ref.changeDetectorRef.reattach(),this.transition(ve,Mn,zt,this.canGoBack(1),!1,nn).then(()=>pr(ve,Le,ei,this.location,this.zone)).then(()=>({enteringView:ve,direction:Rt,animation:zt,tabSwitch:on})))))}canGoBack(ve,H=this.getActiveStackId()){return this.getStack(H).length>ve}pop(ve,H=this.getActiveStackId()){return this.zone.run(()=>{const ie=this.getStack(H);if(ie.length<=ve)return Promise.resolve(!1);const rt=ie[ie.length-ve-1];let Rt=rt.url;const zt=rt.savedData;if(zt){var nn;const on=zt.get("primary");null!=on&&null!==(nn=on.route)&&void 0!==nn&&null!==(nn=nn._routerState)&&void 0!==nn&&nn.snapshot.url&&(Rt=on.route._routerState.snapshot.url)}const{animationBuilder:Mn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Rt,{...rt.savedExtras,animation:Mn}).then(()=>!0)})}startBackTransition(){const ve=this.activeView;if(ve){const H=this.getStack(ve.stackId),ie=H[H.length-2],rt=ie.animationBuilder;return this.wait(()=>this.transition(ie,ve,"back",this.canGoBack(2),!0,rt))}return Promise.resolve()}endBackTransition(ve){ve?(this.skipTransition=!0,this.pop(1)):this.activeView&&zn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ve){const H=this.getStack(ve);return H.length>0?H[H.length-1]:void 0}getRootUrl(ve){const H=this.getStack(ve);return H.length>0?H[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Rr),this.activeView=void 0,this.views=[]}getStack(ve){return this.views.filter(H=>H.stackId===ve)}insertView(ve,H){return this.activeView=ve,this.views=((me,ve,H)=>"root"===H?oe(me,ve):"forward"===H?((me,ve)=>(me.indexOf(ve)>=0?me=me.filter(ie=>ie.stackId!==ve.stackId||ie.id<=ve.id):me.push(ve),me))(me,ve):((me,ve)=>me.indexOf(ve)>=0?me.filter(ie=>ie.stackId!==ve.stackId||ie.id<=ve.id):oe(me,ve))(me,ve))(this.views,ve,H),this.views.slice()}transition(ve,H,ie,rt,Rt,zt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(H===ve)return Promise.resolve(!1);const nn=ve?ve.element:void 0,Mn=H?H.element:void 0,on=this.containerEl;return nn&&nn!==Mn&&(nn.classList.add("ion-page"),nn.classList.add("ion-page-invisible"),nn.parentElement!==on&&on.appendChild(nn),on.commit)?on.commit(nn,Mn,{duration:void 0===ie?0:void 0,direction:ie,showGoBack:rt,progressAnimation:Rt,animationBuilder:zt}):Promise.resolve(!1)}wait(ve){var H=this;return(0,u.Z)(function*(){void 0!==H.runningTask&&(yield H.runningTask,H.runningTask=void 0);const ie=H.runningTask=ve();return ie.finally(()=>H.runningTask=void 0),ie})()}}const pr=(me,ve,H,ie,rt)=>"function"==typeof requestAnimationFrame?new Promise(Rt=>{requestAnimationFrame(()=>{zn(me,ve,H,ie,rt),Rt()})}):Promise.resolve(),zn=(me,ve,H,ie,rt)=>{rt.run(()=>H.filter(Rt=>!ve.includes(Rt)).forEach(Rr)),ve.forEach(Rt=>{const nn=ie.path().split("?")[0].split("#")[0];if(Rt!==me&&Rt.url!==nn){const Mn=Rt.element;Mn.setAttribute("aria-hidden","true"),Mn.classList.add("ion-page-hidden"),Rt.ref.changeDetectorRef.detach()}})};let Wr=(()=>{class me{constructor(H,ie,rt,Rt,zt,nn,Mn,on){this.parentOutlet=on,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new wt.X(null),this.activated=null,this._activatedRoute=null,this.name=Y.eC,this.stackWillChange=new k.vpe,this.stackDidChange=new k.vpe,this.activateEvents=new k.vpe,this.deactivateEvents=new k.vpe,this.parentContexts=(0,k.f3M)(Y.y6),this.location=(0,k.f3M)(k.s_b),this.environmentInjector=(0,k.f3M)(k.lqb),this.inputBinder=(0,k.f3M)(qr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,k.f3M)(En),this.navCtrl=(0,k.f3M)(yn),this.nativeEl=Rt.nativeElement,this.name=H||Y.eC,this.tabsPrefix="true"===ie?qe(zt,Mn):void 0,this.stackCtrl=new Mr(this.tabsPrefix,this.nativeEl,zt,this.navCtrl,nn,rt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(H){this.nativeEl.animation=H}set animated(H){this.nativeEl.animated=H}set swipeGesture(H){this._swipeGesture=H,this.nativeEl.swipeHandler=H?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ie=>this.stackCtrl.endBackTransition(ie)}:void 0}ngOnDestroy(){var H;this.stackCtrl.destroy(),null===(H=this.inputBinder)||void 0===H||H.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const H=this.getContext();null!=H&&H.route&&this.activateWith(H.route,H.injector)}new Promise(H=>(0,Be.c)(this.nativeEl,H)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(H,ie){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ie=this.getContext();this.activatedView.savedData=new Map(ie.children.contexts);const rt=this.activatedView.savedData.get("primary");if(rt&&ie.route&&(rt.route={...ie.route}),this.activatedView.savedExtras={},ie.route){const Rt=ie.route.snapshot;this.activatedView.savedExtras.queryParams=Rt.queryParams,this.activatedView.savedExtras.fragment=Rt.fragment}}const H=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,ie){var rt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=H;let Rt,zt=this.stackCtrl.getExistingView(H);if(zt){Rt=this.activated=zt.ref;const on=zt.savedData;on&&(this.getContext().children.contexts=on),this.updateActivatedRouteProxy(Rt.instance,H)}else{var nn;const on=H._futureSnapshot,ei=this.parentContexts.getOrCreateContext(this.name).children,gt=new wt.X(null),$=this.createActivatedRouteProxy(gt,H),Q=new Ai($,ei,this.location.injector),Le=null!==(nn=on.routeConfig.component)&&void 0!==nn?nn:on.component;Rt=this.activated=this.location.createComponent(Le,{index:this.location.length,injector:Q,environmentInjector:null!=ie?ie:this.environmentInjector}),gt.next(Rt.instance),zt=this.stackCtrl.createView(this.activated,H),this.proxyMap.set(Rt.instance,$),this.currentActivatedRoute$.next({component:Rt.instance,activatedRoute:H})}null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.activatedView=zt,this.navCtrl.setTopOutlet(this);const Mn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:zt,tabSwitch:Bt(zt,Mn)}),this.stackCtrl.setActive(zt).then(on=>{this.activateEvents.emit(Rt.instance),this.stackDidChange.emit(on)})}canGoBack(H=1,ie){return this.stackCtrl.canGoBack(H,ie)}pop(H=1,ie){return this.stackCtrl.pop(H,ie)}getLastUrl(H){const ie=this.stackCtrl.getLastUrl(H);return ie?ie.url:void 0}getLastRouteView(H){return this.stackCtrl.getLastUrl(H)}getRootView(H){return this.stackCtrl.getRootUrl(H)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(H,ie){const rt=new Y.gz;return rt._futureSnapshot=ie._futureSnapshot,rt._routerState=ie._routerState,rt.snapshot=ie.snapshot,rt.outlet=ie.outlet,rt.component=ie.component,rt._paramMap=this.proxyObservable(H,"paramMap"),rt._queryParamMap=this.proxyObservable(H,"queryParamMap"),rt.url=this.proxyObservable(H,"url"),rt.params=this.proxyObservable(H,"params"),rt.queryParams=this.proxyObservable(H,"queryParams"),rt.fragment=this.proxyObservable(H,"fragment"),rt.data=this.proxyObservable(H,"data"),rt}proxyObservable(H,ie){return H.pipe((0,Zt.h)(rt=>!!rt),(0,an.w)(rt=>this.currentActivatedRoute$.pipe((0,Zt.h)(Rt=>null!==Rt&&Rt.component===rt),(0,an.w)(Rt=>Rt&&Rt.activatedRoute[ie]),(0,mt.x)())))}updateActivatedRouteProxy(H,ie){const rt=this.proxyMap.get(H);if(!rt)throw new Error("Could not find activated route proxy for view");rt._futureSnapshot=ie._futureSnapshot,rt._routerState=ie._routerState,rt.snapshot=ie.snapshot,rt.outlet=ie.outlet,rt.component=ie.component,this.currentActivatedRoute$.next({component:H,activatedRoute:ie})}}return me.\u0275fac=function(H){return new(H||me)(k.$8M("name"),k.$8M("tabs"),k.Y36(ne.Ye),k.Y36(k.SBq),k.Y36(Y.F0),k.Y36(k.R0b),k.Y36(Y.gz),k.Y36(me,12))},me.\u0275dir=k.lG2({type:me,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),me})();class Ai{constructor(ve,H,ie){this.route=ve,this.childContexts=H,this.parent=ie}get(ve,H){return ve===Y.gz?this.route:ve===Y.y6?this.childContexts:this.parent.get(ve,H)}}const qr=new k.OlP("");let Si=(()=>{class me{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(H){this.unsubscribeFromRouteData(H),this.subscribeToRouteData(H)}unsubscribeFromRouteData(H){var ie;null===(ie=this.outletDataSubscriptions.get(H))||void 0===ie||ie.unsubscribe(),this.outletDataSubscriptions.delete(H)}subscribeToRouteData(H){const{activatedRoute:ie}=H,rt=(0,St.a)([ie.queryParams,ie.params,ie.data]).pipe((0,an.w)(([Rt,zt,nn],Mn)=>(nn={...Rt,...zt,...nn},0===Mn?(0,Mt.of)(nn):Promise.resolve(nn)))).subscribe(Rt=>{if(!H.isActivated||!H.activatedComponentRef||H.activatedRoute!==ie||null===ie.component)return void this.unsubscribeFromRouteData(H);const zt=(0,k.qFp)(ie.component);if(zt)for(const{templateName:nn}of zt.inputs)H.activatedComponentRef.setInput(nn,Rt[nn]);else this.unsubscribeFromRouteData(H)});this.outletDataSubscriptions.set(H,rt)}}return me.\u0275fac=function(H){return new(H||me)},me.\u0275prov=k.Yz7({token:me,factory:me.\u0275fac}),me})();const Ct=()=>({provide:qr,useFactory:ut,deps:[Y.F0]});function ut(me){return null!=me&&me.componentInputBindingEnabled?new Si:null}const At=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let $t=(()=>{let me=class{constructor(H,ie,rt,Rt,zt,nn){this.routerOutlet=H,this.navCtrl=ie,this.config=rt,this.r=Rt,this.z=zt,nn.detach(),this.el=this.r.nativeElement}onClick(H){var ie;const rt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ie=this.routerOutlet)&&void 0!==ie&&ie.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),H.preventDefault()):null!=rt&&(this.navCtrl.navigateBack(rt,{animation:this.routerAnimation}),H.preventDefault())}};return me.\u0275fac=function(H){return new(H||me)(k.Y36(Wr,8),k.Y36(yn),k.Y36(En),k.Y36(k.SBq),k.Y36(k.R0b),k.Y36(k.sBO))},me.\u0275dir=k.lG2({type:me,hostBindings:function(H,ie){1&H&&k.NdJ("click",function(Rt){return ie.onClick(Rt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),me=(0,at.gn)([Or({inputs:At})],me),me})(),Ut=(()=>{class me{constructor(H,ie,rt,Rt,zt){this.locationStrategy=H,this.navCtrl=ie,this.elementRef=rt,this.router=Rt,this.routerLink=zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var H;if(null!==(H=this.routerLink)&&void 0!==H&&H.urlTree){const ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ie}}onClick(H){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),H.preventDefault()}}return me.\u0275fac=function(H){return new(H||me)(k.Y36(ne.S$),k.Y36(yn),k.Y36(k.SBq),k.Y36(Y.F0),k.Y36(Y.rH,8))},me.\u0275dir=k.lG2({type:me,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(H,ie){1&H&&k.NdJ("click",function(Rt){return ie.onClick(Rt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[k.TTD]}),me})(),An=(()=>{class me{constructor(H,ie,rt,Rt,zt){this.locationStrategy=H,this.navCtrl=ie,this.elementRef=rt,this.router=Rt,this.routerLink=zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var H;if(null!==(H=this.routerLink)&&void 0!==H&&H.urlTree){const ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ie}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return me.\u0275fac=function(H){return new(H||me)(k.Y36(ne.S$),k.Y36(yn),k.Y36(k.SBq),k.Y36(Y.F0),k.Y36(Y.rH,8))},me.\u0275dir=k.lG2({type:me,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(H,ie){1&H&&k.NdJ("click",function(){return ie.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[k.TTD]}),me})();const qn=["animated","animation","root","rootParams","swipeGesture"],Ur=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let _r=(()=>{let me=class{constructor(H,ie,rt,Rt,zt,nn){this.z=zt,nn.detach(),this.el=H.nativeElement,H.nativeElement.delegate=Rt.create(ie,rt),Qr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return me.\u0275fac=function(H){return new(H||me)(k.Y36(k.SBq),k.Y36(k.lqb),k.Y36(k.zs3),k.Y36(Br),k.Y36(k.R0b),k.Y36(k.sBO))},me.\u0275dir=k.lG2({type:me,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),me=(0,at.gn)([Or({inputs:qn,methods:Ur})],me),me})(),Vn=(()=>{class me{constructor(H){this.navCtrl=H,this.ionTabsWillChange=new k.vpe,this.ionTabsDidChange=new k.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:H,tabSwitch:ie}){const rt=H.stackId;ie&&void 0!==rt&&this.ionTabsWillChange.emit({tab:rt})}onStackDidChange({enteringView:H,tabSwitch:ie}){const rt=H.stackId;ie&&void 0!==rt&&(this.tabBar&&(this.tabBar.selectedTab=rt),this.ionTabsDidChange.emit({tab:rt}))}select(H){const ie="string"==typeof H,rt=ie?H:H.detail.tab,Rt=this.outlet.getActiveStackId()===rt,zt=`${this.outlet.tabsPrefix}/${rt}`;if(ie||H.stopPropagation(),Rt){const nn=this.outlet.getActiveStackId(),Mn=this.outlet.getLastRouteView(nn);if((null==Mn?void 0:Mn.url)===zt)return;const on=this.outlet.getRootView(rt);return this.navCtrl.navigateRoot(zt,{...on&&zt===on.url&&on.savedExtras,animated:!0,animationDirection:"back"})}{const nn=this.outlet.getLastRouteView(rt);return this.navCtrl.navigateRoot((null==nn?void 0:nn.url)||zt,{...null==nn?void 0:nn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(H=>{const ie=H.el.getAttribute("slot");ie!==this.tabBarSlot&&(this.tabBarSlot=ie,this.relocateTabBar())})}relocateTabBar(){const H=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(H):this.tabsInner.nativeElement.after(H)}}return me.\u0275fac=function(H){return new(H||me)(k.Y36(yn))},me.\u0275dir=k.lG2({type:me,selectors:[["ion-tabs"]],viewQuery:function(H,ie){if(1&H&&k.Gf(ct,7,k.SBq),2&H){let rt;k.iGM(rt=k.CRH())&&(ie.tabsInner=rt.first)}},hostBindings:function(H,ie){1&H&&k.NdJ("ionTabButtonClick",function(Rt){return ie.select(Rt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),me})();const Ri=me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(me):"function"==typeof requestAnimationFrame?requestAnimationFrame(me):setTimeout(me);let Ui=(()=>{class me{constructor(H,ie){this.injector=H,this.elementRef=ie,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(H){this.elementRef.nativeElement.value=this.lastValue=H,Cr(this.elementRef)}handleValueChange(H,ie){H===this.elementRef.nativeElement&&(ie!==this.lastValue&&(this.lastValue=ie,this.onChange(ie)),Cr(this.elementRef))}_handleBlurEvent(H){H===this.elementRef.nativeElement&&(this.onTouched(),Cr(this.elementRef))}registerOnChange(H){this.onChange=H}registerOnTouched(H){this.onTouched=H}setDisabledState(H){this.elementRef.nativeElement.disabled=H}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let H;try{H=this.injector.get(ht.a5)}catch{}if(!H)return;H.statusChanges&&(this.statusChanges=H.statusChanges.subscribe(()=>Cr(this.elementRef)));const ie=H.control;ie&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Rt=>{if(typeof ie[Rt]<"u"){const zt=ie[Rt].bind(ie);ie[Rt]=(...nn)=>{zt(...nn),Cr(this.elementRef)}}})}}return me.\u0275fac=function(H){return new(H||me)(k.Y36(k.zs3),k.Y36(k.SBq))},me.\u0275dir=k.lG2({type:me,hostBindings:function(H,ie){1&H&&k.NdJ("ionBlur",function(Rt){return ie._handleBlurEvent(Rt.target)})}}),me})();const Cr=me=>{Ri(()=>{const ve=me.nativeElement,H=null!=ve.value&&ve.value.toString().length>0,ie=yi(ve);hi(ve,ie);const rt=ve.closest("ion-item");rt&&hi(rt,H?[...ie,"item-has-value"]:ie)})},yi=me=>{const ve=me.classList,H=[];for(let ie=0;ie<ve.length;ie++){const rt=ve.item(ie);null!==rt&&yr(rt,"ng-")&&H.push(`ion-${rt.substring(3)}`)}return H},hi=(me,ve)=>{const H=me.classList;H.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),H.add(...ve)},yr=(me,ve)=>me.substring(0,ve.length)===ve;class er{shouldDetach(ve){return!1}shouldAttach(ve){return!1}store(ve,H){}retrieve(ve){return null}shouldReuseRoute(ve,H){if(ve.routeConfig!==H.routeConfig)return!1;const ie=ve.params,rt=H.params,Rt=Object.keys(ie),zt=Object.keys(rt);if(Rt.length!==zt.length)return!1;for(const nn of Rt)if(rt[nn]!==ie[nn])return!1;return!0}}class dr{constructor(ve){this.ctrl=ve}create(ve){return this.ctrl.create(ve||{})}dismiss(ve,H,ie){return this.ctrl.dismiss(ve,H,ie)}getTop(){return this.ctrl.getTop()}}},878:(Yt,et,N)=>{"use strict";N.d(et,{dr:()=>at,YG:()=>bt,Sm:()=>un,z0:()=>we,zc:()=>qe,jP:()=>ve,Pc:()=>gr});var u=N(9212),k=N(95),Y=N(5472),ne=N(7582),Te=N(2438),fe=N(6814),ue=N(4934),Oe=(N(1072),N(2651),N(7395),N(8490),N(6535),N(9103)),ke=N(8958),it=(N(6029),N(5374)),Pe=(N(1848),N(6393));N(2019),N(8739);const Ae=Oe.i,z=["*"],De=(T,ee)=>{const M=T.prototype;ee.forEach(le=>{Object.defineProperty(M,le,{get(){return this.el[le]},set(We){this.z.runOutsideAngular(()=>this.el[le]=We)},configurable:!0})})},J=(T,ee)=>{const M=T.prototype;ee.forEach(le=>{M[le]=function(){const We=arguments;return this.z.runOutsideAngular(()=>this.el[le].apply(this.el,We))}})},ge=(T,ee,M)=>{M.forEach(le=>T[le]=(0,Te.R)(ee,le))};function Ce(T){return function(M){const{defineCustomElementFn:le,inputs:We,methods:Ln}=T;return void 0!==le&&le(),We&&De(M,We),Ln&&J(M,Ln),M}}let at=(()=>{let T=class{constructor(M,le,We){this.z=We,M.detach(),this.el=le.nativeElement}};return T.\u0275fac=function(M){return new(M||T)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},T.\u0275cmp=u.Xpm({type:T,selectors:[["ion-app"]],ngContentSelectors:z,decls:1,vars:0,template:function(M,le){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,ne.gn)([Ce({})],T),T})(),bt=(()=>{let T=class{constructor(M,le,We){this.z=We,M.detach(),this.el=le.nativeElement,ge(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(M){return new(M||T)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},T.\u0275cmp=u.Xpm({type:T,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(M,le){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,ne.gn)([Ce({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],T),T})(),un=(()=>{let T=class{constructor(M,le,We){this.z=We,M.detach(),this.el=le.nativeElement}};return T.\u0275fac=function(M){return new(M||T)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},T.\u0275cmp=u.Xpm({type:T,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:z,decls:1,vars:0,template:function(M,le){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,ne.gn)([Ce({inputs:["collapse"]})],T),T})(),we=(()=>{let T=class{constructor(M,le,We){this.z=We,M.detach(),this.el=le.nativeElement,ge(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return T.\u0275fac=function(M){return new(M||T)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},T.\u0275cmp=u.Xpm({type:T,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(M,le){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,ne.gn)([Ce({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],T),T})(),qe=(()=>{let T=class{constructor(M,le,We){this.z=We,M.detach(),this.el=le.nativeElement}};return T.\u0275fac=function(M){return new(M||T)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},T.\u0275cmp=u.Xpm({type:T,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:z,decls:1,vars:0,template:function(M,le){1&M&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,ne.gn)([Ce({inputs:["autoHide","menu"]})],T),T})(),ve=(()=>{class T extends Y.jP{constructor(M,le,We,Ln,jr,ti,Hr,uo){super(M,le,We,Ln,jr,ti,Hr,uo),this.parentOutlet=uo}}return T.\u0275fac=function(M){return new(M||T)(u.$8M("name"),u.$8M("tabs"),u.Y36(fe.Ye),u.Y36(u.SBq),u.Y36(ue.F0),u.Y36(u.R0b),u.Y36(ue.gz),u.Y36(T,12))},T.\u0275dir=u.lG2({type:T,selectors:[["ion-router-outlet"]],features:[u.qOj]}),T})();const on={provide:k.Cf,useExisting:(0,u.Gpc)(()=>ei),multi:!0};let ei=(()=>{class T extends k.Fd{}return T.\u0275fac=(()=>{let ee;return function(le){return(ee||(ee=u.n5z(T)))(le||T)}})(),T.\u0275dir=u.lG2({type:T,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,le){2&M&&u.uIk("max",le._enabled?le.max:null)},features:[u._Bn([on]),u.qOj]}),T})();const gt={provide:k.Cf,useExisting:(0,u.Gpc)(()=>$),multi:!0};let $=(()=>{class T extends k.qQ{}return T.\u0275fac=(()=>{let ee;return function(le){return(ee||(ee=u.n5z(T)))(le||T)}})(),T.\u0275dir=u.lG2({type:T,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,le){2&M&&u.uIk("min",le._enabled?le.min:null)},features:[u._Bn([gt]),u.qOj]}),T})(),Gt=(()=>{class T extends Y.xs{constructor(){super(it.m),this.angularDelegate=(0,u.f3M)(Y.y4),this.injector=(0,u.f3M)(u.zs3),this.environmentInjector=(0,u.f3M)(u.lqb)}create(M){return super.create({...M,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac}),T})();class Ot extends Y.xs{constructor(){super(it.c),this.angularDelegate=(0,u.f3M)(Y.y4),this.injector=(0,u.f3M)(u.zs3),this.environmentInjector=(0,u.f3M)(u.lqb)}create(ee){return super.create({...ee,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const pn=(T,ee,M)=>()=>{if(ee.defaultView&&typeof window<"u"){(0,ke.s)({...T,_zoneGate:Ln=>M.run(Ln)});const We="__zone_symbol__addEventListener"in ee.body?"__zone_symbol__addEventListener":"addEventListener";return function Re(){var T=[];if(typeof window<"u"){var ee=window;(!ee.customElements||ee.Element&&(!ee.Element.prototype.closest||!ee.Element.prototype.matches||!ee.Element.prototype.remove||!ee.Element.prototype.getRootNode))&&T.push(N.e(6748).then(N.t.bind(N,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ee.NodeList&&!ee.NodeList.prototype.forEach||!ee.fetch||!function(){try{var le=new URL("b","http://a");return le.pathname="c%20d","http://a/c%20d"===le.href&&le.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&T.push(N.e(2214).then(N.t.bind(N,2668,23)))}return Promise.all(T)}().then(()=>((T,ee)=>{if(!(typeof window>"u"))return Ae(),(0,Pe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ee)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Y.Wn,jmp:Ln=>M.runOutsideAngular(Ln),ael(Ln,jr,ti,Hr){Ln[We](jr,ti,Hr)},rel(Ln,jr,ti,Hr){Ln.removeEventListener(jr,ti,Hr)}}))}};let gr=(()=>{class T{static forRoot(M){return{ngModule:T,providers:[{provide:Y.dy,useValue:M},{provide:u.ip1,useFactory:pn,multi:!0,deps:[Y.dy,fe.K0,u.R0b]},(0,Y.DN)()]}}}return T.\u0275fac=function(M){return new(M||T)},T.\u0275mod=u.oAB({type:T}),T.\u0275inj=u.cJS({providers:[Y.y4,Gt,Ot],imports:[fe.ez]}),T})()},7142:(Yt,et,N)=>{"use strict";N.d(et,{Z:()=>u.Z});var u=N(3106);u.Z.registerVersion("firebase","10.8.0","app-compat")},999:(Yt,et,N)=>{"use strict";N.r(et);var u=N(5861),k=N(3106),Y=N(9058),ne=N(534),Te=N(7879),fe=N(7582),ue=N(4537);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ne=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},it=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new Te.Yd("@firebase/auth");function ze(v,...f){Ve.logLevel<=Te.in.ERROR&&Ve.error(`Auth (${ne.SDK_VERSION}): ${v}`,...f)}function Re(v,...f){throw pe(v,...f)}function Ae(v,...f){return pe(v,...f)}function Je(v,f,p){const I=Object.assign(Object.assign({},it()),{[f]:p});return new Y.LL("auth","Firebase",I).create(f,{appName:v.name})}function z(v,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Re(v,"argument-error"),Je(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pe(v,...f){if("string"!=typeof v){const p=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(p,...I)}return xe.create(v,...f)}function ae(v,f,...p){if(!v)throw pe(f,...p)}function W(v){const f="INTERNAL ASSERTION FAILED: "+v;throw ze(f),new Error(f)}function Qe(v,f){v||W(f)}function nt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function tt(){return"http:"===Et()||"https:"===Et()}function Et(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class be{constructor(f,p){this.shortDelay=f,this.longDelay=p,Qe(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function De(v,f){Qe(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class J{static initialize(f,p,I){this.fetchImpl=f,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new be(3e4,6e4);function Ce(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Ke(v,f,p,I){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(v,f,p,I,V={}){return St(v,V,(0,u.Z)(function*(){let X={},$e={};I&&("GET"===f?$e=I:X={body:JSON.stringify(I)});const ft=(0,Y.xO)(Object.assign({key:v.config.apiKey},$e)).slice(1),kt=yield v._getAdditionalHeaders();return kt["Content-Type"]="application/json",v.languageCode&&(kt["X-Firebase-Locale"]=v.languageCode),J.fetch()(an(v,v.config.apiHost,p,ft),Object.assign({method:f,headers:kt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function St(v,f,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(v,f,p){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},ge),f);try{const V=new ht(v),X=yield Promise.race([p(),V.promise]);V.clearNetworkTimeout();const $e=yield X.json();if("needConfirmation"in $e)throw ct(v,"account-exists-with-different-credential",$e);if(X.ok&&!("errorMessage"in $e))return $e;{const ft=X.ok?$e.errorMessage:$e.error.message,[kt,_n]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw ct(v,"credential-already-in-use",$e);if("EMAIL_EXISTS"===kt)throw ct(v,"email-already-in-use",$e);if("USER_DISABLED"===kt)throw ct(v,"user-disabled",$e);const Sn=I[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(_n)throw Je(v,Sn,_n);Re(v,Sn)}}catch(V){if(V instanceof Y.ZR)throw V;Re(v,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function at(v,f,p,I){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(v,f,p,I,V={}){const X=yield Ke(v,f,p,I,V);return"mfaPendingCredential"in X&&Re(v,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function an(v,f,p,I){const V=`${f}${p}?${I}`;return v.config.emulator?De(v.config,V):`${v.config.apiScheme}://${V}`}function mt(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ht{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(Ae(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ct(v,f,p){const I={appName:v.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const V=Ae(v,f,I);return V.customData._tokenResponse=p,V}function bt(v){return void 0!==v&&void 0!==v.getResponse}function un(v){return void 0!==v&&void 0!==v.enterprise}class rn{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===f)return mt(p.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Xt(){return(Xt=(0,u.Z)(function*(v){return(yield Ke(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(v,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(v,f){return Ke(v,"GET","/v2/recaptchaConfig",Ce(v,f))})).apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Tn(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Kr(){return(Kr=(0,u.Z)(function*(v,f=!1){const p=(0,Y.m9)(v),I=yield p.getIdToken(f),V=xr(I);ae(V&&V.exp&&V.auth_time&&V.iat,p.auth,"internal-error");const X="object"==typeof V.firebase?V.firebase:void 0,$e=null==X?void 0:X.sign_in_provider;return{claims:V,token:I,authTime:Tn(ir(V.auth_time)),issuedAtTime:Tn(ir(V.iat)),expirationTime:Tn(ir(V.exp)),signInProvider:$e||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function ir(v){return 1e3*Number(v)}function xr(v){const[f,p,I]=v.split(".");if(void 0===f||void 0===p||void 0===I)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,Y.tV)(p);return V?JSON.parse(V):(ze("Failed to decode base64 JWT payload"),null)}catch(V){return ze("Caught error parsing JWT payload as JSON",null==V?void 0:V.toString()),null}}function en(v,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(v,f,p=!1){if(p)return f;try{return yield f}catch(I){throw I instanceof Y.ZR&&function $i({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Lr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const V=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield p.iteration()}),I)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class Qr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Or(v){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,u.Z)(function*(v){var f;const p=v.auth,I=yield v.getIdToken(),V=yield en(v,function Wn(v,f){return lr.apply(this,arguments)}(p,{idToken:I}));ae(null==V?void 0:V.users.length,p,"internal-error");const X=V.users[0];v._notifyReloadListener(X);const $e=null!==(f=X.providerUserInfo)&&void 0!==f&&f.length?function Xe(v){return v.map(f=>{var{providerId:p}=f,I=(0,fe._T)(f,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(X.providerUserInfo):[],ft=function Ze(v,f){return[...v.filter(I=>!f.some(V=>V.providerId===I.providerId)),...f]}(v.providerData,$e),Sn=!!v.isAnonymous&&!(v.email&&X.passwordHash||null!=ft&&ft.length),Dn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:ft,metadata:new Qr(X.createdAt,X.lastLoginAt),isAnonymous:Sn};Object.assign(v,Dn)}),Gr.apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(v){const f=(0,Y.m9)(v);yield Or(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function te(){return(te=(0,u.Z)(function*(v,f){const p=yield St(v,{},(0,u.Z)(function*(){const I=(0,Y.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:V,apiKey:X}=v.config,$e=an(v,V,"/v1/token",`key=${X}`),ft=yield v._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",J.fetch()($e,{method:"POST",headers:ft,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function we(){return(we=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v2/accounts:revokeToken",Ce(v,f))})).apply(this,arguments)}class ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ae(f.idToken,"internal-error"),ae(typeof f.idToken<"u","internal-error"),ae(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function xn(v){const f=xr(v);return ae(f,"internal-error"),ae(typeof f.exp<"u","internal-error"),ae(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var I=this;return(0,u.Z)(function*(){return ae(!I.accessToken||I.refreshToken,f,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var I=this;return(0,u.Z)(function*(){const{accessToken:V,refreshToken:X,expiresIn:$e}=yield function Fe(v,f){return te.apply(this,arguments)}(f,p);I.updateTokensAndExpiration(V,X,Number($e))})()}updateTokensAndExpiration(f,p,I){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,p){const{refreshToken:I,accessToken:V,expirationTime:X}=p,$e=new ot;return I&&(ae("string"==typeof I,"internal-error",{appName:f}),$e.refreshToken=I),V&&(ae("string"==typeof V,"internal-error",{appName:f}),$e.accessToken=V),X&&(ae("number"==typeof X,"internal-error",{appName:f}),$e.expirationTime=X),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ot,this.toJSON())}_performRefresh(){return W("not implemented")}}function qe(v,f){ae("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Bt{constructor(f){var{uid:p,auth:I,stsTokenManager:V}=f,X=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new Qr(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,u.Z)(function*(){const I=yield en(p,p.stsTokenManager.getToken(p.auth,f));return ae(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(f){return function dn(v){return Kr.apply(this,arguments)}(this,f)}reload(){return function $r(v){return _t.apply(this,arguments)}(this)}_assign(f){this!==f&&(ae(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new Bt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var I=this;return(0,u.Z)(function*(){let V=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),V=!0),p&&(yield Or(I)),yield I.auth._persistUserIfCurrent(I),V&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,u.Z)(function*(){const p=yield f.getIdToken();return yield en(f,function fr(v,f){return Fn.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var I,V,X,$e,ft,kt,_n,Sn;const Dn=null!==(I=p.displayName)&&void 0!==I?I:void 0,Fr=null!==(V=p.email)&&void 0!==V?V:void 0,yo=null!==(X=p.phoneNumber)&&void 0!==X?X:void 0,pu=null!==($e=p.photoURL)&&void 0!==$e?$e:void 0,_h=null!==(ft=p.tenantId)&&void 0!==ft?ft:void 0,$s=null!==(kt=p._redirectEventId)&&void 0!==kt?kt:void 0,Xs=null!==(_n=p.createdAt)&&void 0!==_n?_n:void 0,Nf=null!==(Sn=p.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:gu,emailVerified:Li,isAnonymous:ad,providerData:mu,stsTokenManager:kf}=p;ae(gu&&kf,f,"internal-error");const vu=ot.fromJSON(this.name,kf);ae("string"==typeof gu,f,"internal-error"),qe(Dn,f.name),qe(Fr,f.name),ae("boolean"==typeof Li,f,"internal-error"),ae("boolean"==typeof ad,f,"internal-error"),qe(yo,f.name),qe(pu,f.name),qe(_h,f.name),qe($s,f.name),qe(Xs,f.name),qe(Nf,f.name);const Js=new Bt({uid:gu,auth:f,email:Fr,emailVerified:Li,displayName:Dn,isAnonymous:ad,photoURL:pu,phoneNumber:yo,tenantId:_h,stsTokenManager:vu,createdAt:Xs,lastLoginAt:Nf});return mu&&Array.isArray(mu)&&(Js.providerData=mu.map(Ff=>Object.assign({},Ff))),$s&&(Js._redirectEventId=$s),Js}static _fromIdTokenResponse(f,p,I=!1){return(0,u.Z)(function*(){const V=new ot;V.updateFromServerResponse(p);const X=new Bt({uid:p.localId,auth:f,stsTokenManager:V,isAnonymous:I});return yield Or(X),X})()}}const tn=new Map;function Rn(v){Qe(v instanceof Function,"Expected a class definition");let f=tn.get(v);return f?(Qe(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,tn.set(v,f),f)}const Mr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(p,I){var V=this;return(0,u.Z)(function*(){V.storage[p]=I})()}_get(p){var I=this;return(0,u.Z)(function*(){const V=I.storage[p];return void 0===V?null:V})()}_remove(p){var I=this;return(0,u.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return v.type="NONE",v})();function pr(v,f,p){return`firebase:${v}:${f}:${p}`}class zn{constructor(f,p,I){this.persistence=f,this.auth=p,this.userKey=I;const{config:V,name:X}=this.auth;this.fullUserKey=pr(this.userKey,V.apiKey,X),this.fullPersistenceKey=pr("persistence",V.apiKey,X),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Bt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,u.Z)(function*(){if(p.persistence===f)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,I="authUser"){return(0,u.Z)(function*(){if(!p.length)return new zn(Rn(Mr),f,I);const V=(yield Promise.all(p.map(function(){var _n=(0,u.Z)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return _n.apply(this,arguments)}}()))).filter(_n=>_n);let X=V[0]||Rn(Mr);const $e=pr(I,f.config.apiKey,f.name);let ft=null;for(const _n of p)try{const Sn=yield _n._get($e);if(Sn){const Dn=Bt._fromJSON(f,Sn);_n!==X&&(ft=Dn),X=_n;break}}catch{}const kt=V.filter(_n=>_n._shouldAllowMigration);return X._shouldAllowMigration&&kt.length?(X=kt[0],ft&&(yield X._set($e,ft.toJSON())),yield Promise.all(p.map(function(){var _n=(0,u.Z)(function*(Sn){if(Sn!==X)try{yield Sn._remove($e)}catch{}});return function(Sn){return _n.apply(this,arguments)}}())),new zn(X,f,I)):new zn(X,f,I)})()}}function Wr(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ct(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ai(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(At(f))return"Blackberry";if($t(f))return"Webos";if(qr(f))return"Safari";if((f.includes("chrome/")||Si(f))&&!f.includes("edge/"))return"Chrome";if(ut(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Ai(v=(0,Y.z$)()){return/firefox\//i.test(v)}function qr(v=(0,Y.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Si(v=(0,Y.z$)()){return/crios\//i.test(v)}function Ct(v=(0,Y.z$)()){return/iemobile/i.test(v)}function ut(v=(0,Y.z$)()){return/android/i.test(v)}function At(v=(0,Y.z$)()){return/blackberry/i.test(v)}function $t(v=(0,Y.z$)()){return/webos/i.test(v)}function Ut(v=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function _r(v=(0,Y.z$)()){return Ut(v)||ut(v)||$t(v)||At(v)||/windows phone/i.test(v)||Ct(v)}function Ri(v,f=[]){let p;switch(v){case"Browser":p=Wr((0,Y.z$)());break;case"Worker":p=`${Wr((0,Y.z$)())}-${v}`;break;default:p=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ne.SDK_VERSION}/${I}`}class Ui{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const I=X=>new Promise(($e,ft)=>{try{$e(f(X))}catch(kt){ft(kt)}});I.onAbort=p,this.queue.push(I);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,u.Z)(function*(){if(p.auth.currentUser===f)return;const I=[];try{for(const V of p.queue)yield V(f),V.onAbort&&I.push(V.onAbort)}catch(V){I.reverse();for(const X of I)try{X()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==V?void 0:V.message})}})()}}function yi(){return(yi=(0,u.Z)(function*(v,f={}){return Ke(v,"GET","/v2/passwordPolicy",Ce(v,f))})).apply(this,arguments)}class yr{constructor(f){var p,I,V,X;const $e=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=$e.minPasswordLength)&&void 0!==p?p:6,$e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=$e.maxPasswordLength),void 0!==$e.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=$e.containsLowercaseCharacter),void 0!==$e.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=$e.containsUppercaseCharacter),void 0!==$e.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=$e.containsNumericCharacter),void 0!==$e.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=$e.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(V=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==V?V:"",this.forceUpgradeOnSignin=null!==(X=f.forceUpgradeOnSignin)&&void 0!==X&&X,this.schemaVersion=f.schemaVersion}validatePassword(f){var p,I,V,X,$e,ft;const kt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,kt),this.validatePasswordCharacterOptions(f,kt),kt.isValid&&(kt.isValid=null===(p=kt.meetsMinPasswordLength)||void 0===p||p),kt.isValid&&(kt.isValid=null===(I=kt.meetsMaxPasswordLength)||void 0===I||I),kt.isValid&&(kt.isValid=null===(V=kt.containsLowercaseLetter)||void 0===V||V),kt.isValid&&(kt.isValid=null===(X=kt.containsUppercaseLetter)||void 0===X||X),kt.isValid&&(kt.isValid=null===($e=kt.containsNumericCharacter)||void 0===$e||$e),kt.isValid&&(kt.isValid=null===(ft=kt.containsNonAlphanumericCharacter)||void 0===ft||ft),kt}validatePasswordLengthOptions(f,p){const I=this.customStrengthOptions.minPasswordLength,V=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=f.length>=I),V&&(p.meetsMaxPasswordLength=f.length<=V)}validatePasswordCharacterOptions(f,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let V=0;V<f.length;V++)I=f.charAt(V),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,p,I,V,X){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=V)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=X))}}class er{constructor(f,p,I,V){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new me(this),this.idTokenSubscription=new me(this),this.beforeStateQueue=new Ui(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(f,p){var I=this;return p&&(this._popupRedirectResolver=Rn(p)),this._initializationPromise=this.queue((0,u.Z)(function*(){var V,X;if(!I._deleted&&(I.persistenceManager=yield zn.create(I,f),!I._deleted)){if(null!==(V=I._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(X=I.currentUser)||void 0===X?void 0:X.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,u.Z)(function*(){var I;const V=yield p.assertedPersistence.getCurrentUser();let X=V,$e=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ft=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,kt=null==X?void 0:X._redirectEventId,_n=yield p.tryRedirectSignIn(f);(!ft||ft===kt)&&null!=_n&&_n.user&&(X=_n.user,$e=!0)}if(!X)return p.directlySetCurrentUser(null);if(!X._redirectEventId){if($e)try{yield p.beforeStateQueue.runMiddleware(X)}catch(ft){X=V,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ft))}return X?p.reloadAndSetCurrentUserOrClear(X):p.directlySetCurrentUser(null)}return ae(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===X._redirectEventId?p.directlySetCurrentUser(X):p.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(f){var p=this;return(0,u.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,u.Z)(function*(){try{yield Or(f)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Cn(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,u.Z)(function*(){const I=f?(0,Y.m9)(f):null;return I&&ae(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(f,p=!1){var I=this;return(0,u.Z)(function*(){if(!I._deleted)return f&&ae(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,u.Z)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,u.Z)(function*(){yield p.assertedPersistence.setPersistence(Rn(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var p=this;return(0,u.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,u.Z)(function*(){const p=yield function Cr(v){return yi.apply(this,arguments)}(f),I=new yr(p);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new Y.LL("auth","Firebase",f())}onAuthStateChanged(f,p,I){return this.registerStateListener(this.authStateSubscription,f,p,I)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,I){return this.registerStateListener(this.idTokenSubscription,f,p,I)}authStateReady(){return new Promise((f,p)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},p)}})}revokeAccessToken(f){var p=this;return(0,u.Z)(function*(){if(p.currentUser){const I=yield p.currentUser.getIdToken(),V={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=p.tenantId&&(V.tenantId=p.tenantId),yield function oe(v,f){return we.apply(this,arguments)}(p,V)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var I=this;return(0,u.Z)(function*(){const V=yield I.getOrInitRedirectPersistenceManager(p);return null===f?V.removeCurrentUser():V.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,u.Z)(function*(){if(!p.redirectPersistenceManager){const I=f&&Rn(f)||p._popupRedirectResolver;ae(I,p,"argument-error"),p.redirectPersistenceManager=yield zn.create(p,[Rn(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,u.Z)(function*(){var I,V;return p._isInitialized&&(yield p.queue((0,u.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===f?p._currentUser:(null===(V=p.redirectUser)||void 0===V?void 0:V._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,u.Z)(function*(){if(f===p.currentUser)return p.queue((0,u.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,I,V){if(this._deleted)return()=>{};const X="function"==typeof p?p:p.next.bind(p);let $e=!1;const ft=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(ft,this,"internal-error"),ft.then(()=>{$e||X(this.currentUser)}),"function"==typeof p){const kt=f.addObserver(p,I,V);return()=>{$e=!0,kt()}}{const kt=f.addObserver(p);return()=>{$e=!0,kt()}}}directlySetCurrentUser(f){var p=this;return(0,u.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ri(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var p;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const V=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();V&&(I["X-Firebase-Client"]=V);const X=yield f._getAppCheckToken();return X&&(I["X-Firebase-AppCheck"]=X),I})()}_getAppCheckToken(){var f=this;return(0,u.Z)(function*(){var p;const I=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=I&&I.error&&function pt(v,...f){Ve.logLevel<=Te.in.WARN&&Ve.warn(`Auth (${ne.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function dr(v){return(0,Y.m9)(v)}class me{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,Y.ne)(p=>this.observer=p)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ve={loadJS:()=>(0,u.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ie(v){return ve.loadJS(v)}function nn(v){return`__${v}${Math.floor(1e6*Math.random())}`}class ei{constructor(f){this.type="recaptcha-enterprise",this.auth=dr(f)}verify(f="verify",p=!1){var I=this;return(0,u.Z)(function*(){function X(){return X=(0,u.Z)(function*(ft){if(!p){if(null==ft.tenantId&&null!=ft._agentRecaptchaConfig)return ft._agentRecaptchaConfig.siteKey;if(null!=ft.tenantId&&void 0!==ft._tenantRecaptchaConfigs[ft.tenantId])return ft._tenantRecaptchaConfigs[ft.tenantId].siteKey}return new Promise(function(){var kt=(0,u.Z)(function*(_n,Sn){Pn(ft,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dn=>{if(void 0!==Dn.recaptchaKey){const Fr=new rn(Dn);return null==ft.tenantId?ft._agentRecaptchaConfig=Fr:ft._tenantRecaptchaConfigs[ft.tenantId]=Fr,_n(Fr.siteKey)}Sn(new Error("recaptcha Enterprise site key undefined"))}).catch(Dn=>{Sn(Dn)})});return function(_n,Sn){return kt.apply(this,arguments)}}())}),X.apply(this,arguments)}function $e(ft,kt,_n){const Sn=window.grecaptcha;un(Sn)?Sn.enterprise.ready(()=>{Sn.enterprise.execute(ft,{action:f}).then(Dn=>{kt(Dn)}).catch(()=>{kt("NO_RECAPTCHA")})}):_n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ft,kt)=>{(function V(ft){return X.apply(this,arguments)})(I.auth).then(_n=>{if(!p&&un(window.grecaptcha))$e(_n,ft,kt);else{if(typeof window>"u")return void kt(new Error("RecaptchaVerifier is only supported in browser"));let Sn=function Rt(){return ve.recaptchaEnterpriseScript}();0!==Sn.length&&(Sn+=_n),ie(Sn).then(()=>{$e(_n,ft,kt)}).catch(Dn=>{kt(Dn)})}}).catch(_n=>{kt(_n)})})})()}}function gt(v,f,p){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(v,f,p,I=!1){const V=new ei(v);let X;try{X=yield V.verify(p)}catch{X=yield V.verify(p,!0)}const $e=Object.assign({},f);return Object.assign($e,I?{captchaResp:X}:{captchaResponse:X}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e})).apply(this,arguments)}function Q(v,f,p,I){return Le.apply(this,arguments)}function Le(){return Le=(0,u.Z)(function*(v,f,p,I){var V;if(null!==(V=v._getRecaptchaConfig())&&void 0!==V&&V.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const X=yield gt(v,f,p,"getOobCode"===p);return I(v,X)}return I(v,f).catch(function(){var X=(0,u.Z)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ft=yield gt(v,f,p,"getOobCode"===p);return I(v,ft)}return Promise.reject($e)});return function($e){return X.apply(this,arguments)}}())}),Le.apply(this,arguments)}function jt(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Jt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class hn{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return W("not implemented")}_getIdTokenResponse(f){return W("not implemented")}_linkToIdToken(f,p){return W("not implemented")}_getReauthenticationResolver(f){return W("not implemented")}}function tr(v,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:resetPassword",Ce(v,f))})).apply(this,arguments)}function ee(){return(ee=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function M(v,f){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:update",Ce(v,f))})).apply(this,arguments)}function jr(v,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signInWithPassword",Ce(v,f))})).apply(this,arguments)}function Hr(v,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:sendOobCode",Ce(v,f))})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(v,f){return Hr(v,f)})).apply(this,arguments)}function Qo(v,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(v,f){return Hr(v,f)})).apply(this,arguments)}function us(v,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(v,f){return Hr(v,f)})).apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(v,f){return Hr(v,f)})).apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signInWithEmailLink",Ce(v,f))})).apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signInWithEmailLink",Ce(v,f))})).apply(this,arguments)}class eo extends hn{constructor(f,p,I,V=null){super("password",I),this._email=f,this._password=p,this._tenantId=V}static _fromEmailAndPassword(f,p){return new eo(f,p,"password")}static _fromEmailAndCode(f,p,I=null){return new eo(f,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,u.Z)(function*(){switch(p.signInMethod){case"password":return Q(f,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",jr);case"emailLink":return function Ts(v,f){return qi.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Re(f,"internal-error")}})()}_linkToIdToken(f,p){var I=this;return(0,u.Z)(function*(){switch(I.signInMethod){case"password":return Q(f,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M);case"emailLink":return function Ni(v,f){return Kn.apply(this,arguments)}(f,{idToken:p,email:I._email,oobCode:I._password});default:Re(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function to(v,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signInWithIdp",Ce(v,f))})).apply(this,arguments)}class Eo extends hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Eo(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Re("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:V}=p,X=(0,fe._T)(p,["providerId","signInMethod"]);if(!I||!V)return null;const $e=new Eo(I,V);return $e.idToken=X.idToken||void 0,$e.accessToken=X.accessToken||void 0,$e.secret=X.secret,$e.nonce=X.nonce,$e.pendingToken=X.pendingToken||null,$e}_getIdTokenResponse(f){return to(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,to(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,to(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,Y.xO)(p)}return f}}function Co(){return(Co=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:sendVerificationCode",Ce(v,f))})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signInWithPhoneNumber",Ce(v,f))})).apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(v,f){const p=yield at(v,"POST","/v1/accounts:signInWithPhoneNumber",Ce(v,f));if(p.temporaryProof)throw ct(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Yr={USER_NOT_FOUND:"user-not-found"};function ds(){return(ds=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signInWithPhoneNumber",Ce(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Yr)})).apply(this,arguments)}class To extends hn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new To({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new To({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Do(v,f){return Xo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function mo(v,f){return na.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Yi(v,f){return ds.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:I,verificationCode:V}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:I,code:V}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:I,phoneNumber:V,temporaryProof:X}=f;return I||p||V||X?new To({verificationId:p,verificationCode:I,phoneNumber:V,temporaryProof:X}):null}}class zo{constructor(f){var p,I,V,X,$e,ft;const kt=(0,Y.zd)((0,Y.pd)(f)),_n=null!==(p=kt.apiKey)&&void 0!==p?p:null,Sn=null!==(I=kt.oobCode)&&void 0!==I?I:null,Dn=function ml(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=kt.mode)&&void 0!==V?V:null);ae(_n&&Sn&&Dn,"argument-error"),this.apiKey=_n,this.operation=Dn,this.code=Sn,this.continueUrl=null!==(X=kt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==($e=kt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(ft=kt.tenantId)&&void 0!==ft?ft:null}static parseLink(f){const p=function Ta(v){const f=(0,Y.zd)((0,Y.pd)(v)).link,p=f?(0,Y.zd)((0,Y.pd)(f)).deep_link_id:null,I=(0,Y.zd)((0,Y.pd)(v)).deep_link_id;return(I?(0,Y.zd)((0,Y.pd)(I)).link:null)||I||p||f||v}(f);try{return new zo(p)}catch{return null}}}let bs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,I){return eo._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const V=zo.parseLink(I);return ae(V,"argument-error"),eo._fromEmailAndCode(p,V.code,V.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Mi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class wo extends Mi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Hi extends wo{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return ae("providerId"in p&&"signInMethod"in p,"argument-error"),Eo._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ae(f.idToken||f.accessToken,"argument-error"),Eo._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Hi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Hi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:V,pendingToken:X,nonce:$e,providerId:ft}=f;if(!I&&!V&&!p&&!X||!ft)return null;try{return new Hi(ft)._credential({idToken:p,accessToken:I,nonce:$e,pendingToken:X})}catch{return null}}}let wa=(()=>{class v extends wo{constructor(){super("facebook.com")}static credential(p){return Eo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ba=(()=>{class v extends wo{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return Eo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:V}=p;if(!I&&!V)return null;try{return v.credential(I,V)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ra=(()=>{class v extends wo{constructor(){super("github.com")}static credential(p){return Eo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class es extends hn{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return to(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,to(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,to(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:V,pendingToken:X}=p;return I&&V&&X&&I===V?new es(I,X):null}static _create(f,p){return new es(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class As extends Mi{constructor(f){ae(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return As.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return As.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=es.fromJSON(f);return ae(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:I}=f;if(!p||!I)return null;try{return es._create(I,p)}catch{return null}}}let Yn=(()=>{class v extends wo{constructor(){super("twitter.com")}static credential(p,I){return Eo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:V}=p;if(!I||!V)return null;try{return v.credential(I,V)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Xr(v,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signUp",Ce(v,f))})).apply(this,arguments)}class Ii{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,I,V=!1){return(0,u.Z)(function*(){const X=yield Bt._fromIdTokenResponse(f,I,V),$e=si(I);return new Ii({user:X,providerId:$e,_tokenResponse:I,operationType:p})})()}static _forOperation(f,p,I){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const V=si(I);return new Ii({user:f,providerId:V,_tokenResponse:I,operationType:p})})()}}function si(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ia(){return(ia=(0,u.Z)(function*(v){var f;const p=dr(v);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Ii({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield Xr(p,{returnSecureToken:!0}),V=yield Ii._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser(V.user),V})).apply(this,arguments)}class zs extends Y.ZR{constructor(f,p,I,V){var X;super(p.code,p.message),this.operationType=I,this.user=V,Object.setPrototypeOf(this,zs.prototype),this.customData={appName:f.name,tenantId:null!==(X=f.tenantId)&&void 0!==X?X:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,p,I,V){return new zs(f,p,I,V)}}function vl(v,f,p,I){return("reauthenticate"===f?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?zs._fromErrorAndOperation(v,X,f,I):X})}function ai(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function A(){return A=(0,u.Z)(function*(v,f){const p=(0,Y.m9)(v);yield de(!0,p,f);const{providerUserInfo:I}=yield function Nn(v,f){return En.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),V=ai(I||[]);return p.providerData=p.providerData.filter(X=>V.has(X.providerId)),V.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),A.apply(this,arguments)}function G(v,f){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(v,f,p=!1){const I=yield en(v,f._linkToIdToken(v.auth,yield v.getIdToken()),p);return Ii._forOperation(v,"link",I)})).apply(this,arguments)}function de(v,f,p){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,u.Z)(function*(v,f,p){yield Or(f);const V=!1===v?"provider-already-linked":"no-such-provider";ae(ai(f.providerData).has(p)===v,f.auth,V)})).apply(this,arguments)}function wn(v,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(v,f,p=!1){const{auth:I}=v,V="reauthenticate";try{const X=yield en(v,vl(I,V,f,v),p);ae(X.idToken,I,"internal-error");const $e=xr(X.idToken);ae($e,I,"internal-error");const{sub:ft}=$e;return ae(v.uid===ft,I,"user-mismatch"),Ii._forOperation(v,V,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&Re(I,"user-mismatch"),X}})).apply(this,arguments)}function cr(v,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(v,f,p=!1){const I="signIn",V=yield vl(v,I,f),X=yield Ii._fromIdTokenResponse(v,I,V);return p||(yield v._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Ei(v,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(v,f){return cr(dr(v),f)})).apply(this,arguments)}function Rs(v,f){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(v,f){const p=(0,Y.m9)(v);return yield de(!1,p,f.providerId),G(p,f)})).apply(this,arguments)}function Go(v,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(v,f){return wn((0,Y.m9)(v),f)})).apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(v,f){return at(v,"POST","/v1/accounts:signInWithCustomToken",Ce(v,f))})).apply(this,arguments)}function no(){return no=(0,u.Z)(function*(v,f){const p=dr(v),I=yield function Gs(v,f){return Fo.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),V=yield Ii._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(V.user),V}),no.apply(this,arguments)}class oa{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?hs._fromServerResponse(f,p):"totpInfo"in p?Ms._fromServerResponse(f,p):Re(f,"internal-error")}}class hs extends oa{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new hs(p)}}class Ms extends oa{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new Ms(p)}}function bo(v,f,p){var I;ae((null===(I=p.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),ae(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ae(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(ae(p.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Gn(v){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(v){const f=dr(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(v,f,p){const I=dr(v),V={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};p&&bo(I,V,p),yield Q(I,V,"getOobCode",Qo)})).apply(this,arguments)}function ts(){return ts=(0,u.Z)(function*(v,f,p){yield tr((0,Y.m9)(v),{oobCode:f,newPassword:p}).catch(function(){var I=(0,u.Z)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&Gn(v),V});return function(V){return I.apply(this,arguments)}}())}),ts.apply(this,arguments)}function Aa(){return Aa=(0,u.Z)(function*(v,f){yield function We(v,f){return Ln.apply(this,arguments)}((0,Y.m9)(v),{oobCode:f})}),Aa.apply(this,arguments)}function li(v,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(v,f){const p=(0,Y.m9)(v),I=yield tr(p,{oobCode:f}),V=I.requestType;switch(ae(V,p,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(I.mfaInfo,p,"internal-error");default:ae(I.email,p,"internal-error")}let X=null;return I.mfaInfo&&(X=oa._fromServerResponse(dr(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:X},operation:V}})).apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(v,f){const{data:p}=yield li((0,Y.m9)(v),f);return p.email})).apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(v,f,p){const I=dr(v),$e=yield Q(I,{returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xr).catch(kt=>{throw"auth/password-does-not-meet-requirements"===kt.code&&Gn(v),kt}),ft=yield Ii._fromIdTokenResponse(I,"signIn",$e);return yield I._updateCurrentUser(ft.user),ft})).apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(v,f,p){const I=dr(v),V={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function X($e,ft){ae(ft.handleCodeInApp,I,"argument-error"),ft&&bo(I,$e,ft)})(V,p),yield Q(I,V,"getOobCode",us)})).apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v),V=bs.credentialWithLink(f,p||nt());return ae(V._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ei(I,V)})).apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:createAuthUri",Ce(v,f))})).apply(this,arguments)}function F(){return F=(0,u.Z)(function*(v,f){const I={identifier:f,continueUri:tt()?nt():"http://localhost"},{signinMethods:V}=yield function qs(v,f){return Zl.apply(this,arguments)}((0,Y.m9)(v),I);return V||[]}),F.apply(this,arguments)}function O(){return O=(0,u.Z)(function*(v,f){const p=(0,Y.m9)(v),V={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&bo(p.auth,V,f);const{email:X}=yield function nr(v,f){return No.apply(this,arguments)}(p.auth,V);X!==v.email&&(yield v.reload())}),O.apply(this,arguments)}function Se(){return Se=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};p&&bo(I.auth,X,p);const{email:$e}=yield function qa(v,f){return ji.apply(this,arguments)}(I.auth,X);$e!==v.email&&(yield v.reload())}),Se.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(v,f){return Ke(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function or(){return or=(0,u.Z)(function*(v,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const I=(0,Y.m9)(v),X={idToken:yield I.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},$e=yield en(I,function Dt(v,f){return qt.apply(this,arguments)}(I.auth,X));I.displayName=$e.displayName||null,I.photoURL=$e.photoUrl||null;const ft=I.providerData.find(({providerId:kt})=>"password"===kt);ft&&(ft.displayName=I.displayName,ft.photoURL=I.photoURL),yield I._updateTokensIfNecessary($e)}),or.apply(this,arguments)}function Nr(v,f,p){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,u.Z)(function*(v,f,p){const{auth:I}=v,X={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(X.email=f),p&&(X.password=p);const $e=yield en(v,function T(v,f){return ee.apply(this,arguments)}(I,X));yield v._updateTokensIfNecessary($e,!0)}),Sr.apply(this,arguments)}class vo{constructor(f,p,I={}){this.isNewUser=f,this.providerId=p,this.profile=I}}class Lo extends vo{constructor(f,p,I,V){super(f,p,I),this.username=V}}class Di extends vo{constructor(f,p){super(f,"facebook.com",p)}}class Fi extends Lo{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class ci extends vo{constructor(f,p){super(f,"google.com",p)}}class ro extends Lo{constructor(f,p,I){super(f,"twitter.com",p,I)}}function rs(v){const{user:f,_tokenResponse:p}=v;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ui(v){var f,p;if(!v)return null;const{providerId:I}=v,V=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},X=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&null!=v&&v.idToken){const $e=null===(p=null===(f=xr(v.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if($e)return new vo(X,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!I)return null;switch(I){case"facebook.com":return new Di(X,V);case"github.com":return new Fi(X,V);case"google.com":return new ci(X,V);case"twitter.com":return new ro(X,V,v.screenName||null);case"custom":case"anonymous":return new vo(X,null);default:return new vo(X,I,V)}}(p)}class wr{constructor(f,p,I){this.type=f,this.credential=p,this.user=I}static _fromIdtoken(f,p){return new wr("enroll",f,p)}static _fromMfaPendingCredential(f){return new wr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,I;if(null!=f&&f.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return wr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return wr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class xs{constructor(f,p,I){this.session=f,this.hints=p,this.signInResolver=I}static _fromError(f,p){const I=dr(f),V=p.customData._serverResponse,X=(V.mfaInfo||[]).map(ft=>oa._fromServerResponse(I,ft));ae(V.mfaPendingCredential,I,"internal-error");const $e=wr._fromMfaPendingCredential(V.mfaPendingCredential);return new xs($e,X,function(){var ft=(0,u.Z)(function*(kt){const _n=yield kt._process(I,$e);delete V.mfaInfo,delete V.mfaPendingCredential;const Sn=Object.assign(Object.assign({},V),{idToken:_n.idToken,refreshToken:_n.refreshToken});switch(p.operationType){case"signIn":const Dn=yield Ii._fromIdTokenResponse(I,p.operationType,Sn);return yield I._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return ae(p.user,I,"internal-error"),Ii._forOperation(p.user,p.operationType,Sn);default:Re(I,"internal-error")}});return function(kt){return ft.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,u.Z)(function*(){return p.signInResolver(f)})()}}class Wt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>oa._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new Wt(f)}getSession(){var f=this;return(0,u.Z)(function*(){return wr._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,p){var I=this;return(0,u.Z)(function*(){const V=f,X=yield I.getSession(),$e=yield en(I.user,V._process(I.user.auth,X,p));return yield I.user._updateTokensIfNecessary($e),I.user.reload()})()}unenroll(f){var p=this;return(0,u.Z)(function*(){const I="string"==typeof f?f:f.uid,V=yield p.user.getIdToken();try{const X=yield en(p.user,function So(v,f){return Ke(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(v,f))}(p.user.auth,{idToken:V,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:$e})=>$e!==I),yield p.user._updateTokensIfNecessary(X),yield p.user.reload()}catch(X){throw X}})()}}const pi=new WeakMap,gi="__sak";class bn{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(gi,"1"),this.storage.removeItem(gi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ft=(()=>{class v extends bn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kn(){const v=(0,Y.z$)();return qr(v)||Ut(v)}()&&function Vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_r(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const V=this.storage.getItem(I),X=this.localCache[I];V!==X&&p(I,X,V)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((ft,kt,_n)=>{this.notifyListeners(ft,_n)});const V=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(V);if(p.newValue!==ft)null!==p.newValue?this.storage.setItem(V,p.newValue):this.storage.removeItem(V);else if(this.localCache[V]===p.newValue&&!I)return}const X=()=>{const ft=this.storage.getItem(V);!I&&this.localCache[V]===ft||this.notifyListeners(V,ft)},$e=this.storage.getItem(V);!function Ur(){return(0,Y.w1)()&&10===document.documentMode}()||$e===p.newValue||p.newValue===p.oldValue?X():setTimeout(X,10)}notifyListeners(p,I){this.localCache[p]=I;const V=this.listeners[p];if(V)for(const X of Array.from(V))X(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var V=()=>super._set,X=this;return(0,u.Z)(function*(){yield V().call(X,p,I),X.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,V=this;return(0,u.Z)(function*(){const X=yield I().call(V,p);return V.localCache[p]=JSON.stringify(X),X})()}_remove(p){var I=()=>super._remove,V=this;return(0,u.Z)(function*(){yield I().call(V,p),delete V.localCache[p]})()}}return v.type="LOCAL",v})(),ms=(()=>{class v extends bn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return v.type="SESSION",v})();let Qn=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(X=>X.isListeningto(p));if(I)return I;const V=new v(p);return this.receivers.push(V),V}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,u.Z)(function*(){const V=p,{eventId:X,eventType:$e,data:ft}=V.data,kt=I.handlersMap[$e];if(null==kt||!kt.size)return;V.ports[0].postMessage({status:"ack",eventId:X,eventType:$e});const _n=Array.from(kt).map(function(){var Dn=(0,u.Z)(function*(Fr){return Fr(V.origin,ft)});return function(Fr){return Dn.apply(this,arguments)}}()),Sn=yield function Pa(v){return Promise.all(v.map(function(){var f=(0,u.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return f.apply(this,arguments)}}()))}(_n);V.ports[0].postMessage({status:"done",eventId:X,eventType:$e,response:Sn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function xa(v="",f=10){let p="";for(let I=0;I<f;I++)p+=Math.floor(10*Math.random());return v+p}class pf{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,I=50){var V=this;return(0,u.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let $e,ft;return new Promise((kt,_n)=>{const Sn=xa("",20);X.port1.start();const Dn=setTimeout(()=>{_n(new Error("unsupported_event"))},I);ft={messageChannel:X,onMessage(Fr){const yo=Fr;if(yo.data.eventId===Sn)switch(yo.data.status){case"ack":clearTimeout(Dn),$e=setTimeout(()=>{_n(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),kt(yo.data.response);break;default:clearTimeout(Dn),clearTimeout($e),_n(new Error("invalid_response"))}}},V.handlers.add(ft),X.port1.addEventListener("message",ft.onMessage),V.target.postMessage({eventType:f,eventId:Sn,data:p},[X.port2])}).finally(()=>{ft&&V.removeMessageHandler(ft)})})()}}function Zi(){return window}function zc(){return typeof Zi().WorkerGlobalScope<"u"&&"function"==typeof Zi().importScripts}function aa(){return(aa=(0,u.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Oa="firebaseLocalStorageDb",ni="firebaseLocalStorage",lt="fbase_key";class ar{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function hr(v,f){return v.transaction([ni],f?"readwrite":"readonly").objectStore(ni)}function $n(){const v=indexedDB.open(Oa,1);return new Promise((f,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(ni,{keyPath:lt})}catch(V){p(V)}}),v.addEventListener("success",(0,u.Z)(function*(){const I=v.result;I.objectStoreNames.contains(ni)?f(I):(I.close(),yield function Wc(){const v=indexedDB.deleteDatabase(Oa);return new ar(v).toPromise()}(),f(yield $n()))}))})}function fn(v,f,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(v,f,p){const I=hr(v,!0).put({[lt]:f,value:p});return new ar(I).toPromise()})).apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(v,f){const p=hr(v,!1).get(f),I=yield new ar(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Gu(v,f){const p=hr(v,!0).delete(f);return new ar(p).toPromise()}const C=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,u.Z)(function*(){return p.db||(p.db=yield $n()),p.db})()}_withRetries(p){var I=this;return(0,u.Z)(function*(){let V=0;for(;;)try{const X=yield I._openDb();return yield p(X)}catch(X){if(V++>3)throw X;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,u.Z)(function*(){return zc()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,u.Z)(function*(){p.receiver=Qn._getInstance(function Xn(){return zc()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,u.Z)(function*(V,X){return{keyProcessed:(yield p._poll()).includes(X.key)}});return function(V,X){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,u.Z)(function*(V,X){return["keyChanged"]});return function(V,X){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,u.Z)(function*(){var I,V;if(p.activeServiceWorker=yield function eh(){return aa.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new pf(p.activeServiceWorker);const X=yield p.sender._send("ping",{},800);X&&null!==(I=X[0])&&void 0!==I&&I.fulfilled&&null!==(V=X[0])&&void 0!==V&&V.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,u.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function th(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const p=yield $n();return yield fn(p,gi,"1"),yield Gu(p,gi),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,u.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var V=this;return(0,u.Z)(function*(){return V._withPendingWrite((0,u.Z)(function*(){return yield V._withRetries(X=>fn(X,p,I)),V.localCache[p]=I,V.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,u.Z)(function*(){const V=yield I._withRetries(X=>function _s(v,f){return Ns.apply(this,arguments)}(X,p));return I.localCache[p]=V,V})()}_remove(p){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(V=>Gu(V,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,u.Z)(function*(){const I=yield p._withRetries($e=>{const ft=hr($e,!1).getAll();return new ar(ft).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const V=[],X=new Set;if(0!==I.length)for(const{fbase_key:$e,value:ft}of I)X.add($e),JSON.stringify(p.localCache[$e])!==JSON.stringify(ft)&&(p.notifyListeners($e,ft),V.push($e));for(const $e of Object.keys(p.localCache))p.localCache[$e]&&!X.has($e)&&(p.notifyListeners($e,null),V.push($e));return V})()}notifyListeners(p,I){this.localCache[p]=I;const V=this.listeners[p];if(V)for(const X of Array.from(V))X(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),st=1e12;class Ht{constructor(f){this.auth=f,this.counter=st,this._widgets=new Map}render(f,p){const I=this.counter;return this._widgets.set(I,new ce(f,this.auth.name,p||{})),this.counter++,I}reset(f){var p;const I=f||st;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(f){var p;return(null===(p=this._widgets.get(f||st))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,u.Z)(function*(){var I;return null===(I=p._widgets.get(f||st))||void 0===I||I.execute(),""})()}}class ce{constructor(f,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof f?document.getElementById(f):f;ae(V,"argument-error",{appName:p}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cn(v){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(p.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const On=nn("rcb"),fi=new be(3e4,6e4);class br{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Zi().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return ae(function wi(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&bt(Zi().grecaptcha)?Promise.resolve(Zi().grecaptcha):new Promise((I,V)=>{const X=Zi().setTimeout(()=>{V(Ae(f,"network-request-failed"))},fi.get());Zi()[On]=()=>{Zi().clearTimeout(X),delete Zi()[On];const ft=Zi().grecaptcha;if(!ft||!bt(ft))return void V(Ae(f,"internal-error"));const kt=ft.render;ft.render=(_n,Sn)=>{const Dn=kt(_n,Sn);return this.counter++,Dn},this.hostLanguage=p,I(ft)},ie(`${function rt(){return ve.recaptchaV2Script}()}?${(0,Y.xO)({onload:On,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(X),V(Ae(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=Zi().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class la{load(f){return(0,u.Z)(function*(){return new Ht(f)})()}clearedOneInstance(){}}const Vo="recaptcha",Na={theme:"light",type:"image"};class ua{constructor(f,p,I=Object.assign({},Na)){this.parameters=I,this.type=Vo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(f),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof p?document.getElementById(p):p;ae(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new la:new br,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(p)||new Promise(X=>{const $e=ft=>{ft&&(f.tokenChangeListeners.delete($e),X(ft))};f.tokenChangeListeners.add($e),f.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof f)f(p);else if("string"==typeof f){const I=Zi()[f];"function"==typeof I&&I(p)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){ae(tt()&&!zc(),f.auth,"internal-error"),yield function el(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Pt(v){return Xt.apply(this,arguments)}(f.auth);ae(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ql{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=To._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function El(){return(El=(0,u.Z)(function*(v,f,p){const I=dr(v),V=yield Wu(I,f,(0,Y.m9)(p));return new Ql(V,X=>Ei(I,X))})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v);yield de(!1,I,"phone");const V=yield Wu(I.auth,f,(0,Y.m9)(p));return new Ql(V,X=>Rs(I,X))})).apply(this,arguments)}function nh(){return(nh=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v),V=yield Wu(I.auth,f,(0,Y.m9)(p));return new Ql(V,X=>Go(I,X))})).apply(this,arguments)}function Wu(v,f,p){return ks.apply(this,arguments)}function ks(){return ks=(0,u.Z)(function*(v,f,p){var I;const V=yield p.verify();try{let X;if(ae("string"==typeof V,v,"argument-error"),ae(p.type===Vo,v,"argument-error"),X="string"==typeof f?{phoneNumber:f}:f,"session"in X){const $e=X.session;if("phoneNumber"in X)return ae("enroll"===$e.type,v,"internal-error"),(yield function kr(v,f){return Ke(v,"POST","/v2/accounts/mfaEnrollment:start",Ce(v,f))}(v,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{ae("signin"===$e.type,v,"internal-error");const ft=(null===(I=X.multiFactorHint)||void 0===I?void 0:I.uid)||X.multiFactorUid;return ae(ft,v,"missing-multi-factor-info"),(yield function S(v,f){return Ke(v,"POST","/v2/accounts/mfaSignIn:start",Ce(v,f))}(v,{mfaPendingCredential:$e.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield function cs(v,f){return Co.apply(this,arguments)}(v,{phoneNumber:X.phoneNumber,recaptchaToken:V});return $e}}finally{p._reset()}}),ks.apply(this,arguments)}function Cl(){return(Cl=(0,u.Z)(function*(v,f){yield G((0,Y.m9)(v),f)})).apply(this,arguments)}let Dl=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=dr(p)}verifyPhoneNumber(p,I){return Wu(this.auth,p,(0,Y.m9)(I))}static credential(p,I){return To._fromVerification(p,I)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:V}=p;return I&&V?To._fromTokenResponse(I,V):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function da(v,f){return f?Rn(f):(ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ha extends hn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return to(f,this._buildIdpRequest())}_linkToIdToken(f,p){return to(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return to(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Pg(v){return cr(v.auth,new ha(v),v.bypassAuthState)}function qc(v){const{auth:f,user:p}=v;return ae(p,f,"internal-error"),wn(p,new ha(v),v.bypassAuthState)}function Yc(v){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,u.Z)(function*(v){const{auth:f,user:p}=v;return ae(p,f,"internal-error"),G(p,new ha(v),v.bypassAuthState)})).apply(this,arguments)}class Kc{constructor(f,p,I,V,X=!1){this.auth=f,this.resolver=I,this.user=V,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,u.Z)(function*(I,V){f.pendingPromise={resolve:I,reject:V};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(X){f.reject(X)}});return function(I,V){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,u.Z)(function*(){const{urlResponse:I,sessionId:V,postBody:X,tenantId:$e,error:ft,type:kt}=f;if(ft)return void p.reject(ft);const _n={auth:p.auth,requestUri:I,sessionId:V,tenantId:$e||void 0,postBody:X||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(kt)(_n))}catch(Sn){p.reject(Sn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pg;case"linkViaPopup":case"linkViaRedirect":return Yc;case"reauthViaPopup":case"reauthViaRedirect":return qc;default:Re(this.auth,"internal-error")}}resolve(f){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mf=new be(2e3,1e4);function rh(){return(rh=(0,u.Z)(function*(v,f,p){const I=dr(v);z(v,f,Mi);const V=da(I,p);return new ih(I,"signInViaPopup",f,V).executeNotNull()})).apply(this,arguments)}function Tl(){return(Tl=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v);z(I.auth,f,Mi);const V=da(I.auth,p);return new ih(I.auth,"reauthViaPopup",f,V,I).executeNotNull()})).apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v);z(I.auth,f,Mi);const V=da(I.auth,p);return new ih(I.auth,"linkViaPopup",f,V,I).executeNotNull()})).apply(this,arguments)}let ih=(()=>{class v extends Kc{constructor(p,I,V,X,$e){super(p,I,X,$e),this.provider=V,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,u.Z)(function*(){const I=yield p.execute();return ae(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,u.Z)(function*(){Qe(1===p.filter.length,"Popup operations only handle one event");const I=xa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(V=>{p.reject(V)}),p.resolver._isIframeWebStorageSupported(p.auth,V=>{V||p.reject(Ae(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,V;this.pollId=null!==(V=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,mf.get())};p()}}return v.currentPopupAction=null,v})();const _f="pendingRedirect",Yu=new Map;class Og extends Kc{constructor(f,p,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,u.Z)(function*(){let I=Yu.get(p.auth._key());if(!I){try{const X=(yield function Ng(v,f){return Ku.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;I=()=>Promise.resolve(X)}catch(V){I=()=>Promise.reject(V)}Yu.set(p.auth._key(),I)}return p.bypassAuthState||Yu.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,I=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(I,f);if("unknown"!==f.type){if(f.eventId){const V=yield I.auth._redirectUserForId(f.eventId);if(V)return I.user=V,p().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Ku(){return(Ku=(0,u.Z)(function*(v,f){const p=mi(f),I=tu(v);if(!(yield I._isAvailable()))return!1;const V="true"===(yield I._get(p));return yield I._remove(p),V})).apply(this,arguments)}function ka(v,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(v,f){return tu(v)._set(mi(f),"true")})).apply(this,arguments)}function Fs(v,f){Yu.set(v._key(),f)}function tu(v){return Rn(v._redirectPersistence)}function mi(v){return pr(_f,v.config.apiKey,v.name)}function Zu(v,f,p){return function _o(v,f,p){return Jr.apply(this,arguments)}(v,f,p)}function Jr(){return(Jr=(0,u.Z)(function*(v,f,p){const I=dr(v);z(v,f,Mi),yield I._initializationPromise;const V=da(I,p);return yield ka(V,I),V._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function Zs(v,f,p){return function nu(v,f,p){return ho.apply(this,arguments)}(v,f,p)}function ho(){return(ho=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v);z(I.auth,f,Mi),yield I.auth._initializationPromise;const V=da(I.auth,p);yield ka(V,I.auth);const X=yield ru(I);return V._openRedirect(I.auth,f,"reauthViaRedirect",X)})).apply(this,arguments)}function Zc(v,f,p){return function yf(v,f,p){return xi.apply(this,arguments)}(v,f,p)}function xi(){return(xi=(0,u.Z)(function*(v,f,p){const I=(0,Y.m9)(v);z(I.auth,f,Mi),yield I.auth._initializationPromise;const V=da(I.auth,p);yield de(!1,I,f.providerId),yield ka(V,I.auth);const X=yield ru(I);return V._openRedirect(I.auth,f,"linkViaRedirect",X)})).apply(this,arguments)}function fa(){return(fa=(0,u.Z)(function*(v,f){return yield dr(v)._initializationPromise,vi(v,f,!1)})).apply(this,arguments)}function vi(v,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(v,f,p=!1){const I=dr(v),V=da(I,f),$e=yield new Og(I,V,p).execute();return $e&&!p&&(delete $e.user._redirectEventId,yield I._persistUserIfCurrent($e.user),yield I._setRedirectUser(null,f)),$e})).apply(this,arguments)}function ru(v){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(v){const f=xa(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Xu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(p=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ju(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fa(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var I;if(f.error&&!Fa(f)){const V=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(Ae(this.auth,V))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const I=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wo(f))}saveEventToCache(f){this.cachedEventUids.add(Wo(f)),this.lastProcessedEventTime=Date.now()}}function Wo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Fa({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function pa(v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(v,f={}){return Ke(v,"GET","/v1/projects",f)})).apply(this,arguments)}const ga=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_i=/^https?/;function La(){return(La=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield pa(v);for(const p of f)try{if(ec(p))return}catch{}Re(v,"unauthorized-domain")})).apply(this,arguments)}function ec(v){const f=nt(),{protocol:p,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const $e=new URL(v);return""===$e.hostname&&""===I?"chrome-extension:"===p&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&$e.hostname===I}if(!_i.test(p))return!1;if(ga.test(v))return I===v;const V=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(I)}const Qc=new be(3e4,6e4);function Va(){const v=Zi().___jsl;if(null!=v&&v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let ys=null;const Al=new be(5e3,15e3),nc="__/auth/iframe",Sl="emulator/auth/iframe",Rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kg(v){const f=v.config;ae(f.authDomain,v,"auth-domain-config-required");const p=f.emulator?De(f,Sl):`https://${v.config.authDomain}/${nc}`,I={apiKey:f.apiKey,appName:v.name,v:ne.SDK_VERSION},V=qv.get(v.config.apiHost);V&&(I.eid=V);const X=v._getFrameworks();return X.length&&(I.fw=X.join(",")),`${p}?${(0,Y.xO)(I).slice(1)}`}function sh(){return sh=(0,u.Z)(function*(v){const f=yield function bl(v){return ys=ys||function tc(v){return new Promise((f,p)=>{var I,V,X;function $e(){Va(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Va(),p(Ae(v,"network-request-failed"))},timeout:Qc.get()})}if(null!==(V=null===(I=Zi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==V&&V.Iframe)f(gapi.iframes.getContext());else{if(null===(X=Zi().gapi)||void 0===X||!X.load){const ft=nn("iframefcb");return Zi()[ft]=()=>{gapi.load?$e():p(Ae(v,"network-request-failed"))},ie(`${function zt(){return ve.gapiScript}()}?onload=${ft}`).catch(kt=>p(kt))}$e()}}).catch(f=>{throw ys=null,f})}(v),ys}(v),p=Zi().gapi;return ae(p,v,"internal-error"),f.open({where:document.body,url:kg(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rl,dontclear:!0},I=>new Promise(function(){var V=(0,u.Z)(function*(X,$e){yield I.restyle({setHideOnLeave:!1});const ft=Ae(v,"network-request-failed"),kt=Zi().setTimeout(()=>{$e(ft)},Al.get());function _n(){Zi().clearTimeout(kt),X(I)}I.ping(_n).then(_n,()=>{$e(ft)})});return function(X,$e){return V.apply(this,arguments)}}()))}),sh.apply(this,arguments)}const Bo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ah{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ef="__/auth/handler",Er="emulator/auth/handler",ri=encodeURIComponent("fac");function Xi(v,f,p,I,V,X){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(v,f,p,I,V,X){ae(v.config.authDomain,v,"auth-domain-config-required"),ae(v.config.apiKey,v,"invalid-api-key");const $e={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:I,v:ne.SDK_VERSION,eventId:V};if(f instanceof Mi){f.setDefaultLanguage(v.languageCode),$e.providerId=f.providerId||"",(0,Y.xb)(f.getCustomParameters())||($e.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Sn,Dn]of Object.entries(X||{}))$e[Sn]=Dn}if(f instanceof wo){const Sn=f.getScopes().filter(Dn=>""!==Dn);Sn.length>0&&($e.scopes=Sn.join(","))}v.tenantId&&($e.tid=v.tenantId);const ft=$e;for(const Sn of Object.keys(ft))void 0===ft[Sn]&&delete ft[Sn];const kt=yield v._getAppCheckToken(),_n=kt?`#${ri}=${encodeURIComponent(kt)}`:"";return`${function Xc({config:v}){return v.emulator?De(v,Er):`https://${v.authDomain}/${Ef}`}(v)}?${(0,Y.xO)(ft).slice(1)}${_n}`})).apply(this,arguments)}const xl="webStorageSupport",ic=class iu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=vi,this._overrideRedirectResult=Fs}_openPopup(f,p,I,V){var X=this;return(0,u.Z)(function*(){var $e;Qe(null===($e=X.eventManagers[f._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const ft=yield Xi(f,p,I,nt(),V);return function rc(v,f,p,I=500,V=600){const X=Math.max((window.screen.availHeight-V)/2,0).toString(),$e=Math.max((window.screen.availWidth-I)/2,0).toString();let ft="";const kt=Object.assign(Object.assign({},Bo),{width:I.toString(),height:V.toString(),top:X,left:$e}),_n=(0,Y.z$)().toLowerCase();p&&(ft=Si(_n)?"_blank":p),Ai(_n)&&(f=f||"http://localhost",kt.scrollbars="yes");const Sn=Object.entries(kt).reduce((Fr,[yo,pu])=>`${Fr}${yo}=${pu},`,"");if(function qn(v=(0,Y.z$)()){var f;return Ut(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(_n)&&"_self"!==ft)return function fo(v,f){const p=document.createElement("a");p.href=v,p.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(f||"",ft),new ah(null);const Dn=window.open(f||"",ft,Sn);ae(Dn,v,"popup-blocked");try{Dn.focus()}catch{}return new ah(Dn)}(f,ft,xa())})()}_openRedirect(f,p,I,V){var X=this;return(0,u.Z)(function*(){return yield X._originValidation(f),function Jd(v){Zi().location.href=v}(yield Xi(f,p,I,nt(),V)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:V,promise:X}=this.eventManagers[p];return V?Promise.resolve(V):(Qe(X,"If manager is not set, promise should be"),X)}const I=this.initAndGetManager(f);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(f){var p=this;return(0,u.Z)(function*(){const I=yield function Fg(v){return sh.apply(this,arguments)}(f),V=new Xu(f);return I.register("authEvent",X=>(ae(null==X?void 0:X.authEvent,f,"invalid-auth-event"),{status:V.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:V},p.iframes[f._key()]=I,V})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(xl,{type:xl},V=>{var X;const $e=null===(X=null==V?void 0:V[0])||void 0===X?void 0:X[xl];void 0!==$e&&p(!!$e),Re(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function If(v){return La.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return _r()||qr()||Ut()}};class Vg{constructor(f){this.factorId=f}_process(f,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,I);case"signin":return this._finalizeSignIn(f,p.credential);default:return W("unexpected MultiFactorSessionType")}}}class oc extends Vg{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new oc(f)}_finalizeEnroll(f,p,I){return function Xa(v,f){return Ke(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(v,f))}(f,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function D(v,f){return Ke(v,"POST","/v2/accounts/mfaSignIn:finalize",Ce(v,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yv=(()=>{class v{constructor(){}static assertion(p){return oc._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var Jc="@firebase/auth";class Bg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,u.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(I=>{f((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qo(){return window}(0,Y.Pz)("authIdTokenMaxAge"),function H(v){ve=v}({loadJS:v=>new Promise((f,p)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=V=>{const X=Ae("internal-error");X.customData=V,p(X)},I.type="text/javascript",I.charset="UTF-8",function lc(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function uh(v){(0,ne._registerComponent)(new ue.wA("auth",(f,{options:p})=>{const I=f.getProvider("app").getImmediate(),V=f.getProvider("heartbeat"),X=f.getProvider("app-check-internal"),{apiKey:$e,authDomain:ft}=I.options;ae($e&&!$e.includes(":"),"invalid-api-key",{appName:I.name});const kt={apiKey:$e,authDomain:ft,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ri(v)},_n=new er(I,V,X,kt);return function xt(v,f){const p=(null==f?void 0:f.persistence)||[],I=(Array.isArray(p)?p:[p]).map(Rn);null!=f&&f.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,null==f?void 0:f.popupRedirectResolver)}(_n,p),_n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,I)=>{f.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new ue.wA("auth-internal",f=>{const p=dr(f.getProvider("auth").getImmediate());return new Bg(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(Jc,"1.6.0",function $g(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,ne.registerVersion)(Jc,"1.6.0","esm2017")}("Browser");function cc(){return cc=(0,u.Z)(function*(v,f,p){var I;const{BuildInfo:V}=qo();Qe(f.sessionId,"AuthEvent did not contain a session ID");const X=yield function $a(v){return ed.apply(this,arguments)}(f.sessionId),$e={};return Ut()?$e.ibi=V.packageName:ut()?$e.apn=V.packageName:Re(v,"operation-not-supported-in-this-environment"),V.displayName&&($e.appDisplayName=V.displayName),$e.sessionId=X,Xi(v,p,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,$e)}),cc.apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(v){const{BuildInfo:f}=qo(),p={};Ut()?p.iosBundleId=f.packageName:ut()?p.androidPackageName=f.packageName:Re(v,"operation-not-supported-in-this-environment"),yield pa(v,p)})).apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(v,f,p){const{cordova:I}=qo();let V=()=>{};try{yield new Promise((X,$e)=>{let ft=null;function kt(){var Dn;X();const Fr=null===(Dn=I.plugins.browsertab)||void 0===Dn?void 0:Dn.close;"function"==typeof Fr&&Fr(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function _n(){ft||(ft=window.setTimeout(()=>{$e(Ae(v,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&_n()}f.addPassiveListener(kt),document.addEventListener("resume",_n,!1),ut()&&document.addEventListener("visibilitychange",Sn,!1),V=()=>{f.removePassiveListener(kt),document.removeEventListener("resume",_n,!1),document.removeEventListener("visibilitychange",Sn,!1),ft&&window.clearTimeout(ft)}})}finally{V()}})).apply(this,arguments)}function ed(){return(ed=(0,u.Z)(function*(v){const f=function fc(v){if(Qe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),p=new Uint8Array(f);for(let I=0;I<v.length;I++)p[I]=v.charCodeAt(I);return p}(v),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Tf extends Xu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function va(v){return ch.apply(this,arguments)}function ch(){return(ch=(0,u.Z)(function*(v){const f=yield Ua()._get(Fl(v));return f&&(yield Ua()._remove(Fl(v))),f})).apply(this,arguments)}function dh(){const v=[];for(let p=0;p<20;p++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function Ua(){return Rn(Ft)}function Fl(v){return pr("authEvent",v.config.apiKey,v.name)}function ja(v){if(null==v||!v.includes("?"))return{};const[f,...p]=v.split("?");return(0,Y.zd)(p.join("?"))}const mr=class td{constructor(){this._redirectPersistence=ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vi,this._overrideRedirectResult=Fs}_initialize(f){var p=this;return(0,u.Z)(function*(){const I=f._key();let V=p.eventManagers.get(I);return V||(V=new Tf(f),p.eventManagers.set(I,V),p.attachCallbackListeners(f,V)),V})()}_openPopup(f){Re(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,I,V){var X=this;return(0,u.Z)(function*(){!function Ba(v){var f,p,I,V,X,$e,ft,kt,_n,Sn;const Dn=qo();ae("function"==typeof(null===(f=null==Dn?void 0:Dn.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(p=null==Dn?void 0:Dn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(X=null===(V=null===(I=null==Dn?void 0:Dn.cordova)||void 0===I?void 0:I.plugins)||void 0===V?void 0:V.browsertab)||void 0===X?void 0:X.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(kt=null===(ft=null===($e=null==Dn?void 0:Dn.cordova)||void 0===$e?void 0:$e.plugins)||void 0===ft?void 0:ft.browsertab)||void 0===kt?void 0:kt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(Sn=null===(_n=null==Dn?void 0:Dn.cordova)||void 0===_n?void 0:_n.InAppBrowser)||void 0===Sn?void 0:Sn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const $e=yield X._initialize(f);yield $e.initialized(),$e.resetRedirect(),function eu(){Yu.clear()}(),yield X._originValidation(f);const ft=function jg(v,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:dh(),postBody:null,tenantId:v.tenantId,error:Ae(v,"no-auth-event")}}(f,I,V);yield function Hg(v,f){return Ua()._set(Fl(v),f)}(f,ft);const kt=yield function ou(v,f,p){return cc.apply(this,arguments)}(f,ft,p),_n=yield function $o(v){const{cordova:f}=qo();return new Promise(p=>{f.plugins.browsertab.isAvailable(I=>{let V=null;I?f.plugins.browsertab.openUrl(v):V=f.InAppBrowser.open(v,function An(v=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(V)})})}(kt);return function Df(v,f,p){return hc.apply(this,arguments)}(f,$e,_n)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function dc(v){return Qs.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:I,handleOpenURL:V,BuildInfo:X}=qo(),$e=setTimeout((0,u.Z)(function*(){yield va(f),p.onEvent(nd())}),500),ft=function(){var Sn=(0,u.Z)(function*(Dn){clearTimeout($e);const Fr=yield va(f);let yo=null;Fr&&null!=Dn&&Dn.url&&(yo=function so(v,f){var p,I;const V=function wf(v){const f=ja(v),p=f.link?decodeURIComponent(f.link):void 0,I=ja(p).link,V=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ja(V).link||V||I||p||v}(f);if(V.includes("/__/auth/callback")){const X=ja(V),$e=X.firebaseError?function Bs(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(X.firebaseError)):null,ft=null===(I=null===(p=null==$e?void 0:$e.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],kt=ft?Ae(ft):null;return kt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:V,postBody:null}}return null}(Fr,Dn.url)),p.onEvent(yo||nd())});return function(Fr){return Sn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,ft);const kt=V,_n=`${X.packageName.toLowerCase()}://`;qo().handleOpenURL=function(){var Sn=(0,u.Z)(function*(Dn){if(Dn.toLowerCase().startsWith(_n)&&ft({url:Dn}),"function"==typeof kt)try{kt(Dn)}catch(Fr){console.error(Fr)}});return function(Dn){return Sn.apply(this,arguments)}}()}};function nd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}function is(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function id(v=(0,Y.z$)()){return!("file:"!==is()&&"ionic:"!==is()&&"capacitor:"!==is()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Po(){try{const v=self.localStorage,f=xa();if(v)return v.setItem(f,"1"),v.removeItem(f),!function gc(v=(0,Y.z$)()){return function au(){return(0,Y.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ha(v=(0,Y.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,Y.hl)()}catch{return za()&&(0,Y.hl)()}return!1}function za(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _a(){return(function zg(){return"http:"===is()||"https:"===is()}()||(0,Y.ru)()||id())&&!function pc(){return(0,Y.b$)()||(0,Y.UG)()}()&&Po()&&!za()}function gh(){return id()&&typeof document<"u"}function nl(){return(nl=(0,u.Z)(function*(){return!!gh()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const Is={LOCAL:"local",NONE:"none",SESSION:"session"},di=ae,mc="persistence";function od(v){return vc.apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(v){yield v._initializationPromise;const f=Sf(),p=pr(mc,v.config.apiKey,v.name);f&&f.setItem(p,v._getPersistence())})).apply(this,arguments)}function Sf(){var v;try{return(null===(v=function lu(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Rf=ae;class os{constructor(){this.browserResolver=Rn(ic),this.cordovaResolver=Rn(mr),this.underlyingResolver=null,this._redirectPersistence=ms,this._completeRedirectFn=vi,this._overrideRedirectResult=Fs}_initialize(f){var p=this;return(0,u.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,I,V){var X=this;return(0,u.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openPopup(f,p,I,V)})()}_openRedirect(f,p,I,V){var X=this;return(0,u.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openRedirect(f,p,I,V)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return gh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Af(){return nl.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function ya(v){return v.unwrap()}function Mf(v){return du(v)}function du(v){const{_tokenResponse:f}=v instanceof Y.ZR?v.customData:v;if(!f)return null;if(!(v instanceof Y.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Dl.credentialFromResult(v);const p=f.providerId;if(!p||p===je.PASSWORD)return null;let I;switch(p){case je.GOOGLE:I=ba;break;case je.FACEBOOK:I=wa;break;case je.GITHUB:I=ra;break;case je.TWITTER:I=Yn;break;default:const{oauthIdToken:V,oauthAccessToken:X,oauthTokenSecret:$e,pendingToken:ft,nonce:kt}=f;return X||$e||V||ft?ft?p.startsWith("saml.")?es._create(p,ft):Eo._fromParams({providerId:p,signInMethod:p,pendingToken:ft,idToken:V,accessToken:X}):new Hi(p).credential({idToken:V,accessToken:X,rawNonce:kt}):null}return v instanceof Y.ZR?I.credentialFromError(v):I.credentialFromResult(v)}function xo(v,f){return f.catch(p=>{throw p instanceof Y.ZR&&function Pf(v,f){var p;const I=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new _c(v,function Qa(v,f){var p;const I=(0,Y.m9)(v),V=f;return ae(f.customData.operationType,I,"argument-error"),ae(null===(p=V.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),xs._fromError(I,V)}(v,f));else if(I){const V=du(f),X=f;V&&(X.credential=V,X.tenantId=I.tenantId||void 0,X.email=I.email||void 0,X.phoneNumber=I.phoneNumber||void 0)}}(v,p),p}).then(p=>{const V=p.user;return{operationType:p.operationType,credential:Mf(p),additionalUserInfo:rs(p),user:jo.getOrCreate(V)}})}function hu(v,f){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(v,f){const p=yield f;return{verificationId:p.verificationId,confirm:I=>xo(v,p.confirm(I))}})).apply(this,arguments)}class _c{constructor(f,p){this.resolver=p,this.auth=function mh(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return xo(ya(this.auth),this.resolver.resolveSignIn(f))}}class jo{constructor(f){this._delegate=f,this.multiFactor=function Ro(v){const f=(0,Y.m9)(v);return pi.has(f)||pi.set(f,Wt._fromUser(f)),pi.get(f)}(f)}static getOrCreate(f){return jo.USER_MAP.has(f)||jo.USER_MAP.set(f,new jo(f)),jo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,u.Z)(function*(){return xo(p.auth,Rs(p._delegate,f))})()}linkWithPhoneNumber(f,p){var I=this;return(0,u.Z)(function*(){return hu(I.auth,function io(v,f,p){return ca.apply(this,arguments)}(I._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,u.Z)(function*(){return xo(p.auth,function xg(v,f,p){return qu.apply(this,arguments)}(p._delegate,f,os))})()}linkWithRedirect(f){var p=this;return(0,u.Z)(function*(){return yield od(dr(p.auth)),Zc(p._delegate,f,os)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,u.Z)(function*(){return xo(p.auth,Go(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return hu(this.auth,function Ir(v,f,p){return nh.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return xo(this.auth,function Jl(v,f,p){return Tl.apply(this,arguments)}(this._delegate,f,os))}reauthenticateWithRedirect(f){var p=this;return(0,u.Z)(function*(){return yield od(dr(p.auth)),Zs(p._delegate,f,os)})()}sendEmailVerification(f){return function Ee(v,f){return O.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,u.Z)(function*(){return yield function B(v,f){return A.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Tr(v,f){return Nr((0,Y.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function Un(v,f){return Nr((0,Y.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function gf(v,f){return Cl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function In(v,f){return or.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function re(v,f,p){return Se.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jo.USER_MAP=new WeakMap;const rl=ae;let zi=(()=>{class v{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=p.options;rl(V,"invalid-api-key",{appName:p.name}),rl(V,"invalid-api-key",{appName:p.name});const X=typeof window<"u"?os:void 0;this._delegate=I.initialize({options:{persistence:xf(V,p.name),popupRedirectResolver:X}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function Gt(v,f,p){const I=dr(v);ae(I._canInitEmulator,I,"emulator-config-failed"),ae(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const V=!(null==p||!p.disableWarnings),X=jt(f),{host:$e,port:ft}=function Ot(v){const f=jt(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(I);if(V){const X=V[1];return{host:X,port:Jt(I.substr(X.length+1))}}{const[X,$e]=I.split(":");return{host:X,port:Jt($e)}}}(f);I.config.emulator={url:`${X}//${$e}${null===ft?"":`:${ft}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:$e,port:ft,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function pn(){function v(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,I)}applyActionCode(p){return function Ci(v,f){return Aa.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return li(this._delegate,p)}confirmPasswordReset(p,I){return function Za(v,f,p){return ts.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var V=this;return(0,u.Z)(function*(){return xo(V._delegate,function Sa(v,f,p){return Ao.apply(this,arguments)}(V._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function w(v,f){return F.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function fs(v,f){const p=zo.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,u.Z)(function*(){rl(_a(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function oh(v,f){return fa.apply(this,arguments)}(p._delegate,os);return I?xo(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function hh(v,f){dr(v)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,I,V){const{next:X,error:$e,complete:ft}=Ar(p,I,V);return this._delegate.onAuthStateChanged(X,$e,ft)}onIdTokenChanged(p,I,V){const{next:X,error:$e,complete:ft}=Ar(p,I,V);return this._delegate.onIdTokenChanged(X,$e,ft)}sendSignInLinkToEmail(p,I){return function $u(v,f,p){return yl.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function sa(v,f,p){return co.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,u.Z)(function*(){let V;switch(function uu(v,f){di(Object.values(Is).includes(f),v,"invalid-persistence-type"),(0,Y.b$)()?di(f!==Is.SESSION,v,"unsupported-persistence-type"):(0,Y.UG)()?di(f===Is.NONE,v,"unsupported-persistence-type"):za()?di(f===Is.NONE||f===Is.LOCAL&&(0,Y.hl)(),v,"unsupported-persistence-type"):di(f===Is.NONE||Po(),v,"unsupported-persistence-type")}(I._delegate,p),p){case Is.SESSION:V=ms;break;case Is.LOCAL:V=(yield Rn(C)._isAvailable())?C:Ft;break;case Is.NONE:V=Mr;break;default:return Re("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return xo(this._delegate,function Ss(v){return ia.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return xo(this._delegate,Ei(this._delegate,p))}signInWithCustomToken(p){return xo(this._delegate,function Ki(v,f){return no.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return xo(this._delegate,function Ra(v,f,p){return Ei((0,Y.m9)(v),bs.credential(f,p)).catch(function(){var I=(0,u.Z)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&Gn(v),V});return function(V){return I.apply(this,arguments)}}())}(this._delegate,p,I))}signInWithEmailLink(p,I){return xo(this._delegate,function Uu(v,f,p){return Il.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return hu(this._delegate,function Qi(v,f,p){return El.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,u.Z)(function*(){return rl(_a(),I._delegate,"operation-not-supported-in-this-environment"),xo(I._delegate,function vf(v,f,p){return rh.apply(this,arguments)}(I._delegate,p,os))})()}signInWithRedirect(p){var I=this;return(0,u.Z)(function*(){return rl(_a(),I._delegate,"operation-not-supported-in-this-environment"),yield od(I._delegate),Zu(I._delegate,p,os)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function _l(v,f){return ns.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Is,v})();function Ar(v,f,p){let I=v;"function"!=typeof v&&({next:I,error:f,complete:p}=v);const V=I;return{next:$e=>V($e&&jo.getOrCreate($e)),error:f,complete:p}}function xf(v,f){const p=function cu(v,f){const p=Sf();if(!p)return[];const I=pr(mc,v,f);switch(p.getItem(I)){case Is.NONE:return[Mr];case Is.LOCAL:return[C,ms];case Is.SESSION:return[ms];default:return[]}}(v,f);if(typeof self<"u"&&!p.includes(C)&&p.push(C),typeof window<"u")for(const I of[Ft,ms])p.includes(I)||p.push(I);return p.includes(Mr)||p.push(Mr),p}class sd{constructor(){this.providerId="phone",this._delegate=new Dl(ya(k.Z.auth()))}static credential(f,p){return Dl.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}sd.PHONE_SIGN_IN_METHOD=Dl.PHONE_SIGN_IN_METHOD,sd.PROVIDER_ID=Dl.PROVIDER_ID;const fu=ae;class Of{constructor(f,p,I=k.Z.app()){var V;fu(null===(V=I.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new ua(I.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vh(v){v.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new zi(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bs,FacebookAuthProvider:wa,GithubAuthProvider:ra,GoogleAuthProvider:ba,OAuthProvider:Hi,SAMLAuthProvider:As,PhoneAuthProvider:sd,PhoneMultiFactorGenerator:Yv,RecaptchaVerifier:Of,TwitterAuthProvider:Yn,Auth:zi,AuthCredential:hn,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.2")}(k.Z)},5861:(Yt,et,N)=>{"use strict";function u(Y,ne,Te,fe,ue,Ue,je){try{var _e=Y[Ue](je),se=_e.value}catch(Me){return void Te(Me)}_e.done?ne(se):Promise.resolve(se).then(fe,ue)}function k(Y){return function(){var ne=this,Te=arguments;return new Promise(function(fe,ue){var Ue=Y.apply(ne,Te);function je(se){u(Ue,fe,ue,je,_e,"next",se)}function _e(se){u(Ue,fe,ue,je,_e,"throw",se)}je(void 0)})}}N.d(et,{Z:()=>k})},1180:(Yt,et,N)=>{"use strict";function u(Te){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(Te)}function ne(Te,fe,ue){return(fe=function Y(Te){var fe=function k(Te,fe){if("object"!=u(Te)||!Te)return Te;var ue=Te[Symbol.toPrimitive];if(void 0!==ue){var Ue=ue.call(Te,fe||"default");if("object"!=u(Ue))return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===fe?String:Number)(Te)}(Te,"string");return"symbol"==u(fe)?fe:String(fe)}(fe))in Te?Object.defineProperty(Te,fe,{value:ue,enumerable:!0,configurable:!0,writable:!0}):Te[fe]=ue,Te}N.d(et,{Z:()=>ne})},7582:(Yt,et,N)=>{"use strict";function ne(De,J){var ge={};for(var Be in De)Object.prototype.hasOwnProperty.call(De,Be)&&J.indexOf(Be)<0&&(ge[Be]=De[Be]);if(null!=De&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(Be=Object.getOwnPropertySymbols(De);Ce<Be.length;Ce++)J.indexOf(Be[Ce])<0&&Object.prototype.propertyIsEnumerable.call(De,Be[Ce])&&(ge[Be[Ce]]=De[Be[Ce]])}return ge}function Te(De,J,ge,Be){var wt,Ce=arguments.length,Ke=Ce<3?J:null===Be?Be=Object.getOwnPropertyDescriptor(J,ge):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(De,J,ge,Be);else for(var St=De.length-1;St>=0;St--)(wt=De[St])&&(Ke=(Ce<3?wt(Ke):Ce>3?wt(J,ge,Ke):wt(J,ge))||Ke);return Ce>3&&Ke&&Object.defineProperty(J,ge,Ke),Ke}function Me(De,J,ge,Be){return new(ge||(ge=Promise))(function(Ke,wt){function St(Zt){try{at(Be.next(Zt))}catch(an){wt(an)}}function Mt(Zt){try{at(Be.throw(Zt))}catch(an){wt(an)}}function at(Zt){Zt.done?Ke(Zt.value):function Ce(Ke){return Ke instanceof ge?Ke:new ge(function(wt){wt(Ke)})}(Zt.value).then(St,Mt)}at((Be=Be.apply(De,J||[])).next())})}function ze(De){return this instanceof ze?(this.v=De,this):new ze(De)}function Re(De,J,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,Be=ge.apply(De,J||[]),Ke=[];return Ce={},wt("next"),wt("throw"),wt("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function wt(mt){Be[mt]&&(Ce[mt]=function(ht){return new Promise(function(ct,bt){Ke.push([mt,ht,ct,bt])>1||St(mt,ht)})})}function St(mt,ht){try{!function Mt(mt){mt.value instanceof ze?Promise.resolve(mt.value.v).then(at,Zt):an(Ke[0][2],mt)}(Be[mt](ht))}catch(ct){an(Ke[0][3],ct)}}function at(mt){St("next",mt)}function Zt(mt){St("throw",mt)}function an(mt,ht){mt(ht),Ke.shift(),Ke.length&&St(Ke[0][0],Ke[0][1])}}function Je(De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,J=De[Symbol.asyncIterator];return J?J.call(De):(De=function it(De){var J="function"==typeof Symbol&&Symbol.iterator,ge=J&&De[J],Be=0;if(ge)return ge.call(De);if(De&&"number"==typeof De.length)return{next:function(){return De&&Be>=De.length&&(De=void 0),{value:De&&De[Be++],done:!De}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(De),ge={},Be("next"),Be("throw"),Be("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Be(Ke){ge[Ke]=De[Ke]&&function(wt){return new Promise(function(St,Mt){!function Ce(Ke,wt,St,Mt){Promise.resolve(Mt).then(function(at){Ke({value:at,done:St})},wt)}(St,Mt,(wt=De[Ke](wt)).done,wt.value)})}}}N.d(et,{FC:()=>Re,KL:()=>Je,_T:()=>ne,gn:()=>Te,mG:()=>Me,qq:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},Yt=>{Yt(Yt.s=7699)}]);